{
"bugs": [
{
"date_closed": "2011-11-01T17:10:36.007968+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-23T14:31:40.672252+00:00", 
"bug_id": 819421, 
"date_in_progress": "2011-08-23T14:31:40.672252+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1339\n\nThis is affecting at least pt-kill, resulting in replication threads being killed (reported but unconfirmed).", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819421/related_tasks", 
"date_assigned": "2011-08-01T17:20:36.723101+00:00", 
"bug_information_type": "Public", 
"bug_title": "MasterSlave::is_replication_thread() doesn't match all", 
"title": "Bug #819421 in Percona Toolkit: \"MasterSlave::is_replication_thread() doesn't match all\"", 
"date_confirmed": "2011-08-23T14:31:40.672252+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/819421", 
"date_left_new": "2011-08-22T16:47:23.740926+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/819421", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"f664a7b7e1f3c50cb74a254a4bbb5ceba0206138-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": "2011-08-23T14:31:40.672252+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2011-08-23T14:31:40.672252+00:00", 
"date_fix_released": "2011-11-01T17:10:36.007968+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819421", 
"date_created": "2011-08-01T17:20:36.126328+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-kill", 
"replication", 
"risk"
]
}, 
{
"date_closed": "2011-11-01T17:11:22.073811+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-22T17:08:36.058902+00:00", 
"bug_id": 821587, 
"date_in_progress": "2011-08-22T17:08:36.058902+00:00", 
"bug_description": "Among other failures:\n\npt-index-usage/save_results.....ok 1/17                                      \n#   Failed test 'Index usage counts'\n#   in pt-index-usage/save_results.t at line 137.\n#     Structures begin differing at:\n#          $got->[0][3] = '2'\n#     $expected->[0][3] = '1'\n\n#   Failed test 'Queries added'\n#   in pt-index-usage/save_results.t at line 144.\n#     Structures begin differing at:\n#          $got->[0][0] = '4950186562421969363'\n#     $expected->[0][0] = '4.95018656242197e+18'\n\n#   Failed test 'Index usage'\n#   in pt-index-usage/save_results.t at line 208.\n#     Structures begin differing at:\n#          $got->[0][0] = '4950186562421969363'\n#     $expected->[0][0] = '4.95018656242197e+18'\n\n#   Failed test 'Index alternatives'\n#   in pt-index-usage/save_results.t at line 219.\n#     Structures begin differing at:\n#          $got->[0] = Does not exist\n#     $expected->[0] = ARRAY(0x8878e6c)\n\nThe excuse is classic but \"nothing changed.\"  It's failing on Maatkit, too, so perhaps nothing really has changed and this failure is inherited.  Nonetheless, it needs to be investigated and fixed.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821587/related_tasks", 
"date_assigned": "2011-08-05T17:15:36.079404+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-index-usage test save_results.t fails", 
"title": "Bug #821587 in Percona Toolkit: \"pt-index-usage test save_results.t fails\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/821587", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821587", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"e9748a0e50af794e744408e93fd02379d75b1213-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-27T18:49:11.909003+00:00", 
"date_fix_released": "2011-11-01T17:11:22.073811+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821587", 
"date_created": "2011-08-05T17:15:35.723576+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-index-usage", 
"test-failure"
]
}, 
{
"date_closed": "2011-11-01T17:11:27.944198+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-27T14:40:47.545487+00:00", 
"bug_id": 821673, 
"date_in_progress": "2011-08-27T14:40:47.545487+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1266\n\nI haven't verified this, but the original issue provides a patch for numeric columns, but char columns are still a problem.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821673/related_tasks", 
"date_assigned": "2011-08-10T17:18:38.094603+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't include --where in min max queries", 
"title": "Bug #821673 in Percona Toolkit: \"pt-table-checksum doesn't include --where in min max queries\"", 
"date_confirmed": "2011-08-27T14:40:47.545487+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821673", 
"date_left_new": "2011-08-27T14:40:47.545487+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821673", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"1e30edbe61303c01c526e1e6e0295a41d2a18acf-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-27T18:31:59.488094+00:00", 
"date_fix_released": "2011-11-01T17:11:27.944198+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821673", 
"date_created": "2011-08-05T21:08:53.960118+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2011-11-01T17:11:40.840698+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-12T15:15:04.959846+00:00", 
"bug_id": 823394, 
"date_in_progress": "2011-08-12T15:15:04.959846+00:00", 
"bug_description": "OptionParser pulls --version from package variables that no longer exist, e.g. our $VERSION.  This affects all Perl tools.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823394/related_tasks", 
"date_assigned": "2011-08-09T16:33:24.906014+00:00", 
"bug_information_type": "Public", 
"bug_title": "--version doesn't work", 
"title": "Bug #823394 in Percona Toolkit: \"--version doesn't work\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/823394", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823394", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"c3282b2bb97378ebbc38977e48c91c960f860dc3-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-12T15:15:04.959846+00:00", 
"date_fix_released": "2011-11-01T17:11:40.840698+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823394", 
"date_created": "2011-08-09T16:33:24.553565+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-11-01T17:11:45.712381+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-11T22:21:18.380266+00:00", 
"bug_id": 824717, 
"date_in_progress": "2011-08-11T22:21:18.380266+00:00", 
"bug_description": "pt-sift doesn't run because main() is not executed. \n\nYou need to change sift to pt-sift:\n\nif [ \"$(basename \"$0\")\" = \"sift\" ] || [ \"$(basename \"$0\")\" = \"bash\" -a \"$_\" = \"$0\" ]; then\n    main \"$@\"\nfi", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/824717/related_tasks", 
"date_assigned": "2011-08-11T22:21:11.279823+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift doesn't run", 
"title": "Bug #824717 in Percona Toolkit: \"pt-sift doesn't run\"", 
"date_confirmed": "2011-08-11T22:21:18.380266+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/824717", 
"date_left_new": "2011-08-11T22:21:18.380266+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/824717", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"062e51c7e3fbe456e60c26bfb7cdb64e73bb7338-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-11T22:33:02.252541+00:00", 
"date_fix_released": "2011-11-01T17:11:45.712381+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/824717", 
"date_created": "2011-08-11T18:33:57.856575+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift"
]
}, 
{
"date_closed": "2011-11-01T17:11:50.898855+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-11T22:23:12.678519+00:00", 
"bug_id": 824722, 
"date_in_progress": "2011-08-11T22:23:12.678519+00:00", 
"bug_description": "pt-stalk gives the MYSQLOPTIONS arguments to pt-collect.\n\nHowever, this is wrong at the moment:\n      ${COLLECT} -d \"${DEST}\" -i \"${DURATION}\" -g \"${GDB}\" -o \"${OPROFILE}\" -p \"${PREFIX}\" -s \"${STRACE}\" -t \"${TCPDUMP}\" ${MYSQLOPTIONS} -f \"${PCT_THRESHOLD}\" -m \"${MB_THRESHOLD}\"\n\nit should be:\n \n ${COLLECT} -d \"${DEST}\" -i \"${DURATION}\" -g \"${GDB}\" -o \"${OPROFILE}\" -p \"${PREFIX}\" -s \"${STRACE}\" -t \"${TCPDUMP}\" -f \"${PCT_THRESHOLD}\" -m \"${MB_THRESHOLD}\" -- ${MYSQLOPTIONS}", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/824722/related_tasks", 
"date_assigned": "2011-08-11T22:23:18.241573+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk invokes pt-collect wrong", 
"title": "Bug #824722 in Percona Toolkit: \"pt-stalk invokes pt-collect wrong\"", 
"date_confirmed": "2011-08-11T22:23:12.678519+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/824722", 
"date_left_new": "2011-08-11T22:23:12.678519+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/824722", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"b58994eeef16ee81d11e8126770f51a6f50c326d-36ca303a81fd7a553a817204e0d561ad3f923dcd\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-11T22:33:20.474850+00:00", 
"date_fix_released": "2011-11-01T17:11:50.898855+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/824722", 
"date_created": "2011-08-11T18:47:08.875176+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": "2012-01-06T17:49:52.093330+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-05T18:20:08.026167+00:00", 
"bug_id": 911996, 
"date_in_progress": "2012-01-05T18:20:08.026167+00:00", 
"bug_description": "Version: pt-table-sync 2.0.1\n\nSteps:\n1) Run pt-table-checksum , discover differences exist between master and slave.\n2) pt-table-sync --print --replicate percona.checksums master1  , to find out what it's going to do.\n3) Pops up a bunch of errors of the form:\nUnknown column 'R1992062264' in 'where clause' [for Statement \"SELECT MIN(`docno`), MAX(`docno`) FROM `boc`.`doc` FORCE INDEX (`PRIMARY`) WHERE (((`docno` >= R1992062264)) AND ((`docno` <= R1992112899)))\"] at line 3465 while doing boc.doc on slave1\n\n4) ... ?\nNothing seems to end up being done\n\nMaster1 is running 5.1.58, Master2 is running 5.1.58, slave1 is running 5.1.59.\n\nI presume it's because it's failing to quote the values it's doing a comparison against?  I've confirmed adding ' marks around the values docno is being compared against makes it actually return data.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/911996/related_tasks", 
"date_assigned": "2012-01-05T18:19:46.770150+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync --replicate causes \"Unknown column\" error", 
"title": "Bug #911996 in Percona Toolkit: \"pt-table-sync --replicate causes \"Unknown column\" error\"", 
"date_confirmed": "2012-01-05T18:20:08.026167+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/911996", 
"date_left_new": "2012-01-05T18:20:08.026167+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/911996", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.2", 
"http_etag": "\"98cff9ae87d4a466c0f0f4d31b63549ae7d80bf4-13333effdb4aaac162127d35d1d138da63f51ec0\"", 
"owner_link": "https://api.launchpad.net/devel/~twirrim", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-06T17:49:52.093330+00:00", 
"date_fix_released": "2012-01-06T17:49:52.093330+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/911996", 
"date_created": "2012-01-04T21:23:06.785840+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-sync"
]
}, 
{
"date_closed": "2012-06-19T19:58:26.139745+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-22T17:53:51.779627+00:00", 
"bug_id": 1003014, 
"date_in_progress": "2012-05-22T17:53:51.779627+00:00", 
"bug_description": "In certain cases, pt-table-sync --replicate <table> and/or --sync-to-master throws,\n\n\"Index PRIMARY does not exist in table at pt-table-sync line 9116\"\n\nbut the PRIMARY key _does_ exist.  Internally, the tbl_struct from the previous table is still being used which doesn't have a PK.  Somehow the var isn't being updated from table to table.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003014/related_tasks", 
"date_assigned": "2012-05-22T17:06:20.975362+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync --replicate and --sync-to-master error \"index does not exist\"", 
"title": "Bug #1003014 in Percona Toolkit: \"pt-table-sync --replicate and --sync-to-master error \"index does not exist\"\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1003014", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1003014", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"eaf7e55d33fccb7c5c5c28e7498dc763e7fce42e-faabdf744e5b2c2bceffea2bf9bfdf03b214f42d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-22T17:53:51.779627+00:00", 
"date_fix_released": "2012-06-19T19:58:26.139745+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003014", 
"date_created": "2012-05-22T17:06:20.629508+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"false-positive-error", 
"percona-21967", 
"pt-table-sync", 
"risk"
]
}, 
{
"date_closed": "2012-09-26T21:15:59.381269+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-11T20:51:35.589190+00:00", 
"bug_id": 1017626, 
"date_in_progress": "2012-07-11T20:51:35.589190+00:00", 
"bug_description": "Since Percona XtraDB Cluster is new and different technology, pt-table-checksum needs some fixes to make it work in clustered environments.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1017626/related_tasks", 
"date_assigned": "2012-06-25T18:07:26.666408+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't work with Percona XtraDB Cluster", 
"title": "Bug #1017626 in Percona Toolkit: \"pt-table-checksum doesn't work with Percona XtraDB Cluster\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1017626", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1017626", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"9fbdf5f0c629d69c715c67b94bcb1ed83408bc56-03a1d97943b8a2e0e1601b230da0ba8241a7e98a\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-29T23:04:44.000927+00:00", 
"date_fix_released": "2012-09-26T21:15:59.381269+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1017626", 
"date_created": "2012-06-25T18:07:26.311515+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-server", 
"percona-xtradb-cluster", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-08-10T18:39:00.108924+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-09T17:11:11.068541+00:00", 
"bug_id": 1034818, 
"date_in_progress": "2012-08-09T17:11:11.068541+00:00", 
"bug_description": "I'm running CentOS 6.1.3 and Percona Toolkit 2.1.2. Overnight my box tried to install Percona Toolkit 2.1.3, but failed due to unmet dependencies. These don't exist in any RPM repo on the system (base, cr, extras, epel, percona) or in CPAN.\n\nCan someone shed some light on this?\n\nThanks,\nJonathan\n\n\n/etc/cron.daily/yum-update.bash:\n\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(Mo)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(Diskstats)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(Transformers)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(DiskstatsGroupByDisk)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(DiskstatsGroupByAll)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(AdvisorRules)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(ProtocolParser)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(NibbleIterator)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(ReadKeyMini)\nError: Package: percona-toolkit-2.1.3-1.noarch (percona)\n           Requires: perl(DiskstatsGroupBySample)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034818/related_tasks", 
"date_assigned": "2012-08-09T14:28:10.386532+00:00", 
"bug_information_type": "Public", 
"bug_title": "Percona Toolkit 2.1.3 requires RPM dependencies that don't exist", 
"title": "Bug #1034818 in Percona Toolkit: \"Percona Toolkit 2.1.3 requires RPM dependencies that don't exist\"", 
"date_confirmed": "2012-08-09T11:01:09.600253+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1034818", 
"date_left_new": "2012-08-09T11:01:09.600253+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1034818", 
"milestone_link": null, 
"http_etag": "\"fa7e8f724dc1cda0ad30907cc3ac214b80d93f05-83bfa926d3937f26715bc0d4c28f9fe3b964f0ea\"", 
"owner_link": "https://api.launchpad.net/devel/~y-mo-n", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-10T18:38:11.622276+00:00", 
"date_fix_released": "2012-08-10T18:39:00.108924+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034818", 
"date_created": "2012-08-09T10:05:37.188472+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"release"
]
}, 
{
"date_closed": "2012-09-26T21:16:40.885470+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1039184, 
"date_in_progress": null, 
"bug_description": "If, for example, the right host is 4.1 and the query is \"SELECT @@version_comment\", pt-upgrade throws the error \"I need a right_sth argument\" because 4.1 doesn't have that variable.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039184/related_tasks", 
"date_assigned": "2012-08-20T19:27:30.716808+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade error \"I need a right_sth argument\"", 
"title": "Bug #1039184 in Percona Toolkit: \"pt-upgrade error \"I need a right_sth argument\"\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1039184", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1039184", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"c473f10da345f8e7de48668fba6a5dee109c4385-03a1d97943b8a2e0e1601b230da0ba8241a7e98a\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T16:52:55.243303+00:00", 
"date_fix_released": "2012-09-26T21:16:40.885470+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039184", 
"date_created": "2012-08-20T19:27:30.478175+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"percona-25636", 
"pt-upgrade"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-08T05:52:07.115543+00:00", 
"bug_id": 1062324, 
"date_in_progress": "2012-10-11T19:44:21.087061+00:00", 
"bug_description": "When attempting to change Primary Key + drop old PK column on a table , the DELETE trigger is wrong -- it tries to reference a column in the new table that is no longer there.\n\nCREATE TABLE `t1` (\n  `c1` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n  `c2` bigint(20) unsigned DEFAULT NULL,\n  `c3` binary(20) DEFAULT NULL,\n  PRIMARY KEY (`c1`),\n  UNIQUE KEY `2bpk` (`c2`,`c3`),\n  KEY `c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1\n\npt-online-schema-change --execute --alter \"drop key 2bpk, drop key c3, drop primary key, drop c1, add primary key (c2, c3(4)), add key (c3(4))\"\n\nmichael@ubuntu1204:/data/24252$ mysql test -e \"show triggers from test\\G\"\n*************************** 1. row ***************************\n             Trigger: pt_osc_test_t1_ins\n               Event: INSERT\n               Table: t1\n           Statement: REPLACE INTO `test`.`_t1_new` (`c2`, `c3`) VALUES (NEW.`c2`, NEW.`c3`)\n              Timing: AFTER\n             Created: NULL\n            sql_mode: NO_AUTO_VALUE_ON_ZERO\n             Definer: root@localhost\ncharacter_set_client: latin1\ncollation_connection: latin1_swedish_ci\n  Database Collation: latin1_swedish_ci\n*************************** 2. row ***************************\n             Trigger: pt_osc_test_t1_upd\n               Event: UPDATE\n               Table: t1\n           Statement: REPLACE INTO `test`.`_t1_new` (`c2`, `c3`) VALUES (NEW.`c2`, NEW.`c3`)\n              Timing: AFTER\n             Created: NULL\n            sql_mode: NO_AUTO_VALUE_ON_ZERO\n             Definer: root@localhost\ncharacter_set_client: latin1\ncollation_connection: latin1_swedish_ci\n  Database Collation: latin1_swedish_ci\n*************************** 3. row ***************************\n             Trigger: pt_osc_test_t1_del\n               Event: DELETE\n               Table: t1\n           Statement: DELETE IGNORE FROM `test`.`_t1_new` WHERE `test`.`_t1_new`.`c1` <=> OLD.`c1`\n              Timing: AFTER\n             Created: NULL\n            sql_mode: NO_AUTO_VALUE_ON_ZERO\n             Definer: root@localhost\ncharacter_set_client: latin1\ncollation_connection: latin1_swedish_ci\n  Database Collation: latin1_swedish_ci\n\nA workaround is to process this in two passes of pt-online-schema-change (change PK, drop old PK column). Note addition of index on c1 as it is still AUTO_INCREMENT:\n\npt-online-schema-change --execute --alter \"drop key 2bpk, drop key c3, drop primary key, add primary key (c2, c3(4)), add key (c3(4)), add key (c1)\"\npt-online-schema-change --execute --alter \"drop key c1, drop c1\"\n\nThis was using 2.1.4 .", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1062324/related_tasks", 
"date_assigned": "2012-10-09T16:22:21.879872+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change DELETE trigger fails when altering primary key", 
"title": "Bug #1062324 in Percona Toolkit: \"pt-online-schema-change DELETE trigger fails when altering primary key\"", 
"date_confirmed": "2012-10-08T05:52:07.115543+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1062324", 
"date_left_new": "2012-10-08T05:52:07.115543+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1062324", 
"milestone_link": null, 
"http_etag": "\"380ef0d35694a2161b8e878c57592b8c0c85c738-d5b7a76374b76ccf75c9785b7e4b918ba340609b\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1062324", 
"date_created": "2012-10-05T14:15:01.879424+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"percona-24252", 
"pt-online-schema-change", 
"triggers"
]
}, 
{
"date_closed": "2012-10-11T22:32:48.677116+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1062563, 
"date_in_progress": null, 
"bug_description": "Although v2.1.4 supports Percona XtraDB Cluster, there's a bug that prevents it from detecting diffs on cluster nodes:\n\n         $slave_lag_cxns = $slaves;\n\nshould be\n\n         $slave_lag_cxns = [ map { $_ } @$slaves ];\n\nbecause right after that assignment, cluster nodes are removed from $slave_lag_cxns, and if $slave_lag_cxns is a ref to $slaves, then removing nodes from it removes the nodes from $slaves, too, so the diffs check on $slaves has nothing to check.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1062563/related_tasks", 
"date_assigned": "2012-10-05T21:34:01.569980+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum 2.1.4 doesn't detect diffs on Percona XtraDB Cluster nodes", 
"title": "Bug #1062563 in Percona Toolkit: \"pt-table-checksum 2.1.4 doesn't detect diffs on Percona XtraDB Cluster nodes\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1062563", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1062563", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.5", 
"http_etag": "\"e28c2bd3a2a133db2867dc6a6a7e926ba4be3040-819bd1b0e4f677d5611a81ce5727f276dfa7eed9\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-05T21:58:41.466393+00:00", 
"date_fix_released": "2012-10-11T22:32:48.677116+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1062563", 
"date_created": "2012-10-05T21:33:52.462739+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-xtradb-cluster", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-10-11T22:32:53.883090+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-10-08T18:01:32.475083+00:00", 
"bug_id": 1063912, 
"date_in_progress": "2012-10-08T19:02:54.118316+00:00", 
"bug_description": "Two bugs:\n\ncluster -> PXC-based slave\n\nThe slave is tagged as a cluster node and slave lag isn't checked, even though it was wsrep_on OFF. This is because the code currently just looks for wsrep_on and doesn't check the value.\n\ncluster1 -> cluster2\n\nThe second cluster is a slave of the first, but even if the above bug is fixed, we don't check slave lag because we assume that if wsrep_on is ON, then every cluster node will belong to the same cluster. A good 80% solution is checking that wsrep_cluster_name is the same for both nodes, but that'll still fail for clusters with the same name (i.e., the sandboxes in portable-test-suite as of now).", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063912/related_tasks", 
"date_assigned": "2012-10-08T18:31:52.256929+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum 2.1.4 miscategorizes Percona XtraDB Cluster-based slaves as cluster nodes", 
"title": "Bug #1063912 in Percona Toolkit: \"pt-table-checksum 2.1.4 miscategorizes Percona XtraDB Cluster-based slaves as cluster nodes\"", 
"date_confirmed": "2012-10-08T18:01:32.475083+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1063912", 
"date_left_new": "2012-10-08T18:01:32.475083+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1063912", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.5", 
"http_etag": "\"558f44448d576ff105e9e1783aef80febc431619-517c961cb8a197640c5e43ae3df77b61f410ebc0\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-08T19:02:54.118316+00:00", 
"date_fix_released": "2012-10-11T22:32:53.883090+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063912", 
"date_created": "2012-10-08T16:44:26.546396+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-xtradb-cluster", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-10-11T22:33:00.707143+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Critical", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1064016, 
"date_in_progress": null, 
"bug_description": "Pingback and HTTPMicro weren't updated in pt-table-sync 2.1.4, so it doesn't have the SSL workaround for alt domain/cert names.  Also, VersionCheck wasn't updated, so it's missing some enhancements to getting the OS name/release.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064016/related_tasks", 
"date_assigned": "2012-10-08T19:11:20.539449+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync 2.1.4 --version-check may not work with HTTPS/SSL", 
"title": "Bug #1064016 in Percona Toolkit: \"pt-table-sync 2.1.4 --version-check may not work with HTTPS/SSL\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1064016", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1064016", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.5", 
"http_etag": "\"50268a78b5ee43242ecd52419db7ff793f1e5b3f-819bd1b0e4f677d5611a81ce5727f276dfa7eed9\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-08T19:17:37.543815+00:00", 
"date_fix_released": "2012-10-11T22:33:00.707143+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064016", 
"date_created": "2012-10-08T19:11:19.874247+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-sync", 
"version-check"
]
}, 
{
"date_closed": "2012-01-31T18:40:35.645083+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 819450, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1332", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819450/related_tasks", 
"date_assigned": "2011-08-01T18:22:13.138592+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum crashes if no master DNS specified", 
"title": "Bug #819450 in Percona Toolkit: \"pt-table-checksum crashes if no master DNS specified\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/819450", 
"date_left_new": "2012-01-31T18:40:35.645083+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/819450", 
"milestone_link": null, 
"http_etag": "\"51533c280707b281e430849a3307ff0468864214-99891f0fbbb3a92742e6b7b6551e1d68dd093cfb\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819450", 
"date_created": "2011-08-01T18:22:12.894218+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2011-11-01T17:11:55.041501+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-27T18:41:27.245622+00:00", 
"bug_id": 821688, 
"date_in_progress": "2011-08-27T18:41:27.245622+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1251\n\nThe code does \"SELECT MIN(id), MAX(id) FROM `db`.`table` ORDER BY `id`\" but Baron says:\n\nThe query doesn't really make sense.  MIN() and MAX() will return a single row, so the query is really a GROUP BY over the whole table; therefore ORDER BY is not needed (you can't order a single row).  Is that ORDER BY what's causing the problem?  Otherwise, MIN and MAX from an index should be really fast -- we should see \"SELECT tables optimized away\" in the Extra column of EXPLAIN.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821688/related_tasks", 
"date_assigned": "2011-08-10T17:18:43.622326+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum SELECT MIN MAX for char chunking is wrong", 
"title": "Bug #821688 in Percona Toolkit: \"pt-table-checksum SELECT MIN MAX for char chunking is wrong\"", 
"date_confirmed": "2011-08-27T18:41:27.245622+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821688", 
"date_left_new": "2011-08-27T18:41:27.245622+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821688", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"b1d253fca532bcf62608c09ef652245c79dc7807-49d5246addeb7a0e70d4823e27e95a204204ef12\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-27T18:41:27.245622+00:00", 
"date_fix_released": "2011-11-01T17:11:55.041501+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821688", 
"date_created": "2011-08-05T21:46:21.108353+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"char-chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-01-09T17:59:54.542107+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-11-14T16:34:10.482177+00:00", 
"bug_id": 856065, 
"date_in_progress": "2011-11-14T16:34:10.482177+00:00", 
"bug_description": "Hi Daniel,\n\nIt seems that pt-trend is not handling options properly.\n\n$ pt-trend --help\nOption q does not exist at /usr/bin/pt-trend line 664.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856065/related_tasks", 
"date_assigned": "2011-11-14T16:22:23.268265+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-trend does not work", 
"title": "Bug #856065 in Percona Toolkit: \"pt-trend does not work\"", 
"date_confirmed": "2011-11-01T15:59:35.579309+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/856065", 
"date_left_new": "2011-11-01T15:59:35.579309+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/856065", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"ba47e9822c2f76f32d6c9ab42e15932820a8a8ee-95d145c3eae5c990c7fb973f10f879b8fbdf35b6\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-11-14T16:34:10.482177+00:00", 
"date_fix_released": "2012-01-09T17:59:54.542107+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856065", 
"date_created": "2011-09-22T03:23:14.081888+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-trend"
]
}, 
{
"date_closed": "2012-02-08T15:43:22.746483+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-31T20:09:57.651691+00:00", 
"bug_id": 864199, 
"date_in_progress": "2012-01-31T20:09:57.651691+00:00", 
"bug_description": "I'm running with the following arguments:\n\n--where 'id between 32011427 and 32015242'\n\nI now see the tool doing this:\n\n... FROM .... FORCE INDEX(`PRIMARY`) WHERE ((`id` >= '1419773')) AND ((`id` <= '2106193')) ORDER BY `id` /*nibble*/\n\nThis is a trunk version of pt-table-checksum from the 2.0 branch, but it's a few revisions back and it might even have a few local modifications. The point of this bug report is to ensure that we have tests that verify the tool always respects the where clause. Do we have tests for that?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864199/related_tasks", 
"date_assigned": "2011-12-16T16:58:40.518328+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum ignores --where", 
"title": "Bug #864199 in Percona Toolkit: \"pt-table-checksum ignores --where\"", 
"date_confirmed": "2012-01-31T20:09:57.651691+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/864199", 
"date_left_new": "2012-01-31T20:09:57.651691+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/864199", 
"milestone_link": null, 
"http_etag": "\"13292b642f933f9f053c46199d88afd48659a7aa-faa10927af1c06125134f8becacd04b122601e3c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T20:09:57.651691+00:00", 
"date_fix_released": "2012-02-08T15:43:22.746483+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864199", 
"date_created": "2011-10-01T17:46:36.741700+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-02-08T15:27:02.522653+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-02-01T17:43:06.765712+00:00", 
"bug_id": 871438, 
"date_in_progress": "2012-02-01T17:43:06.765712+00:00", 
"bug_description": "i'm, sorry, these programs are not production safe:\n\npt-diskstats pt-sift pt-summary pt-mysql-summary pt-collect pt-mext\n\nif good old maatkit programs mentioned risks in their manual pages, then these programs do not even mention such risk giving false sense of security to the end user.\n\nthey are using hardcoded filenames in world writable dir (/tmp) and thus are open to symlink attacks\n\npt-summary even considers the risk and does nothing to prevent the symlink attack:\n\n--- CUT ---\n# The temp files are for storing working results so we don't call commands many\n# times (gives inconsistent results, maybe adds load on things I don't want to\n# such as RAID controllers).  They must not exist -- if they did, someone would\n# symlink them to /etc/passwd and then run this program as root.  Call this\n# function with \"rm\" or \"touch\" as an argument.\ntemp_files() {\n   for file in /tmp/percona-toolkit /tmp/percona-toolkit2; do\n      case \"$1\" in\n      touch)\n         if ! touch \"${file}\"; then\n            echo \"I can't make my temp file ${file}\";\n            exit 1;\n         fi\n         ;;\n      rm)\n         rm -f \"${file}\"\n         ;;\n      esac\n   done\n}\n--- CUT ---\n\nif program needs state files with fixed filenames to work, it should then create temporary dir first and place the files there\nor using some other ways to use private dir, i.e let user choose the work dir via some commandline option", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/871438/related_tasks", 
"date_assigned": "2011-10-21T14:01:48.902653+00:00", 
"bug_information_type": "Public Security", 
"bug_title": "Bash tools are insecure", 
"title": "Bug #871438 in Percona Toolkit: \"Bash tools are insecure\"", 
"date_confirmed": "2011-11-21T16:05:10.438035+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/871438", 
"date_left_new": "2011-11-21T16:05:10.438035+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/871438", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"7d92bbb7d6b220ccdee940e221ba915df10cc3bb-a1ae98d72854eef90c6fc0de5cc2fd865caad8d3\"", 
"owner_link": "https://api.launchpad.net/devel/~glen666", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-01T17:43:06.765712+00:00", 
"date_fix_released": "2012-02-08T15:27:02.522653+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/871438", 
"date_created": "2011-10-09T19:44:00.549274+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect", 
"pt-diskstats", 
"pt-mext", 
"pt-mysql-summary", 
"pt-sift", 
"pt-summary", 
"risk"
]
}, 
{
"date_closed": "2012-03-19T16:57:25.584758+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-20T17:26:34.755916+00:00", 
"bug_id": 873598, 
"date_in_progress": "2012-02-20T17:26:34.755916+00:00", 
"bug_description": "Hi, we love pt-online-schema-change (thanks!) but unfortunately one of our tables has a column with a reserved name in it.  Unfortunately, pt-online-schema-change doesn't escape names with backticks, etc, so we can't use the tool for this one really cool online migration we want to do.  Just letting you know -- thanks!", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873598/related_tasks", 
"date_assigned": "2012-02-20T17:26:32.353945+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change doesn't like reserved words in column names", 
"title": "Bug #873598 in Percona Toolkit: \"pt-online-schema-change doesn't like reserved words in column names\"", 
"date_confirmed": "2011-11-21T15:59:27.940121+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/873598", 
"date_left_new": "2011-11-21T15:59:27.940121+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/873598", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"faf47c2fe025ec780c3477093d6d82cf2c21b5d0-d151fc55e520289aa79f67f886238a3d82cec9bd\"", 
"owner_link": "https://api.launchpad.net/devel/~cce", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-21T16:07:08.218933+00:00", 
"date_fix_released": "2012-03-19T16:57:25.584758+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873598", 
"date_created": "2011-10-13T18:58:00.556127+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"ident-quoting", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-01-03T07:59:39.785303+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": "2012-01-03T07:59:39.785303+00:00", 
"bug_id": 884220, 
"date_in_progress": "2012-01-03T07:59:39.785303+00:00", 
"bug_description": "I tried to install percona-toolkit from the apt repositories offered by percona at http://repo.percona.com/apt but found no installable candidate for percona toolkit. maatkit is available though.\n\n\nroot@system:~# apt-cache search percona-toolkit\npercona-toolkit - Advanced MySQL and system command-line tools\nroot@system:~# apt-cache policy percona-toolkit\npercona-toolkit:\n  Installed: 1.0.1\n  Candidate: 1.0.1\n  Version table:\n *** 1.0.1 0\n        100 /var/lib/dpkg/status\n\n\nroot@system:~# apt-cache search maatkit\nmaatkit - Command-line utilities for MySQL\nroot@system:~# apt-cache policy maatkit\nmaatkit:\n  Installed: (none)\n  Candidate: 7284-1\n  Version table:\n     7284-1 0\n        500 http://repo.percona.com/apt/ lucid/main Packages\n     5427-1 0\n        500 http://nl.archive.ubuntu.com/ubuntu/ lucid/universe Packages", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/884220/related_tasks", 
"date_assigned": "2011-12-16T16:49:18.324649+00:00", 
"bug_information_type": "Public", 
"bug_title": "percona toolkit not available in percona repository", 
"title": "Bug #884220 in Percona Toolkit: \"percona toolkit not available in percona repository\"", 
"date_confirmed": "2012-01-03T07:59:39.785303+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/884220", 
"date_left_new": "2012-01-03T07:59:39.785303+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/884220", 
"milestone_link": null, 
"http_etag": "\"c6ea546833c1dd54dc4cdc0271fc9568639b962a-9b8c3a6d8409c2a087af94814c8526c3e708a796\"", 
"owner_link": "https://api.launchpad.net/devel/~hjagteresch", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-03T07:59:39.785303+00:00", 
"date_fix_released": "2012-01-03T07:59:39.785303+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/884220", 
"date_created": "2011-10-31T13:33:39.997795+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"repo"
]
}, 
{
"date_closed": "2011-12-16T16:47:04.411909+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 885430, 
"date_in_progress": null, 
"bug_description": "Embedded attributes (e.g. those extracted from SQL comments) are not updated in the --review-history table even if there's a column for them.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885430/related_tasks", 
"date_assigned": "2011-11-02T21:10:02.069477+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --review-history doesn't update embedded attributes", 
"title": "Bug #885430 in Percona Toolkit: \"pt-query-digest --review-history doesn't update embedded attributes\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/885430", 
"date_left_new": "2011-11-02T21:11:12.881099+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/885430", 
"milestone_link": null, 
"http_etag": "\"36c4813ef21d35079dbeeb6788608d58a1612b48-99891f0fbbb3a92742e6b7b6551e1d68dd093cfb\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885430", 
"date_created": "2011-11-02T21:09:53.700231+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-19683", 
"pt-query-digest", 
"query-review"
]
}, 
{
"date_closed": "2012-01-09T17:59:46.434775+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-11-09T15:21:10.846091+00:00", 
"bug_id": 887688, 
"date_in_progress": "2011-11-09T15:21:10.846091+00:00", 
"bug_description": "Prepared statements can cause pt-query-digest to crash:\n\nPipeline process 5 (iteration) caused an error: Use of uninitialized value in sprintf at 1.0/bin/pt-query-digest line 6922.\nThe pipeline caused an error: Use of uninitialized value in sprintf at 1.0/bin/pt-query-digest line 6922.\n\nThe tool does handle PS in general, but something in my sample file causes this bug in both 1.0 and 2.0.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/887688/related_tasks", 
"date_assigned": "2011-11-08T17:59:39.390578+00:00", 
"bug_information_type": "Public", 
"bug_title": "Prepared statements crash pt-query-digest", 
"title": "Bug #887688 in Percona Toolkit: \"Prepared statements crash pt-query-digest\"", 
"date_confirmed": "2011-11-09T15:21:10.846091+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/887688", 
"date_left_new": "2011-11-09T15:21:10.846091+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/887688", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"fadea4aea286b3b99e65ef14f759650a19728c62-95d145c3eae5c990c7fb973f10f879b8fbdf35b6\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-11-09T15:21:10.846091+00:00", 
"date_fix_released": "2012-01-09T17:59:46.434775+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/887688", 
"date_created": "2011-11-08T17:59:02.113982+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-17851", 
"prep-stmt", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-01-09T18:00:58.558304+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2011-12-28T18:39:39.906341+00:00", 
"bug_id": 888286, 
"date_in_progress": "2011-12-28T18:39:39.906341+00:00", 
"bug_description": "pt-sift is still fetching \"align\" from the Aspersa repository. Instead, align should be added to percona-toolkit, just like its cousin pt-mext was.\n\nHere is the relevant section of pt-sift (fetched from current bzr trunk) \n\n 54    # Aspersa tools:\n 55    for prog in align; do\n...\n 62       elif which \"curl\" >/dev/null 2>&1; then\n 63          echo \"Fetching $prog\" >&2\n 64          curl http://aspersa.googlecode.com/svn/trunk/$prog > \"$prog\" && chmod +x \"$prog\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888286/related_tasks", 
"date_assigned": "2011-12-27T16:20:35.565095+00:00", 
"bug_information_type": "Public", 
"bug_title": "align not part of percona-toolkit", 
"title": "Bug #888286 in Percona Toolkit: \"align not part of percona-toolkit\"", 
"date_confirmed": "2011-12-16T16:41:12.493426+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/888286", 
"date_left_new": "2011-12-16T16:41:12.493426+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/888286", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"bedeee6517b7bf8f6fa32ac47b6ed09125c287f0-4bbe0978aa2b1cb557137c43d8467637d0ba802d\"", 
"owner_link": "https://api.launchpad.net/devel/~devananda", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-28T18:39:39.906341+00:00", 
"date_fix_released": "2012-01-09T18:00:58.558304+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888286", 
"date_created": "2011-11-09T21:03:40.249334+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-02-08T15:26:56.990730+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-01-31T20:38:49.671756+00:00", 
"bug_id": 897758, 
"date_in_progress": "2012-01-31T20:38:49.671756+00:00", 
"bug_description": "- --- ORIGINAL MAIL TO UPSTREAM ---\n\nHi,\n\nI'm experiencing this issue when I try to sync tables using 'pt-table-sync'\n\n\n# DELETE REPLACE INSERT UPDATE ALGORITHM START    END      EXIT DATABASE.TABLE\nFailed to prepare TableSyncChunk plugin: Use of uninitialized value $args{\"chunk_range\"} in lc at\n/usr/bin/pt-table-sync line 3055.  while doing MYDB on MYHOST\n\n\nI've found [0] on Maatkit bugtracker and seems to be the same issue. By applying the patch\nrecommended there, the issue seems to desapear.\n\nSo, can you confirm this issue is present on 'pt-table-sync' or is due to a breakage on my system\n(maybe after upgrading to Perl 5.14) \n\n\nThanks in advance.\n\n\n[0] http://code.google.com/p/maatkit/issues/detail?id=1296\n\n\n- --- /ORIGINAL MAIL TO UPSTREAM ---", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897758/related_tasks", 
"date_assigned": "2012-01-09T15:53:54.162960+00:00", 
"bug_information_type": "Public", 
"bug_title": "Failed to prepare TableSyncChunk plugin: Use of uninitialized value $args{\"chunk_range\"} in lc at pt-table-sync line 3055", 
"title": "Bug #897758 in Percona Toolkit: \"Failed to prepare TableSyncChunk plugin: Use of uninitialized value $args{\"chunk_range\"} in lc at pt-table-sync line 3055\"", 
"date_confirmed": "2012-01-09T15:53:39.001806+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897758", 
"date_left_new": "2012-01-09T15:53:39.001806+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897758", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"f9d3e6fe16fdcf9d875a20c1d0a0638eb02868ff-a1ae98d72854eef90c6fc0de5cc2fd865caad8d3\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T20:38:49.671756+00:00", 
"date_fix_released": "2012-02-08T15:26:56.990730+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897758", 
"date_created": "2011-11-29T16:15:58.182745+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"perl-5.12", 
"perl-5.14", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-01-09T18:01:03.900117+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-23T18:41:33.073238+00:00", 
"bug_id": 897961, 
"date_in_progress": "2011-12-23T18:41:33.073238+00:00", 
"bug_description": "Version:    http://bazaar.launchpad.net/~percona-toolkit-dev/percona-toolkit/pt-table-checksum-2.0/revision/240\n\nDescription:\n\nThe following error should include the hostname against which the query failed:\n\n1-29T17:00:38 Error checksumming table foo.bar: DBD::mysql::db selectrow_array failed: Table 'percona.checksums' doesn't exist [for Statement \"SELECT MAX(chunk) FROM `percona`.`checksums` WHERE db='foo' AND tbl='bar' AND master_crc IS NOT NULL\"] at bin/pt-table-checksum2.0-beta0 line 6568.\n\nHow to repeat:\n\nIn an environment with some replicas up to date and others very far behind, where the --replicate table does not exist, run pt-table-checksum --replicate --create-replicate-table --check-slave-lag=<an_up_to_date_replica>. \n\nBy the time pttc finishes checksumming a table, the laggy replica(s) will not yet have replayed the CREATE TABLE percona.checksums query. Therefor, pttc fails to SELECT from percona.checksums on any replica sufficiently far behind in replication.\n\nSuggested solution:\n\nThe error is valid -- this table does not exist. However, the error should inform the user as to which host it occurred on, and possibly indicate why pttc was not able to determine checksum results on that (very lagged) replica.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897961/related_tasks", 
"date_assigned": "2011-12-16T16:23:28.828047+00:00", 
"bug_information_type": "Public", 
"bug_title": "ptc 2.0 replicate-check error does not include hostname", 
"title": "Bug #897961 in Percona Toolkit: \"ptc 2.0 replicate-check error does not include hostname\"", 
"date_confirmed": "2011-12-23T18:41:33.073238+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897961", 
"date_left_new": "2011-12-23T18:41:33.073238+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897961", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"e937f180a79e8f466e024f6bb289344433c37cab-95d145c3eae5c990c7fb973f10f879b8fbdf35b6\"", 
"owner_link": "https://api.launchpad.net/devel/~devananda", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-23T18:41:33.073238+00:00", 
"date_fix_released": "2012-01-09T18:01:03.900117+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897961", 
"date_created": "2011-11-30T01:19:51.900926+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-01-09T18:01:09.733255+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-19T21:28:23.645126+00:00", 
"bug_id": 898318, 
"date_in_progress": "2011-12-19T21:28:23.645126+00:00", 
"bug_description": "Version: http://bazaar.launchpad.net/~percona-toolkit-dev/percona-toolkit/pt-table-checksum-2.0/revision/240\n\nDescription:\n\nCombining --resume with a limited set of --tables, pttc will not do anything when it should resume checksumming a partially checksummed table, if a table with an alphabetically-greater name is already completed.\n\nHow to repeat:\n\nStart with an empty --replicate table.\n\nFirst, checksum table \"foo\" (using option --tables foo), and allow checksum to complete. Then, checksum table \"bar\" (with option --tables bar), but stop it before completion. Then, try to \"--resume --tables bar\"; pttc 2.0 will not do anything. Debug output shows that it is trying to resume table \"foo\", which was completely checksummed, so it does nothing.\n\nClear the --replicate table and start again. This time, checksum \"bar\" to completion, then checksum \"foo\" and abort part way, then checksum \"--resume --tables foo\". This time it will resume properly.\n\nI believe this bug is due to --resume assuming an alphabetical order to table checksumming, and not properly limiting itself to the supplied list in --tables.\n\nSuggested fix:\n\n--resume should only consider the specified list of --databases / --tables, and not anything else.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898318/related_tasks", 
"date_assigned": "2011-12-16T16:20:21.934810+00:00", 
"bug_information_type": "Public", 
"bug_title": "ptc 2.0 --resume with --tables does not always work", 
"title": "Bug #898318 in Percona Toolkit: \"ptc 2.0 --resume with --tables does not always work\"", 
"date_confirmed": "2011-12-19T21:28:23.645126+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898318", 
"date_left_new": "2011-12-19T21:28:23.645126+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898318", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"6f3f74dd757c9bfc1954e2f6347896315c401288-95d145c3eae5c990c7fb973f10f879b8fbdf35b6\"", 
"owner_link": "https://api.launchpad.net/devel/~devananda", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-23T16:37:23.032735+00:00", 
"date_fix_released": "2012-01-09T18:01:09.733255+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898318", 
"date_created": "2011-11-30T19:14:26.741843+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"filters", 
"pt-table-checksum", 
"resume"
]
}, 
{
"date_closed": "2012-01-09T17:59:37.816710+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-30T16:24:24.605357+00:00", 
"bug_id": 903513, 
"date_in_progress": "2011-12-30T16:24:24.605357+00:00", 
"bug_description": "The documentation for pt-table-checksum v2.0 say to set the PTDEBUG environment variable. But the code checks MKDEBUG", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903513/related_tasks", 
"date_assigned": "2011-12-16T15:52:06.355476+00:00", 
"bug_information_type": "Public", 
"bug_title": "MKDEBUG should be PTDEBUG", 
"title": "Bug #903513 in Percona Toolkit: \"MKDEBUG should be PTDEBUG\"", 
"date_confirmed": "2011-12-30T16:24:24.605357+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903513", 
"date_left_new": "2011-12-30T16:24:24.605357+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903513", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"0933a99bf3f0530465b46eb644c60b91a2a0391c-95d145c3eae5c990c7fb973f10f879b8fbdf35b6\"", 
"owner_link": "https://api.launchpad.net/devel/~alfiejohn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-30T16:24:24.605357+00:00", 
"date_fix_released": "2012-01-09T17:59:37.816710+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903513", 
"date_created": "2011-12-13T02:11:06.305573+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"all-tools", 
"docs"
]
}, 
{
"date_closed": "2012-09-26T21:16:46.350058+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": "2012-09-21T20:19:49.495086+00:00", 
"bug_id": 916925, 
"date_in_progress": "2012-09-21T20:19:49.495086+00:00", 
"bug_description": "[root@db01 ~]# yum install percona-toolkit\nLoaded plugins: fastestmirror\nLoading mirror speeds from cached hostfile\n * base: linux.mirrors.es.net\n * extras: mirror.web-ster.com\n * updates: linux.mirrors.es.net\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package percona-toolkit.noarch 0:2.0.2-1 set to be updated\n--> Processing Dependency: perl(Term::ReadKey) >= 2.10 for package: percona-toolkit\n--> Finished Dependency Resolution\npercona-toolkit-2.0.2-1.noarch from percona has depsolving problems\n  --> Missing Dependency: perl(Term::ReadKey) >= 2.10 is needed by package percona-toolkit-2.0.2-1.noarch (percona)\n\nPackages skipped because of dependency problems:\n    percona-toolkit-2.0.2-1.noarch from percona\n[root@db01 ~]# perl -MTerm::ReadKey -e 'print \"$Term::ReadKey::VERSION\\n\"'\n2.30", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916925/related_tasks", 
"date_assigned": "2012-08-13T04:16:20.941272+00:00", 
"bug_information_type": "Public", 
"bug_title": "CentOS 5 yum dependency resolution for perl module is wrong", 
"title": "Bug #916925 in Percona Toolkit: \"CentOS 5 yum dependency resolution for perl module is wrong\"", 
"date_confirmed": "2012-01-16T16:08:05.880457+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/916925", 
"date_left_new": "2012-01-16T16:08:05.880457+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/916925", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"0713e0e675ee08e69fc0b1933b50d086c902de34-e455a14bf0bda4eac6389e873e4d6f6af354fd75\"", 
"owner_link": "https://api.launchpad.net/devel/~viialy", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-09-21T20:19:49.495086+00:00", 
"date_fix_released": "2012-09-26T21:16:46.350058+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916925", 
"date_created": "2012-01-15T20:52:58.552504+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"release", 
"repo"
]
}, 
{
"date_closed": "2012-06-19T19:58:18.008862+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-17T19:54:12.537026+00:00", 
"bug_id": 919499, 
"date_in_progress": "2012-05-17T19:54:12.537026+00:00", 
"bug_description": "When trying to run pt-table-checksum (percona-toolkit-2.0.2-1) against a master (with one slave) both running MySQL-server-5.5.19, the tool generates the following message for all tables/databases:\n\n$ pt-table-checksum --ask-pass --user root\n\n01-20T16:16:23 Error checksumming table mysql.user: Error executing checksum query: Checksum query for table mysql.user caused MySQL error 1592:\n    Level: Note\n     Code: 1592\n  Message: Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT. REPLACE... SELECT is unsafe because the order in which rows are retrieved by the SELECT determines which (if any) rows are replaced. This order cannot be predicted and may differ on master and the slave.\n    Query: REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `host`, `user`, `password`, `select_priv`, `insert_priv`, `update_priv`, `delete_priv`, `create_priv`, `drop_priv`, `reload_priv`, `shutdown_priv`, `process_priv`, `file_priv`, `grant_priv`, `references_priv`, `index_priv`, `alter_priv`, `show_db_priv`, `super_priv`, `create_tmp_table_priv`, `lock_tables_priv`, `execute_priv`, `repl_slave_priv`, `repl_client_priv`, `create_view_priv`, `show_view_priv`, `create_routine_priv`, `alter_routine_priv`, `create_user_priv`, `event_priv`, `trigger_priv`, `create_tablespace_priv`, `ssl_type`, `ssl_cipher`, `x509_issuer`, `x509_subject`, `max_questions`, `max_updates`, `max_connections`, `max_user_connections`, `plugin`, `authentication_string`, CONCAT(ISNULL(`plugin`), ISNULL(`authentication_string`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `mysql`.`user` /*checksum table*/\n\nI suspect it is related to the first \"Incompatible change: replication\" under \"Bug Fixed\" here: http://dev.mysql.com/doc/refman/5.5/en/news-5-5-18.html", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919499/related_tasks", 
"date_assigned": "2012-05-17T17:08:51.710508+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum fails with binary log error in mysql >= 5.5.18", 
"title": "Bug #919499 in Percona Toolkit: \"pt-table-checksum fails with binary log error in mysql >= 5.5.18\"", 
"date_confirmed": "2012-01-31T18:30:52.036494+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/919499", 
"date_left_new": "2012-01-31T18:30:52.036494+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/919499", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"0bc578a31e8d0c0818a7fa7c7401af5075c93828-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~bealdrid", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-18T16:03:53.970230+00:00", 
"date_fix_released": "2012-06-19T19:58:18.008862+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919499", 
"date_created": "2012-01-21T02:54:58.844257+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-02-08T15:26:48.660428+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-24T17:04:30.860861+00:00", 
"bug_id": 919819, 
"date_in_progress": "2012-01-24T17:04:30.860861+00:00", 
"bug_description": "Children are not waited for, so they become zombies:\n\n3726             if ( $o->get('execute-command') ) {\n3727                exec_cmd($o->get('execute-command'));\n3728                msg('Executed ' . $o->get('execute-command'));\n3729             }\n\nAnd\n\n3785 # Forks and detaches from parent to execute the given command;\n3786 # does not block parent.\n3787 sub exec_cmd {\n3788    my ( $cmd ) = @_;\n3789    PTDEBUG && _d('exec cmd:', $cmd);\n3790    return unless $cmd;\n3791 \n3792    my $pid = fork();\n3793    if ( $pid ) {\n3794       # parent\n3795       PTDEBUG && _d('child pid:', $pid);\n3796       return $pid;\n3797    }\n3798 \n3799    # child\n3800    POSIX::setsid() or die \"Cannot start a new session: $OS_ERROR\";\n3801    my $retval = system($cmd);\n3802    $retval = $retval >> 8;\n3803    PTDEBUG && _d('child exit status:', $retval);\n3804    exit $retval;\n3805 }\n\nWe need a waitpid() to reap the child processes that have terminated.  The workaround is to stop and restart the entire process.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919819/related_tasks", 
"date_assigned": "2012-01-21T21:25:50.793248+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-kill --execute-command creates zombies", 
"title": "Bug #919819 in Percona Toolkit: \"pt-kill --execute-command creates zombies\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/919819", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/919819", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"b2687f2d648e390e8207d9eea3f9291d0855cea7-00d2810555538d2ba504c9d52b12e0ff4bf2e144\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-24T17:04:30.860861+00:00", 
"date_fix_released": "2012-02-08T15:26:48.660428+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919819", 
"date_created": "2012-01-21T21:25:50.407729+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-21182", 
"pt-kill", 
"zombies"
]
}, 
{
"date_closed": "2012-02-08T15:26:44.387300+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-03T16:18:32.697050+00:00", 
"bug_id": 925778, 
"date_in_progress": "2012-02-03T16:18:32.697050+00:00", 
"bug_description": "pt-ioprofile doesn't stop and run forever without output.\n\nTested on Fedora 16, CentOS 6.1 and Mac OS X 10.\n\nVersion: 2.0.1\n\n[root@percona1 ~]# ./pt-ioprofile --version\npt-iostats 2.0.1\n\nCommand line tested:\n\n./pt-ioprofile\n\n--> CTRL+C needed to stop and no output\n\n[root@percona1 ~]# time ./pt-ioprofile    (CTRL+D)\n     total filename\n\nreal\t1m14.274s\nuser\t0m0.801s\nsys\t0m1.610s\n\n\n[root@percona1 ~]# ./pt-ioprofile -b mysqld\n\n--> nothing\n\n[root@percona1 ~]# ./pt-ioprofile -p `pidof mysqld`\n\n--> nothing\n\n\nOn CentOS:\n-------------\n[root@percona1 ~]# strace -f ./pt-ioprofile\n...\npid  5593] open(\"/usr/share/locale/en_US.UTF-8/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] open(\"/usr/share/locale/en_US.utf8/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] open(\"/usr/share/locale/en_US/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] open(\"/usr/share/locale/en.UTF-8/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] open(\"/usr/share/locale/en.utf8/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] open(\"/usr/share/locale/en/LC_MESSAGES/gawk.mo\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  5593] read(3, \"\", 3549)           = 0\n[pid  5593] close(3)                    = 0\n[pid  5593] fstat(0, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 0), ...}) = 0\n[pid  5593] ioctl(0, SNDCTL_TMR_TIMEBASE or TCGETS, {B38400 opost isig icanon echo ...}) = 0\n[pid  5593] fstat(0, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 0), ...}) = 0\n[pid  5593] read(0, \n\n\n--> it seems the program is waiting for STDINPUT ?\n\nOn Fedora:\n------------\n[root@lefred ~]# strace ./pt-ioprofile -b mysqld\n....\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/cat\", X_OK)                = 0\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/cat\", R_OK)                = 0\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/cat\", X_OK)                = 0\nstat(\"/bin/cat\", {st_mode=S_IFREG|0755, st_size=50416, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/cat\", R_OK)                = 0\nrt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0\nrt_sigprocmask(SIG_BLOCK, [CHLD], [INT CHLD], 8) = 0\nrt_sigprocmask(SIG_SETMASK, [INT CHLD], NULL, 8) = 0\nclone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7fd3efe129d0) = 29888\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\nrt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\nrt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0\nrt_sigaction(SIGINT, {0x43e4a0, [], SA_RESTORER, 0x3803436300}, {SIG_DFL, [], SA_RESTORER, 0x3803436300}, 8) = 0\nwait4(-1, [{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 29888\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\n--- {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=29888, si_status=0, si_utime=0, si_stime=0} (Child exited) ---\nwait4(-1, 0x7fffe196af98, WNOHANG, NULL) = -1 ECHILD (No child processes)\nrt_sigreturn(0xffffffffffffffff)        = 0\nrt_sigaction(SIGINT, {SIG_DFL, [], SA_RESTORER, 0x3803436300}, {0x43e4a0, [], SA_RESTORER, 0x3803436300}, 8) = 0\nstat(\".\", {st_mode=S_IFDIR|0550, st_size=4096, ...}) = 0\nstat(\"/usr/local/sbin/awk\", 0x7fffe196b5a0) = -1 ENOENT (No such file or directory)\nstat(\"/usr/local/bin/awk\", 0x7fffe196b5a0) = -1 ENOENT (No such file or directory)\nstat(\"/sbin/awk\", 0x7fffe196b5a0)       = -1 ENOENT (No such file or directory)\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/awk\", X_OK)                = 0\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/awk\", R_OK)                = 0\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/awk\", X_OK)                = 0\nstat(\"/bin/awk\", {st_mode=S_IFREG|0755, st_size=417848, ...}) = 0\ngeteuid()                               = 0\ngetegid()                               = 0\ngetuid()                                = 0\ngetgid()                                = 0\naccess(\"/bin/awk\", R_OK)                = 0\nrt_sigprocmask(SIG_BLOCK, [INT CHLD], [], 8) = 0\nclone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7fd3efe129d0) = 29889\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\nrt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0\nrt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0\nrt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0\nrt_sigaction(SIGINT, {0x43e4a0, [], SA_RESTORER, 0x3803436300}, {SIG_DFL, [], SA_RESTORER, 0x3803436300}, 8) = 0\nwait4(-1,", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925778/related_tasks", 
"date_assigned": "2012-02-03T16:18:35.556887+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-ioprofile doesn't run without a file", 
"title": "Bug #925778 in Percona Toolkit: \"pt-ioprofile doesn't run without a file\"", 
"date_confirmed": "2012-02-03T16:18:32.697050+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/925778", 
"date_left_new": "2012-02-03T16:18:32.697050+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/925778", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"02477a67906a33b6464c6c710dad3aba2568320b-00d2810555538d2ba504c9d52b12e0ff4bf2e144\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-03T17:45:04.397784+00:00", 
"date_fix_released": "2012-02-08T15:26:44.387300+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925778", 
"date_created": "2012-02-02T22:41:39.513155+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-ioprofile"
]
}, 
{
"date_closed": "2012-02-08T15:56:00.291886+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 927771, 
"date_in_progress": null, 
"bug_description": "Fixing https://bugs.launchpad.net/percona-toolkit/+bug/925855 caused a bug in pt-table-sync --replicate.  pt-table-checksum was modified to always use lc index names.  This means that it stores index \"PRIMARY\" as \"primary\" in the checksum table.  pt-table-sync, however, does not lc or later index names, so using --replicate causes it to see \"primary\" but its data struct only contains \"PRIMARY\", resulting in the error \"Index primary does not exist in table at /home/bill/bin/pt-table-sync line 8959\" in diff_where().\n\nTesting did not detect this because tests for pt-table-checksum/pt-table-sync integration use an index that's already lc in MySQL.  Therefore, we need a new test in t/pt-table-sync/basics.t that uses, for example, the PRIMARY index on sakila.city.  Add this after the tests under header \"# Fix bug 911996.\"\n\nTo fix this, change NibbleIterator::nibble_index() to return the unaltered index name; i.e. remove the lc.  Then, update the module in pt-table-checksum and look for every call to $nibble_iter->nibble_index() that's used in a comparison and wrap those in lc, e.g. lc($nibble_iter->nibble_index() || '').  Do not, however, lc this line in exec_nibble(): my $chunk_index = $nibble_iter->nibble_index();  That would store \"PRIMARY\" as \"primary\" again.  So in short: only lc index names when doing comparisons, but store them in their original case.\n\nThen run the tests suites for both pt-table-checksum and pt-table-sync.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927771/related_tasks", 
"date_assigned": "2012-02-06T18:15:55.610970+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync --replicate cannot use lc index names", 
"title": "Bug #927771 in Percona Toolkit: \"pt-table-sync --replicate cannot use lc index names\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/927771", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/927771", 
"milestone_link": null, 
"http_etag": "\"9b436145d7d01b376f245379f773f43047d4c3ba-faa10927af1c06125134f8becacd04b122601e3c\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-06T20:50:24.739198+00:00", 
"date_fix_released": "2012-02-08T15:56:00.291886+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927771", 
"date_created": "2012-02-06T18:15:55.222953+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"pt-table-checksum", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-03-19T16:57:28.739197+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-17T15:44:17.287809+00:00", 
"bug_id": 928966, 
"date_in_progress": "2012-02-17T15:44:17.287809+00:00", 
"bug_description": "Bug 871438 missed a hard-code, insecure use of /tmp in pt-pmp.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928966/related_tasks", 
"date_assigned": "2012-02-17T15:44:19.617510+00:00", 
"bug_information_type": "Public Security", 
"bug_title": "pt-pmp still uses insecure /tmp", 
"title": "Bug #928966 in Percona Toolkit: \"pt-pmp still uses insecure /tmp\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/928966", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928966", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"efdae2b06ec1b8d3b3b7a6482d72fc13ee9890a2-d151fc55e520289aa79f67f886238a3d82cec9bd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-17T17:26:18.426775+00:00", 
"date_fix_released": "2012-03-19T16:57:28.739197+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928966", 
"date_created": "2012-02-08T16:30:40.658337+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-pmp", 
"risk"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 932883, 
"date_in_progress": null, 
"bug_description": "Hi Team,\n\nIt would be nice if you auto-file a bug against 'percona-toolkit' Debian package after each release as you did on Maatkit  [0]\n\nThanks in advance.\n\n[0] http://code.google.com/p/maatkit/issues/detail?id=1059&can=1&q=reporter%3Akocinski&colspec=ID%20Type%20Tool%20Summary", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932883/related_tasks", 
"date_assigned": "2012-02-17T18:17:47.845091+00:00", 
"bug_information_type": "Public", 
"bug_title": "File Debian bug after each release", 
"title": "Bug #932883 in Percona Toolkit: \"File Debian bug after each release\"", 
"date_confirmed": "2012-02-17T18:17:53.367426+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932883", 
"date_left_new": "2012-02-17T18:17:53.367426+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932883", 
"milestone_link": null, 
"http_etag": "\"6f54447d533205cdf612e7763b556127ee87a25d-3c3eebaae17da72ad7ebd2901bf223724741f67d\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932883", 
"date_created": "2012-02-15T16:49:59.559910+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"release"
]
}, 
{
"date_closed": "2012-03-19T16:57:31.793316+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-21T19:02:07.247346+00:00", 
"bug_id": 933232, 
"date_in_progress": "2012-03-01T21:54:23.936605+00:00", 
"bug_description": "pt-online-schema-change h=127.0.0.1,P=3306,t=db.tiny_url --alter \"drop key url\",\"add key url(url(80))\" --sleep 0.1\n\nMySQL version:5.1.55-rel12.6-log Percona Server with XtraDB (GPL), Release 12.6, Revision 200\n\non slave:\n\nshow slave status\\G\n\n                 Master_Host: 192.168.1.1\n                  Master_User: repuser\n                  Master_Port: 3306\n                Connect_Retry: 60\n              Master_Log_File: crtalk1-bin.009260\n          Read_Master_Log_Pos: 125939386\n               Relay_Log_File: tw_usr-relay-bin.029288\n                Relay_Log_Pos: 122264451\n        Relay_Master_Log_File: crtalk1-bin.009260\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: No\n              Replicate_Do_DB:\n          Replicate_Ignore_DB:\n           Replicate_Do_Table:\n       Replicate_Ignore_Table:\n      Replicate_Wild_Do_Table:\n  Replicate_Wild_Ignore_Table:\n                   Last_Errno: 1146\n                   Last_Error: Error 'Table 'db.__tmp_tiny_url' doesn't exist' on opening tables\n                 Skip_Counter: 0\n          Exec_Master_Log_Pos: 122264304\n              Relay_Log_Space: 125939734\n              Until_Condition: None\n               Until_Log_File:\n                Until_Log_Pos: 0\n           Master_SSL_Allowed: No\n           Master_SSL_CA_File:\n           Master_SSL_CA_Path:\n              Master_SSL_Cert:\n            Master_SSL_Cipher:\n               Master_SSL_Key:\n        Seconds_Behind_Master: NULL\nMaster_SSL_Verify_Server_Cert: No\n                Last_IO_Errno: 0\n                Last_IO_Error:\n               Last_SQL_Errno: 1146\n               Last_SQL_Error: Error 'Table 'db.__tmp_tiny_url' doesn't exist' on opening tables\n\n\nbinlog on master:\nmysqlbinlog -v -v --base64-output=DECODE-ROWS crtalk1-bin.009261 | grep -B 1 -A 10 __tmp|more\n#120216  0:00:27 server id 152233306  end_log_pos 29260         Table_map: `db`.`tiny_url` mapp\ned to number 278651\n#120216  0:00:27 server id 152233306  end_log_pos 29324         Table_map: `db`.`__tmp_tiny_url\n` mapped to number 278645\n#120216  0:00:27 server id 152233306  end_log_pos 29420         Write_rows: table id 278651\n#120216  0:00:27 server id 152233306  end_log_pos 29516         Write_rows: table id 278645 flags: S\nTMT_END_F\n### INSERT INTO db.tiny_url\n### SET\n###   @1=88801080 /* INT meta=0 nullable=0 is_null=0 */\n###   @2='http://15449413.blog.hexun.com/62026240_d.html' /* VARSTRING(400) meta=400 nullable=0 is_n\null=0 */\n###   @3='--' /* VARSTRING(18) meta=18 nullable=0 is_null=0 */\n###   @4=0 /* LONGINT meta=0 nullable=0 is_null=0 */\n###   @5='00:00:27' /* TIME meta=0 nullable=0 is_null=0 */\n### INSERT INTO db.__tmp_tiny_url\n### SET\n###   @1=88801080 /* INT meta=0 nullable=0 is_null=0 */\n###   @2='http://15449413.blog.hexun.com/62026240_d.html' /* VARSTRING(400) meta=400 nullable=0 is_n\null=0 */\n###   @3='--' /* VARSTRING(18) meta=18 nullable=0 is_null=0 */\n###   @4=0 /* LONGINT meta=0 nullable=0 is_null=0 */\n###   @5='00:00:27' /* TIME meta=0 nullable=0 is_null=0 */\n# at 29516\n#120216  0:00:27 server id 152233306  end_log_pos 29543         Xid = 38657832443\nCOMMIT/*!*/;\n# at 29543\n\n__tmp_tiny_url created only on master but triggers wrote binlog so error occured on slave.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933232/related_tasks", 
"date_assigned": "2012-02-21T19:02:09.642202+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change can break replication", 
"title": "Bug #933232 in Percona Toolkit: \"pt-online-schema-change can break replication\"", 
"date_confirmed": "2012-02-21T19:02:07.247346+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933232", 
"date_left_new": "2012-02-21T19:02:07.247346+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933232", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"fcc26375f2b45ce2b38519d8a7838747a01ae0d7-d151fc55e520289aa79f67f886238a3d82cec9bd\"", 
"owner_link": "https://api.launchpad.net/devel/~gulei-om", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T20:11:36.085010+00:00", 
"date_fix_released": "2012-03-19T16:57:31.793316+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933232", 
"date_created": "2012-02-16T02:40:27.390521+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"breaks-replication", 
"pt-online-schema-change", 
"risk"
]
}, 
{
"date_closed": "2012-03-19T16:57:34.990331+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-01T23:03:04.354905+00:00", 
"bug_id": 941225, 
"date_in_progress": "2012-03-06T16:41:51.419935+00:00", 
"bug_description": "I get a bunch of tools giving this warning:\n\nUse of qw(...) as parentheses is deprecated at /usr/pkg/bin/pt-kill line 3511.\n\nand then nothing else works.. I assume because of this? \n\nuse warnings FATAL => 'all';\n\n\n---\n\n\nThis is perl 5, version 14, subversion 1 (v5.14.1) built for x86_64-netbsd-thread-multi\n\npercona toolkit version: 2.0.3", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941225/related_tasks", 
"date_assigned": "2012-03-01T22:26:21.442796+00:00", 
"bug_information_type": "Public", 
"bug_title": "Use of qw(...) as parentheses is deprecated at pt-kill line 3511", 
"title": "Bug #941225 in Percona Toolkit: \"Use of qw(...) as parentheses is deprecated at pt-kill line 3511\"", 
"date_confirmed": "2012-03-01T23:03:04.354905+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/941225", 
"date_left_new": "2012-03-01T23:03:04.354905+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/941225", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"fd46e2dd6b23d030f39fc917dd781f05a3a59ec3-82f5e45b8134c1b87c125fb72dc99a4288c90be6\"", 
"owner_link": "https://api.launchpad.net/devel/~msporleder", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:05:30.510205+00:00", 
"date_fix_released": "2012-03-19T16:57:34.990331+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941225", 
"date_created": "2012-02-26T02:34:43.925039+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"perl-5.14", 
"pt-heartbeat", 
"pt-kill", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:11:34.570197+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-12T16:34:14.403034+00:00", 
"bug_id": 941469, 
"date_in_progress": "2012-07-12T16:34:14.403034+00:00", 
"bug_description": "Percona Toolkit v.2.0.3\nMysql: mysqld Ver 5.0.92-community-log for unknown-linux-gnu on x86_64 (MySQL Community Edition (GPL))\n\nWhen pt-kill is daemonized and then viewing its log, find this error message:\n\nError getting SHOW PROCESSLIST: DBD::mysql::st execute failed: MySQL server has gone away [for Statement \"SHOW FULL PROCESSLIST\"] at /usr/bin/pt-kill line 3633.\n\nThank you", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941469/related_tasks", 
"date_assigned": "2012-07-12T16:34:17.135188+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-kill doesn't reconnect if its connection is lost", 
"title": "Bug #941469 in Percona Toolkit: \"pt-kill doesn't reconnect if its connection is lost\"", 
"date_confirmed": "2012-04-17T23:29:27.912838+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/941469", 
"date_left_new": "2012-04-17T23:29:27.912838+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/941469", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"b1f3bd040d63bc23f09fca95599d808ec023b494-9a40da5f83accaaef0043a440cd179f1fd740343\"", 
"owner_link": "https://api.launchpad.net/devel/~smcteague", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-13T16:58:27.559102+00:00", 
"date_fix_released": "2012-08-10T18:11:34.570197+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941469", 
"date_created": "2012-02-26T15:02:21.980055+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"error-recovery", 
"percona-23049", 
"pt-kill"
]
}, 
{
"date_closed": "2012-04-16T16:36:09.921073+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-30T17:34:53.807962+00:00", 
"bug_id": 955860, 
"date_in_progress": "2012-03-30T17:34:53.807962+00:00", 
"bug_description": "When you run pt-stalk just to collect information with --no-stalk, it ignores --sleep and --iterations:\n\nroot@debian:# /root/pt-stalk --collect --no-stalk --threshold=0 --run-time 61 --sleep=120 --iterations=10 -- -uroot -pmsandbox -h 127.0.0.1 -P 5520 \n2012_03_15_11_14_08 Starting /root/pt-stalk --function=status --variable=Threads_running --threshold=0 --match= --cycles=0 --interval=0 --iterations=1 --run-time=61 --sleep=0 --dest=/var/lib/pt-stalk --prefix= --notify-by-email= --log=/var/log/pt-stalk.log --pid=/var/run/pt-stalk.pid\n\nWith sleep=0, pt-stalk run so fast that you don't get some useful information, like iostat or vmstat for example. The workaround is the use of --stalk option with low values:\n\nroot@debian:# /root/pt-stalk --collect --variable=Threads_running --iterations=2 --threshold=0 --run-time 60 --sleep=120 --dest=/root/percona_low_load/\n2012_03_15_05_11_33 Starting /root/pt-stalk --function=status --variable=Threads_running --threshold=0 --match= --cycles=5 --interval=1 --iterations=2 --run-time=60 --sleep=120 --dest=/root/percona_low_load/ --prefix= --notify-by-email= --log=/var/log/pt-stalk.log --pid=/var/run/pt-stalk.pid\n\nNow, pt-stalk has time to collect all the data from the system.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955860/related_tasks", 
"date_assigned": "2012-03-30T15:05:20.100326+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk doesn't run vmstat, iostat, and mpstat for --run-time", 
"title": "Bug #955860 in Percona Toolkit: \"pt-stalk doesn't run vmstat, iostat, and mpstat for --run-time\"", 
"date_confirmed": "2012-03-16T14:24:21.571772+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/955860", 
"date_left_new": "2012-03-16T14:24:21.571772+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/955860", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"794d0997e44accf70b18562256a6f8cb1081c163-93fb99803248d0381aeecab0b976204bd59ddbdf\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-30T21:45:37.757367+00:00", 
"date_fix_released": "2012-04-16T16:36:09.921073+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955860", 
"date_created": "2012-03-15T10:16:50.019279+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"option-ignored", 
"pt-stalk"
]
}, 
{
"date_closed": "2012-04-16T16:36:00.126842+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-31T00:08:30.572854+00:00", 
"bug_id": 960513, 
"date_in_progress": "2012-03-31T00:08:30.572854+00:00", 
"bug_description": "In SchemaIterator::_iterate_dbh we have this:\n\n   while ( my $tbl = shift @{$self->{tbls}} ) {\n      my $tbl_status;\n      if ( $self->{filters}->{'engines'}\n           || $self->{filters}->{'ignore-engines'}\n           || $self->{keep_tbl_status} )\n      {  \n         my $sql = \"SHOW TABLE STATUS FROM \" . $q->quote($self->{db})\n                 . \" LIKE \\'$tbl\\'\";\n\nWe should not get the engine from SHOW TABLE STATUS, but from SHOW CREATE TABLE. This is a potentially serious performance impact on the database server.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/960513/related_tasks", 
"date_assigned": "2012-03-30T15:06:27.606320+00:00", 
"bug_information_type": "Public", 
"bug_title": "SHOW TABLE STATUS is used needlessly", 
"title": "Bug #960513 in Percona Toolkit: \"SHOW TABLE STATUS is used needlessly\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/960513", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/960513", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"ed11f0d31a72c1ce732cba7b64672471d592da6d-93fb99803248d0381aeecab0b976204bd59ddbdf\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T01:49:17.710773+00:00", 
"date_fix_released": "2012-04-16T16:36:00.126842+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/960513", 
"date_created": "2012-03-20T19:02:26.469669+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"performance", 
"pt-table-checksum", 
"schema-iter"
]
}, 
{
"date_closed": "2012-08-10T18:11:47.196418+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T21:37:32.749132+00:00", 
"bug_id": 962330, 
"date_in_progress": "2012-06-22T16:14:00.223972+00:00", 
"bug_description": "If slave is already lagging when pt-slave-delay is started (for example, after restarting pt-slave-delay) , replication lag falls way behind the defined delay.\n\ncommand line : /usr/bin/pt-slave-delay --delay 60m --interval 15s --pid=/var/run/pt-slave-delay.pid --daemonize --log /var/log/delay.log localhost\npt-slave-delay version : 2.0.3\nMySQL version : 5.1.61-rel13.2-log\n\n\nHow to reproduce:\na) run   pt-slave-delay --delay 60m   \nb) let replication to delay 60 minutes\nc) kill pt-slave-delay\nd) start again pt-slave-delay --delay 60m\n\nReplication will lag up to 120 minutes.\n\n==\n\nExample from log file:\n2012-03-14T16:00:38 START SLAVE until master 2012-03-14T15:00:37 mysql-bin.000557/77122111\n2012-03-14T16:00:53 START SLAVE until master 2012-03-14T15:00:52 mysql-bin.000557/79246412\n2012-03-14T16:01:08 START SLAVE until master 2012-03-14T15:01:07 mysql-bin.000557/82404644\n2012-03-14T16:01:23 START SLAVE until master 2012-03-14T15:01:22 mysql-bin.000557/84278071\n2012-03-14T16:01:38 START SLAVE until master 2012-03-14T15:01:37 mysql-bin.000557/86866326\n2012-03-14T16:01:53 START SLAVE until master 2012-03-14T15:01:52 mysql-bin.000557/88490971\n2012-03-14T16:02:08 START SLAVE until master 2012-03-14T15:02:07 mysql-bin.000557/90049756\n2012-03-14T16:02:08 Setting slave to run normally\nExiting on SIGTERM.\n2012-03-14T16:02:24 slave running 3563 seconds behind\n2012-03-14T16:02:24 STOP SLAVE until 2012-03-14T16:03:01 at master position mysql-bin.000558/71837313\n2012-03-14T16:02:39 slave stopped at master position mysql-bin.000558/74070901\n2012-03-14T16:02:54 slave stopped at master position mysql-bin.000558/75261121\n2012-03-14T16:03:09 slave stopped at master position mysql-bin.000558/76535697\n[[[ output omitted ]]]\n2012-03-14T17:01:40 slave stopped at master position mysql-bin.000558/517469513\n2012-03-14T17:01:55 slave stopped at master position mysql-bin.000558/519802388\n2012-03-14T17:02:10 slave stopped at master position mysql-bin.000558/521274178\n2012-03-14T17:02:25 START SLAVE until master 2012-03-14T16:02:24 mysql-bin.000558/71837313\n2012-03-14T17:02:40 slave running 7008 seconds behind\n2012-03-14T17:02:40 slave running 7008 seconds behind at master position mysql-bin.000559/235280\n2012-03-14T17:02:55 slave running 6853 seconds behind\n2012-03-14T17:02:55 slave running 6853 seconds behind at master position mysql-bin.000559/2592232\n\n\n===\n\nI think the behavior is caused by the fact that in @positions are pushed $now and the IO_THREAD coordinates:\n            push @positions,\n               [ $now, $status->{master_log_file},\n                 $status->{read_master_log_pos} ];\n\nThe position to run START SLAVE SQL_THREAD is chosen in :\n         while ( $i < @positions\n                 && $positions[$i]->[$TS] <= $now - $o->get('delay') ) {\n            $pos = $i;\n            $i++;\n         }\n\n\nSince $now is pushed in @positions, the condition below will never be true until pt-slave-delay is running for $o->get('delay') seconds:\n$positions[$i]->[$TS] <= $now - $o->get('delay') \n\n===\n\nSuggested fix:\nProcess the initial replication lag in the formula above.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962330/related_tasks", 
"date_assigned": "2012-06-22T16:13:49.333935+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-slave-delay incorrectly computes lag if started when slave is already lagging", 
"title": "Bug #962330 in Percona Toolkit: \"pt-slave-delay incorrectly computes lag if started when slave is already lagging\"", 
"date_confirmed": "2012-04-17T21:37:32.749132+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/962330", 
"date_left_new": "2012-04-17T21:37:32.749132+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/962330", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"a309a9aa892546044af70d480bf582fa370a9510-4b48fd85f08c3c6bbef6db33783725930b596abc\"", 
"owner_link": "https://api.launchpad.net/devel/~rene-cannao", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-12T16:57:30.930226+00:00", 
"date_fix_released": "2012-08-10T18:11:47.196418+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962330", 
"date_created": "2012-03-22T16:55:42.394891+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-24284", 
"pt-slave-delay", 
"wrong-output"
]
}, 
{
"date_closed": "2012-04-16T16:35:47.589487+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-02T23:59:25.943148+00:00", 
"bug_id": 969726, 
"date_in_progress": "2012-04-02T23:59:25.943148+00:00", 
"bug_description": "The use of CREATE TABLE LIKE is causing foreign keys to disappear.\n\nBefore:\n\nCREATE TABLE `film_actor` (\n  `actor_id` smallint(5) unsigned NOT NULL,\n  `film_id` smallint(5) unsigned NOT NULL,\n  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`actor_id`,`film_id`),\n  KEY `idx_fk_film_id` (`film_id`),\n  CONSTRAINT `fk_film_actor_actor` FOREIGN KEY (`actor_id`) REFERENCES `actor` (`actor_id`) ON UPDATE CASCADE,\n  CONSTRAINT `fk_film_actor_film` FOREIGN KEY (`film_id`) REFERENCES `film` (`film_id`) ON UPDATE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nAfter:\n\nCREATE TABLE `film_actor` (\n  `actor_id` smallint(5) unsigned NOT NULL,\n  `film_id` smallint(5) unsigned NOT NULL,\n  `last_update` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  `baron` int(11) DEFAULT NULL,\n  PRIMARY KEY (`actor_id`,`film_id`),\n  KEY `idx_fk_film_id` (`film_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nI believe that the solution needs to be retrieving the SHOW CREATE and sending it back to the server again with a different name.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969726/related_tasks", 
"date_assigned": "2012-04-02T23:59:27.606774+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change loses foreign keys", 
"title": "Bug #969726 in Percona Toolkit: \"pt-online-schema-change loses foreign keys\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/969726", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/969726", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"9cd3813b72e0fb21ac812e71abc7fbba08c7234e-93fb99803248d0381aeecab0b976204bd59ddbdf\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T00:23:45.500070+00:00", 
"date_fix_released": "2012-04-16T16:35:47.589487+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969726", 
"date_created": "2012-03-31T01:14:57.489858+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T19:58:11.822575+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-17T21:14:44.460865+00:00", 
"bug_id": 978432, 
"date_in_progress": "2012-04-17T21:14:44.460865+00:00", 
"bug_description": "pt-table-checksum is ignoring the use of a primary key.\n\n$ ./pt-table-checksum --user=X --password=X -d wc_acj -t multi_resource_apt wc-c1-db1\n04-10T19:06:18 Error checksumming table wc_acj.multi_resource_apt: Possible infinite loop detected!  The lower boundary for chunk 1 is <738> and the lower boundary for chunk 2 is also <738>.  This usually happens when using a non-unique single column index.  The current chunk index for table wc_acj.multi_resource_apt is resid which is not unique and covers 1 column.\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n04-10T19:06:18      1      0        0       1       1   0.005 wc_acj.multi_resource_apt\n\nRunning PTDEBUG=1, I see the following.\n\n# SchemaIterator:4807 17970 Found 1 tables in database wc_acj\n# TableParser:1783 17970 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:1788 17970 DBI::db=HASH(0x2f246b0) USE `wc_acj`\n# TableParser:1792 17970 SHOW CREATE TABLE `wc_acj`.`multi_resource_apt`\n# TableParser:1804 17970 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# TableParser:2013 17970 Storage engine: InnoDB\n# TableParser:1834 17970 Table cols: `apt_id`, `res_id`\n# TableParser:2013 17970 Storage engine: InnoDB\n# TableParser:2029 17970 Parsed key: PRIMARY KEY (`apt_id`,`res_id`),\n# TableParser:2055 17970 PRIMARY key cols: `apt_id`, `res_id`\n# TableParser:2077 17970 This key is the clustered key\n# TableParser:2029 17970 Parsed key: KEY `resid` (`res_id`)\n# TableParser:2055 17970 resid key cols: `res_id`\n# SchemaIterator:4698 17970 Next schema object: wc_acj multi_resource_apt\n# RowChecksum:3226 17970 Checksum strat: $VAR1 = {\n#   crc_type => 'int',\n#   crc_width => 16,\n#   func => 'CRC32',\n#   opt_slice => undef\n# };\n#\n# RowChecksum:3208 17970 Row checksum: CRC32(CONCAT_WS('#', `apt_id`, `res_id`))\n# RowChecksum:3247 17970 Chunk checksum: COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `apt_id`, `res_id`)) AS UNSIGNED)), 10, 16)), 0) AS crc\n# NibbleIterator:3993 17970 EXPLAIN SELECT * FROM `wc_acj`.`multi_resource_apt` WHERE 1=1\n# NibbleIterator:3995 17970 $VAR1 = {\n#   extra => 'Using index',\n#   id => '1',\n#   key => 'resid',\n#   key_len => '4',\n#   possible_keys => undef,\n#   ref => undef,\n#   rows => '396069',\n#   select_type => 'SIMPLE',\n#   table => 'multi_resource_apt',\n#   type => 'index'\n# };\n#\n# NibbleIterator:3870 17970 One nibble: no\n\n####################\n#\n# HERE - MySQL ignore's the primary key, in return so does pt-table-checksum\n# I think it would be wise to force PRIMARY KEY indexes to be used regardless of other indexes.\n# Even though the cardinality is not the highest, the primary key is still unique.\n#\n####################\n# NibbleIterator:3908 17970 MySQL wants to use index resid\n# NibbleIterator:3920 17970 Wanted index is a possible index\n# NibbleIterator:3938 17970 No PRIMARY or unique indexes; will use index with highest cardinality\n# NibbleIterator:3969 17970 SHOW INDEXES FROM `wc_acj`.`multi_resource_apt` WHERE Key_name = 'resid'\n# NibbleIterator:3979 17970 Index resid cardinality: 10\n# NibbleIterator:3958 17970 Best index: resid\n# TableNibbler:2204 17970 Will ascend index resid\n# TableNibbler:2211 17970 Will ascend columns res_id\n# TableNibbler:2222 17970 Will ascend, in ordinal position: 1\n# NibbleIterator:3591 17970 Ascend params: $VAR1 = {\n#   boundaries => {\n#     '<' => '((`res_id` < ?))',\n#     '<=' => '((`res_id` <= ?))',\n#     '>' => '((`res_id` > ?))',\n#     '>=' => '((`res_id` >= ?))'\n#   },\n#   cols => [\n#     'apt_id',\n#     'res_id'\n#   ],\n#   index => 'resid',\n#   scols => [\n#     'res_id'\n#   ],\n#   slice => [\n#     1\n#   ],\n#   where => '((`res_id` > ?))'\n# };\n#", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/978432/related_tasks", 
"date_assigned": "2012-04-17T21:14:48.611166+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum ignoring primary key", 
"title": "Bug #978432 in Percona Toolkit: \"pt-table-checksum ignoring primary key\"", 
"date_confirmed": "2012-04-17T21:14:44.460865+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/978432", 
"date_left_new": "2012-04-17T21:14:44.460865+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/978432", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"543bd8635e40d6eeb508bc555cb4e7c79de26c21-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-08T22:33:13.023407+00:00", 
"date_fix_released": "2012-06-19T19:58:11.822575+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/978432", 
"date_created": "2012-04-10T23:10:29.723808+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T19:58:07.092036+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-17T22:33:23.998081+00:00", 
"bug_id": 979092, 
"date_in_progress": "2012-04-17T22:33:23.998081+00:00", 
"bug_description": "for example, if you use --limit 1000 and --sleep 60 instead of fetching 1000 rows and then sleep 60 seconds, it sleeps 60 seconds every row. So for example purge processes needs lot of time:\n\npt-archiver \\\n--source h=localhost,D=test,t=t,u=root \\\n--purge \\\n--where 'i > 1' \\\n--limit 5 \\\n--sleep 5 \\\n--bulk-delete \\\n--pid=/tmp/mk-archiver-sessions.pid\n\n# pt_archiver:4201 2597 Got another row in this chunk\n# pt_archiver:4218 2597 Sleeping 5\n# pt_archiver:4201 2597 Got another row in this chunk\n# pt_archiver:4218 2597 Sleeping 5\n# pt_archiver:4201 2597 Got another row in this chunk\n# pt_archiver:4218 2597 Sleeping 5\n# pt_archiver:4201 2597 Got another row in this chunk\n# pt_archiver:4218 2597 Sleeping 5\n# pt_archiver:4112 2597 No more rows in this chunk; doing bulk operations\n# pt_archiver:4165 2597 Bulk deleted 5 rows\n\nSo, it deletes data in groups of 5 rows, but it stops after every fetched row. If I remove the sleep option:\n\npt-archiver \\\n--source h=localhost,D=test,t=t,u=root \\\n--purge \\\n--where 'i > 1' \\\n--limit 5 \\\n--bulk-delete \\\n--pid=/tmp/mk-archiver-sessions.pid\n\n# pt_archiver:4201 2602 Got another row in this chunk\n# pt_archiver:4201 2602 Got another row in this chunk\n# pt_archiver:4201 2602 Got another row in this chunk\n# pt_archiver:4201 2602 Got another row in this chunk\n# pt_archiver:4112 2602 No more rows in this chunk; doing bulk operations\n# pt_archiver:4165 2602 Bulk deleted 5 rows\n\nTo solve the problem I've moved the sleep section of the code to the end of the \"This code is for the bulk archiving functionality\" section.\n\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4112 2110 No more rows in this chunk; doing bulk operations\n# pt_archiver:4165 2110 Bulk deleted 5 rows\n# pt_archiver:4179 2110 Sleeping 5\n# pt_archiver:4191 2110 Fetching rows in next chunk\n# pt_archiver:4196 2110 Fetched 5 rows\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4211 2110 Got another row in this chunk\n# pt_archiver:4112 2110 No more rows in this chunk; doing bulk operations\n# pt_archiver:4165 2110 Bulk deleted 5 rows\n# pt_archiver:4179 2110 Sleeping 5", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/979092/related_tasks", 
"date_assigned": "2012-04-17T22:33:27.933652+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-archiver --sleep conflicts with bulk operations", 
"title": "Bug #979092 in Percona Toolkit: \"pt-archiver --sleep conflicts with bulk operations\"", 
"date_confirmed": "2012-04-16T17:13:40.600718+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/979092", 
"date_left_new": "2012-04-16T17:13:40.600718+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/979092", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"b3bdaa11f2de3afa2af56e73717be500a4479c73-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-17T22:59:40.025928+00:00", 
"date_fix_released": "2012-06-19T19:58:07.092036+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/979092", 
"date_created": "2012-04-11T16:43:54.222377+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-22758", 
"pt-archiver", 
"sleep"
]
}, 
{
"date_closed": "2012-08-10T18:12:02.180226+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-17T15:07:45.544313+00:00", 
"bug_id": 980318, 
"date_in_progress": "2012-07-17T15:07:45.544313+00:00", 
"bug_description": "When comparing DSNs with fairly long hostnames plus port number, the results for the second machine show up as an ellipsis. In my case the FQDN plus port number for each machine was 38 characters (33 in the hostname), and I only saw the first 27 characters of the second host above the hidden results.  If I modify use DSN to use non-FQDN for each, I see the results for both servers.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/980318/related_tasks", 
"date_assigned": "2012-07-17T15:07:37.097506+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade results truncated if hostnames are long", 
"title": "Bug #980318 in Percona Toolkit: \"pt-upgrade results truncated if hostnames are long\"", 
"date_confirmed": "2012-04-17T15:19:24.813008+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/980318", 
"date_left_new": "2012-04-17T15:19:24.813008+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/980318", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"c07028ca66487a8b5ac2948c7b1fc4e63b96be18-9a40da5f83accaaef0043a440cd179f1fd740343\"", 
"owner_link": "https://api.launchpad.net/devel/~slzd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-17T16:01:55.919968+00:00", 
"date_fix_released": "2012-08-10T18:12:02.180226+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/980318", 
"date_created": "2012-04-12T21:28:16.006264+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-24578", 
"pt-upgrade", 
"wrong-output"
]
}, 
{
"date_closed": "2012-06-19T19:58:01.640812+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T20:43:26.240983+00:00", 
"bug_id": 988036, 
"date_in_progress": "2012-05-14T17:47:46.988622+00:00", 
"bug_description": "While attempting to run some tests to determine the expected additional load pt-online-schema-change would cause in write heavy environment I have run into a repeatable deadlock problem.\n\nI am trying to answer a couple questions before using this tool in our production environment. Those questions are\n1) Can this tool be used safely in a production environment under heavy write load.\n2) What is the potential impact to write throughput while the schema change is in flight.\n\nIn order to accomplish this I have done the following\n1) Take a mysqldump snapshot of the production database.\n2) Copied 1 weeks worth of binlogs, starting with the transaction referenced in the mysqldump, and processed them into a stream of sql files\n\nMy experimental control:\n1) Restore the production snapshot\n2) Replay the processed binlogs timing how long it takes to apply each one (e.g. for X in binlog*.sql; do time mysql -u root --default-character-set=utf8 < $X; echo $X; done)\n\nMy experimental procedure is identical to my control except that while the binlogs being streamed into mysql run the online schema change (e.g. pt-online-schema-change --alter \"ADD COLUMN aNewNumber BIGINT(20) NULL DEFAULT NULL\" --drop-old-table --user root -A utf8 --execute D=somedb,t=someTable )\n\nThe version of the percona toolkit is 2.1.1-1\n$ pt-online-schema-change --version\npt-online-schema-change 2.1.1\n\nThe mysql database version is Percona 5.5.16-55\nmysql> show variables like 'version%';\n+-------------------------+-----------------------------------------------------+\n| Variable_name           | Value                                               |\n+-------------------------+-----------------------------------------------------+\n| version                 | 5.5.16-55                                           |\n| version_comment         | Percona Server (GPL), Release rel22.0, Revision 189 |\n| version_compile_machine | x86_64                                              |\n| version_compile_os      | Linux                                               |\n+-------------------------+-----------------------------------------------------+\n\nThe full (sanitized) output one of the runs that resulted in the deadlock follows including the innodb status immediately after pt-online-schema-change bailed out.\n\npt-online-schema-change --alter \"ADD COLUMN newby BIGINT(20) NULL DEFAULT NULL\" --drop-old-table --user root -A utf8 --execute D=somedb,t=sometable\nAltering `somedb`.`sometable`...\nCreating new table...\nCreated new table somedb._sometable_new OK.\nAltering new table...\nAltered `somedb`.`_sometable_new` OK.\nCreating triggers...\nCreated triggers OK.\nCopying approximately 302588620 rows...\nCopying `somedb`.`sometable`:   0% 02:50:16 remain\nCopying `somedb`.`sometable`:   0% 02:53:06 remain\n...\nError copying rows from `somedb`.`sometable` to `somedb`.`_sometable_new`: DBD::mysql::st execute failed: Deadlock found when trying to get lock; try restarting transaction [for Statement \"INSERT LOW_PRIORITY IGNORE INTO `somedb`.`_sometable_new` (`somedataid`, `somerowid`, `columndefid`, `datatype`, `someid`, `displayname`, `datastring`, `datanumeric`, `formuladefinition`, `someformat1`, `haslink`, `somelogid`) SELECT `somedataid`, `somerowid`, `columndefid`, `datatype`, `someid`, `displayname`, `datastring`, `datanumeric`, `formuladefinition`, `someformat1`, `haslink`, `somelogid` FROM `somedb`.`sometable` FORCE INDEX(`PRIMARY`) WHERE ((`somedataid` >= ?)) AND ((`somedataid` <= ?)) /*pt-online-schema-change 31672 copy nibble*/\" with ParamValues: 1='262934336', 0='262910306'] at /usr/bin/pt-online-schema-change line 6593.\n\nDropping triggers...\nDropped triggers OK.\nDropping new table...\nDropped new table OK.\n`somedb`.`sometable` was not altered.\n\n\nmysql> SHOW ENGINE INNODB STATUS\\G\n*************************** 1. row ***************************\n  Type: InnoDB\n  Name:\nStatus:\n=====================================\n120423 15:18:31 INNODB MONITOR OUTPUT\n=====================================\nPer second averages calculated from the last 4 seconds\n-----------------\nBACKGROUND THREAD\n-----------------\nsrv_master_thread loops: 3413 1_second, 2815 sleeps, 341 10_second, 19 background, 19 flush\nsrv_master_thread log flush and writes: 4395\n----------\nSEMAPHORES\n----------\nOS WAIT ARRAY INFO: reservation count 41485, signal count 56845\nMutex spin waits 241897, rounds 1592751, OS waits 35886\nRW-shared spins 17882, rounds 80843, OS waits 1301\nRW-excl spins 7590, rounds 148186, OS waits 3174\nSpin rounds per wait: 6.58 mutex, 4.52 RW-shared, 19.52 RW-excl\n--------\nFILE I/O\n--------\nI/O thread 0 state: waiting for completed aio requests (insert buffer thread)\nI/O thread 1 state: waiting for completed aio requests (log thread)\nI/O thread 2 state: waiting for completed aio requests (read thread)\nI/O thread 3 state: waiting for completed aio requests (read thread)\nI/O thread 4 state: waiting for completed aio requests (read thread)\nI/O thread 5 state: waiting for completed aio requests (read thread)\nI/O thread 6 state: waiting for completed aio requests (write thread)\nI/O thread 7 state: waiting for completed aio requests (write thread)\nI/O thread 8 state: waiting for completed aio requests (write thread)\nI/O thread 9 state: waiting for completed aio requests (write thread)\nPending normal aio reads: 0 [0, 0, 0, 0] , aio writes: 0 [0, 0, 0, 0] ,\n ibuf aio reads: 0, log i/o's: 0, sync i/o's: 0\nPending flushes (fsync) log: 0; buffer pool: 0\n605243 OS file reads, 2345220 OS file writes, 156562 OS fsyncs\n0.00 reads/s, 0 avg bytes/read, 0.00 writes/s, 0.00 fsyncs/s\n-------------------------------------\nINSERT BUFFER AND ADAPTIVE HASH INDEX\n-------------------------------------\nIbuf: size 1, free list len 67793, seg size 67795, 15302 merges\nmerged operations:\n insert 32390, delete mark 28567, delete 6482\ndiscarded operations:\n insert 0, delete mark 0, delete 0 \nHash table size 101998957, node heap has 736 buffer(s)\n0.00 hash searches/s, 0.00 non-hash searches/s\n---\n\nLOG\n---\nLog sequence number 671964880604   \nLog flushed up to   671964880604   \nLast checkpoint at  671964879630   \nMax checkpoint age    216721613\nCheckpoint age target 209949063\nModified age          974\nCheckpoint age        974\n0 pending log writes, 0 pending chkp writes\n79961 log i/o's done, 0.00 log i/o's/second\n----------------------\nBUFFER POOL AND MEMORY\n----------------------\nTotal memory allocated 52948893696; in additional pool allocated 0\nInternal hash tables (constant factor + variable factor)\n    Adaptive hash index 828054496       (815991656 + 12062840)\n    Page hash           51000296 (buffer pool 0 only)\n    Dictionary cache    204965986       (204000176 + 965810)\n    File system         145592  (82672 + 62920)\n    Lock system         127499984       (127499608 + 376)\n    Recovery system     0       (0 + 0)\nDictionary memory allocated 965810\nBuffer pool size        3145727\n\nBuffer pool size, bytes 51539591168\nFree buffers            2534916\nDatabase pages          610075\nOld database pages      225196\nModified db pages       23\nPending reads 0\nPending writes: LRU 0, flush list 0, single page 0\nPages made young 29429, not young 0\n0.00 youngs/s, 0.00 non-youngs/s\nPages read 605091, created 901318, written 2213475\n0.00 reads/s, 0.00 creates/s, 0.00 writes/s\nNo buffer pool page gets since the last printout\nPages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s\nLRU len: 610075, unzip_LRU len: 0\nI/O sum[0]:cur[0], unzip sum[0]:cur[0]\n--------------\nROW OPERATIONS\n--------------\n0 queries inside InnoDB, 0 queries in queue\n1 read views open inside InnoDB\n---OLDEST VIEW---\nNormal read view\nRead view low limit trx n:o BE930\nRead view up limit trx id BE930\nRead view low limit trx id BE930\nRead view individually stored trx ids:\n-----------------\nMain thread process no. 31604, id 1198377280, state: flushing log\nNumber of rows inserted 76114387, updated 217064, deleted 68485, read 173066333\n0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s\n------------------------\nLATEST DETECTED DEADLOCK\n------------------------\n\n120423 14:41:01\n*** (1) TRANSACTION:\nTRANSACTION B67FA, ACTIVE 0 sec fetching rows\nmysql tables in use 2, locked 2\nLOCK WAIT 10 lock struct(s), heap size 1248, 711 row lock(s), undo log entries 706\nMySQL thread id 2, OS thread handle 0x4a9a4940, query id 1544298 localhost root Sending data\nINSERT LOW_PRIORITY IGNORE INTO `somedb`.`_sometable_new` (`somedataid`, `somerowid`, `columndefid`, `datatype`, `someid`, `displayname`, `datastring`, `datanumeric`, `formuladefinition`, `someformat1`, `haslink`, `somelogid`) SELECT `somedataid`, `somerowid`, `columndefid`, `datatype`, `someid`, `displayname`, `datastring`, `datanumeric`, `formuladefinition`, `someformat1`, `haslink`, `somelogid` FROM `somedb`.`sometable` FORCE INDEX(`PRIMARY`) WHERE ((`somedataid` >= '262910306')) AND ((`somedataid` <= '262934336')) /*pt-online-schema-change 31672 copy nibble*/\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 213 page no 948647 n bits 232 index `PRIMARY` of table `somedb`.`sometable` trx id B67FA lock mode S waiting\n*** (2) TRANSACTION:\nTRANSACTION B67B6, ACTIVE 26 sec setting auto-inc lock\nmysql tables in use 2, locked 2\n1107 lock struct(s), heap size 145848, 2024 row lock(s), undo log entries 1486\nMySQL thread id 9, OS thread handle 0x4a9e5940, query id 1544300 localhost root update\nREPLACE INTO `somedb`.`_sometable_new` (`somedataid`, `somerowid`, `columndefid`, `datatype`, `someid`, `displayname`, `datastring`, `datanumeric`, `formuladefinition`, `someformat1`, `haslink`, `somelogid`) VALUES (NEW.`somedataid`, NEW.`somerowid`, NEW.`columndefid`, NEW.`datatype`, NEW.`someid`, NEW.`displayname`, NEW.`datastring`, NEW.`datanumeric`, NEW.`formuladefinition`, NEW.`someformat1`, NEW.`haslink`, NEW.`somelogid`)\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 213 page no 948647 n bits 232 index `PRIMARY` of table `somedb`.`sometable` trx id B67B6 lock_mode X locks rec but not gap\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nTABLE LOCK table `somedb`.`_sometable_new` trx id B67B6 lock mode AUTO-INC waiting\n*** WE ROLL BACK TRANSACTION (1)\n------------\nTRANSACTIONS\n------------\nTrx id counter BE930\nPurge done for trx's n:o < BE927 undo n:o < 0\nHistory list length 1796\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 0, not started\nMySQL thread id 37, OS thread handle 0x4a963940, query id 2134938 localhost root\nSHOW ENGINE INNODB STATUS\n----------------------------\nEND OF INNODB MONITOR OUTPUT\n============================", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/988036/related_tasks", 
"date_assigned": "2012-05-14T17:30:47.021891+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change causes deadlocks under heavy write load", 
"title": "Bug #988036 in Percona Toolkit: \"pt-online-schema-change causes deadlocks under heavy write load\"", 
"date_confirmed": "2012-05-03T20:43:26.240983+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/988036", 
"date_left_new": "2012-05-03T20:43:26.240983+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/988036", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"8fd4cf91c169d0ea83a8055cfbe2df43512745ab-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~dj-a", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-25T22:09:52.759991+00:00", 
"date_fix_released": "2012-06-19T19:58:01.640812+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/988036", 
"date_created": "2012-04-24T21:19:11.451707+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"dead-lock", 
"percona-23453", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T19:57:56.088617+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 989227, 
"date_in_progress": null, 
"bug_description": "Line 5390 of 2.1.1 of pt-osc:\n\n\n      PTDEBUG && _('Clean up new table');\n\nShould be _d( instead of _(.  So using PTDEBUG=1 will cause the tool to crash.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/989227/related_tasks", 
"date_assigned": "2012-04-26T20:48:12.539824+00:00", 
"bug_information_type": "Public", 
"bug_title": "Using PTDEBUG crashes pt-online-schema-change 2.1", 
"title": "Bug #989227 in Percona Toolkit: \"Using PTDEBUG crashes pt-online-schema-change 2.1\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/989227", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/989227", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"cb2b3bdf7fc9633ef6617404360a09d90787e581-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-26T21:13:48.108854+00:00", 
"date_fix_released": "2012-06-19T19:57:56.088617+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/989227", 
"date_created": "2012-04-26T20:48:12.189883+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"percona-23108", 
"pt-online-schema-change", 
"syntax-error"
]
}, 
{
"date_closed": "2012-06-19T20:01:38.341591+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T21:01:34.933999+00:00", 
"bug_id": 994010, 
"date_in_progress": "2012-05-04T15:47:25.815620+00:00", 
"bug_description": "Hi\nWe have a MySQL db, without innodb(my.cnf: skip_innodb)\nIt seems that the pt-online-schema-change cannot handle MyISAM only dbs.\n\nHere is the error:\n# pt_online_schema_change:5012 32418 DBI::db=HASH(0x8a710e0) SHOW SESSION VARIABLES LIKE 'innodb_lock_wait_timeout'\n# pt_online_schema_change:5014 32418 innodb_lock_wait_timeout on server: undef\nCannot connect to MySQL: Use of uninitialized value in numeric gt (>) at /usr/bin/pt-online-schema-change line 5015.\n\n\nand of course from the mysql:\n\nroot@dc01avlogmdb-01 [(none)]> SHOW SESSION VARIABLES LIKE 'innodb_lock_wait_timeout';\nEmpty set (0.00 sec)\n\nRegards,\nGuy", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994010/related_tasks", 
"date_assigned": "2012-05-04T15:46:47.240282+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change 2.1.1 crashes without InnoDB", 
"title": "Bug #994010 in Percona Toolkit: \"pt-online-schema-change 2.1.1 crashes without InnoDB\"", 
"date_confirmed": "2012-05-03T21:01:34.933999+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/994010", 
"date_left_new": "2012-05-03T21:01:34.933999+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/994010", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"820676e19f2c1a5cd91a4b8b57d9fab41f4e55a3-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~metalink", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-16T23:43:52.169080+00:00", 
"date_fix_released": "2012-06-19T20:01:38.341591+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994010", 
"date_created": "2012-05-03T14:22:05.386839+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T19:59:47.341752+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-08T14:40:16.936908+00:00", 
"bug_id": 994947, 
"date_in_progress": "2012-05-15T19:13:00.841051+00:00", 
"bug_description": "By default when triggered to collect and threshold matches, cycles_true does not reset to 0. This may lead to inconsistent data being collected.\n\n[root@trim2 ~]# pt-stalk --version\npt-stalk 2.1.1\n\n[root@trim2 ~]# pt-stalk --threshold=15 --interval=1 --cycles=15 --dest=/home/percona/collected\n2012_05_04_20_41_06 Starting /usr/bin/pt-stalk --function=status --variable=Threads_running --threshold=15 --match= --cycles=15 --interval=1 --iterations= --run-time=30 --sleep=300 --dest=/home/percona/collected --prefix= --notify-by-email= --log=/var/log/pt-stalk.log --pid=/var/run/pt-stalk.pid\n...\n2012_05_04_20_41_20 Check results: Threads_running=16, matched=yes, cycles_true=1\n2012_05_04_20_41_21 Check results: Threads_running=17, matched=yes, cycles_true=2\n2012_05_04_20_41_22 Check results: Threads_running=17, matched=yes, cycles_true=3\n2012_05_04_20_41_23 Check results: Threads_running=18, matched=yes, cycles_true=4\n2012_05_04_20_41_24 Check results: Threads_running=18, matched=yes, cycles_true=5\n2012_05_04_20_41_25 Check results: Threads_running=18, matched=yes, cycles_true=6\n2012_05_04_20_41_26 Check results: Threads_running=18, matched=yes, cycles_true=7\n2012_05_04_20_41_27 Check results: Threads_running=19, matched=yes, cycles_true=8\n2012_05_04_20_41_28 Check results: Threads_running=19, matched=yes, cycles_true=9\n2012_05_04_20_41_29 Check results: Threads_running=20, matched=yes, cycles_true=10\n2012_05_04_20_41_30 Check results: Threads_running=19, matched=yes, cycles_true=11\n2012_05_04_20_41_31 Check results: Threads_running=19, matched=yes, cycles_true=12\n2012_05_04_20_41_32 Check results: Threads_running=20, matched=yes, cycles_true=13\n2012_05_04_20_41_33 Check results: Threads_running=20, matched=yes, cycles_true=14\n2012_05_04_20_41_34 Check results: Threads_running=20, matched=yes, cycles_true=15\n2012_05_04_20_41_34 Collect triggered\n2012_05_04_20_41_34 Collector PID 15530\n2012_05_04_20_41_34 Sleeping 300 seconds after collect\n\n2012_05_04_20_46_34 Check results: Threads_running=19, matched=yes, cycles_true=16\n2012_05_04_20_46_34 Collect triggered\n2012_05_04_20_46_34 Collector PID 17181\n2012_05_04_20_46_34 Sleeping 300 seconds after collect", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994947/related_tasks", 
"date_assigned": "2012-05-15T19:13:07.083480+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk doesn't reset cycles_true after collection", 
"title": "Bug #994947 in Percona Toolkit: \"pt-stalk doesn't reset cycles_true after collection\"", 
"date_confirmed": "2012-05-08T14:40:16.936908+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/994947", 
"date_left_new": "2012-05-08T14:40:16.936908+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/994947", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"3e6c047031c2f2b46ecd92468345fc32aca52964-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~revin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-15T19:19:47.241195+00:00", 
"date_fix_released": "2012-06-19T19:59:47.341752+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994947", 
"date_created": "2012-05-05T03:53:16.145020+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk", 
"wrong-behavior"
]
}, 
{
"date_closed": "2012-05-14T19:32:06.881970+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 996746, 
"date_in_progress": null, 
"bug_description": "Hi, I'm unable to run pt-pem, it is failing with the following:\n\nroot@XXXX:~# PTDEBUG=1 perl pt-pem --source u=XXXX,p=XXXX --dest h=XXXX,u=XXXX,p=XXXX\n# /usr/bin/perl 5.010001\n# Linux XXXX 2.6.32-33-server #70-Ubuntu SMP Thu Jul 7 22:28:30 UTC 2011 x86_64 GNU/Linux\n# Arguments: _[--source]_ _[u=XXXX,p=XXXX]_ _[--dest]_ _[h=XXXX,u=XXXX,p=XXXX]_\nPOD has no OPTIONS section at pt-pem_v1 line 557, <$fh> chunk 1.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996746/related_tasks", 
"date_assigned": "2012-05-14T17:30:02.286627+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-pem tool failing with POD has no OPTIONS section at pt-pem_v1 line 557, <$fh> chunk 1.", 
"title": "Bug #996746 in Percona Toolkit: \"pt-pem tool failing with POD has no OPTIONS section at pt-pem_v1 line 557, <$fh> chunk 1.\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/996746", 
"date_left_new": "2012-05-09T13:41:04.452960+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996746", 
"milestone_link": null, 
"http_etag": "\"c3096a2e31cf0d8d0628113e2518495d6a60c70f-99891f0fbbb3a92742e6b7b6551e1d68dd093cfb\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996746", 
"date_created": "2012-05-08T20:23:10.077194+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"percona-22313", 
"pt-pem"
]
}, 
{
"date_closed": "2012-10-03T17:08:33.637849+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1001004, 
"date_in_progress": null, 
"bug_description": "I'm including a patch for a new feature in pt-stalk.\n\n--exec-after-collect\n\nexecute a command when a collection is triggered.  This lets you do things like invoke pt-kill to handle a query pileup, as well as use stalk to gather info.\n\n\n--exec-after-sleep\n\nexecute a command after collection has been triggered, and the script has sleet for --sleep seconds.  This is used in my case to execute a script that creates a tar.gz file from the data, then sends it to a remote server.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001004/related_tasks", 
"date_assigned": "2012-10-02T21:33:11.254995+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk feature: execute external script on event", 
"title": "Bug #1001004 in Percona Toolkit: \"pt-stalk feature: execute external script on event\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1001004", 
"date_left_new": "2012-05-23T14:24:50.406683+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1001004", 
"milestone_link": null, 
"http_etag": "\"2624f2035449480d4b35caf9cbe5a66fb1cd2802-99891f0fbbb3a92742e6b7b6551e1d68dd093cfb\"", 
"owner_link": "https://api.launchpad.net/devel/~gtowey", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001004", 
"date_created": "2012-05-17T21:42:34.929546+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-23615", 
"plugin", 
"pt-stalk"
]
}, 
{
"date_closed": "2012-06-19T19:59:40.435797+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1002365, 
"date_in_progress": null, 
"bug_description": "There are tests for this (schema filters with --replicate), but there's no specific test for --replicate and --ignore-tables, so there could very well be a bug lurking here.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002365/related_tasks", 
"date_assigned": "2012-05-21T16:13:08.263892+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync --ignore-* options don't work with --replicate", 
"title": "Bug #1002365 in Percona Toolkit: \"pt-table-sync --ignore-* options don't work with --replicate\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1002365", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1002365", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"94d4db8167a81923ef3ded22216c391b6ff0cc46-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-21T22:03:32.158982+00:00", 
"date_fix_released": "2012-06-19T19:59:40.435797+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002365", 
"date_created": "2012-05-21T16:12:38.372787+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"filters", 
"percona-21967", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-06-19T19:59:29.579684+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1004551, 
"date_in_progress": null, 
"bug_description": "Dropping old table...\nUse of uninitialized value in concatenation (.) or string at ./pt-online-schema-change line 6008.\n\nThat's because if --no-swap-tables is specified, the code to drop tables still executes but there's no old table to drop.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1004551/related_tasks", 
"date_assigned": "2012-05-25T15:24:31.420813+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change --no-swap-tables causes error", 
"title": "Bug #1004551 in Percona Toolkit: \"pt-online-schema-change --no-swap-tables causes error\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1004551", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1004551", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"8686193165d0df06a38bad938c7049edccee3f85-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-25T16:48:24.133732+00:00", 
"date_fix_released": "2012-06-19T19:59:29.579684+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1004551", 
"date_created": "2012-05-25T15:24:31.119079+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T19:59:25.615134+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-06-05T14:45:53.329312+00:00", 
"bug_id": 1008778, 
"date_in_progress": "2012-06-05T14:45:53.329312+00:00", 
"bug_description": "I've observed nondeterministic behavior in this test:\n\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-table-checksum/skip_innodb.t \n# Stopping/reconfiguring/restarting sandboxes 12348 and 12349\n1..3\nok 1 - Ran without InnoDB (bug 996110)\nok 2 - 0 exit status (bug 996110)\n# Shutting down sandboxes\nok 3 - Sandbox servers\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-table-checksum/skip_innodb.t \n# Stopping/reconfiguring/restarting sandboxes 12348 and 12349\n1..3\nok 1 - Ran without InnoDB (bug 996110)\nnot ok 2 - 0 exit status (bug 996110)\n#   Failed test '0 exit status (bug 996110)'\n#   in t/pt-table-checksum/skip_innodb.t at line 61.\n#          got: '1'\n#     expected: '0'\n# Shutting down sandboxes\nok 3 - Sandbox servers\n# Looks like you failed 1 test of 3.\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-table-checksum/skip_innodb.t \n# Stopping/reconfiguring/restarting sandboxes 12348 and 12349\n1..3\nok 1 - Ran without InnoDB (bug 996110)\nok 2 - 0 exit status (bug 996110)\n# Shutting down sandboxes\nok 3 - Sandbox servers\n\nWhen I saved the output of test 2 to a file in /tmp, I found a lot of the following:\n\n\n06-04T09:01:26      2      0        0       1       0   0.008 mysql.time_zone_name\n06-04T09:01:26 Error waiting for the last checksum of table mysql.time_zone_transition to replicate to replica localhost.localdomain: DBD::mysql::db selectrow_array failed: Table 'percona.checksums' doesn't exist [for Statement \"SELECT MAX(chunk) FROM `percona`.`checksums` WHERE db='mysql' AND tbl='time_zone_transition' AND master_crc IS NOT NULL\"] at /home/baron/stabilize-test-suite//bin/pt-table-checksum line 7513.\n\nCheck that the replica is running and has the replicate table `percona`.`checksums`.  Checking the replica for checksum differences will probably cause another error.\n06-04T09:01:26 Error checksumming table mysql.time_zone_transition: Use of uninitialized value in numeric lt (<) at /home/baron/stabilize-test-suite//bin/pt-table-checksum line 7533.\n\nThis hints to me that pt-table-checksum needs to do something smarter. After creating the checksum table, it needs to wait until this table appears on all of the replicas it's detected. In addition, we need to fix the error on line 7533.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008778/related_tasks", 
"date_assigned": "2012-06-05T14:45:57.834197+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't wait for checksum table to replicate", 
"title": "Bug #1008778 in Percona Toolkit: \"pt-table-checksum doesn't wait for checksum table to replicate\"", 
"date_confirmed": "2012-06-05T14:45:53.329312+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1008778", 
"date_left_new": "2012-06-05T14:45:53.329312+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1008778", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"34a54425c9bfdfc802eedee09a7a181701592687-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-10T17:28:09.049589+00:00", 
"date_fix_released": "2012-06-19T19:59:25.615134+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008778", 
"date_created": "2012-06-04T23:24:13.818916+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"breaks-replication", 
"pt-table-checksum", 
"replication-lag", 
"risk"
]
}, 
{
"date_closed": "2012-06-25T16:49:17.976201+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-09T21:46:33.551665+00:00", 
"bug_id": 1010020, 
"date_in_progress": "2012-06-09T21:46:33.551665+00:00", 
"bug_description": "I've observed a case where pt-online-schema-change fails to nibble from the old to new table because the new table doesn't exist. This happens because it's trying to nibble after dropping (although I don't see the rename/swap in the query log, which may be part of the bug). The behavior happens about 10-20% of the time for me on the t/pt-online-schema-change/alter_active_table.t test as of revision 262 in this branch: lp:/~percona-toolkit-dev/percona-toolkit/stabilize-test-suite/\n\nHere is the test output I see:\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-online-schema-change/alter_active_table.t \n1..9\n# Loading sample dataset...\n# Binlog position before altering table: mysql-bin.000001/3686358\nnot ok 1 - Altered OK\n#   Failed test 'Altered OK'\n#   in t/pt-online-schema-change/alter_active_table.t at line 184.\n#                   'Error copying rows from `pt_osc`.`t` to `pt_osc`.`_t_new`: DBD::mysql::st execute failed: Table 'pt_osc._t_new' doesn't exist [for Statement \"INSERT LOW_PRIORITY IGNORE INTO `pt_osc`.`_t_new` (`id`, `c`, `d`) SELECT `id`, `c`, `d` FROM `pt_osc`.`t` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) AND ((`id` <= ?)) /*pt-online-schema-change 19490 copy nibble*/\" with ParamValues: 1='515', 0='504'] at /home/baron/stabilize-test-suite//bin/pt-online-schema-change line 6734.\n# \n# '\n#     doesn't match '(?-xism:Successfully altered `pt_osc`.`t`)'\n\nNaturally, everything fails after this, because the tool has died.\n\nI will attach the output of the query log and the output of the binary log. You can see that in the query log, at line 180, the DROP TABLE happens. Nibbling is apparently finished by this time, but then a final nibble appears to occur at line 204. This is the one that breaks the tool.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010020/related_tasks", 
"date_assigned": "2012-06-07T14:00:11.509435+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change die handler didn't check if inside eval", 
"title": "Bug #1010020 in Percona Toolkit: \"pt-online-schema-change die handler didn't check if inside eval\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1010020", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1010020", 
"milestone_link": null, 
"http_etag": "\"42375a3d53673fdefb0d16bae98e6bcc72af197a-2c052b01073ced60812706412e170a1ac3ace89a\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T02:56:39.703716+00:00", 
"date_fix_released": "2012-06-25T16:49:17.976201+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010020", 
"date_created": "2012-06-07T13:57:34.131635+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-online-schema-change", 
"test-failure"
]
}, 
{
"date_closed": "2012-06-19T19:59:21.735128+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1010232, 
"date_in_progress": null, 
"bug_description": "pt-table-checksum 2.1.1 explains the next upper boundary statement and single-chunk statements, but it does not explain checksum chunk queries (i.e .when chunking a table).  Usually, these are safe, but on occasion (e.g. Percona 23486), MySQL will access too many rows.  So all checksum chunk nibbles need to be explained, too, and --chunk-size-limit applied to them.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010232/related_tasks", 
"date_assigned": "2012-06-07T21:53:06.773733+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't check the size of checksum chunks", 
"title": "Bug #1010232 in Percona Toolkit: \"pt-table-checksum doesn't check the size of checksum chunks\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1010232", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1010232", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"2353f2c7d90401dade859404494a4b7769a196cb-49d2857c62797cf2577f2fe87f8de5b2435dbf4d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T17:06:13.333465+00:00", 
"date_fix_released": "2012-06-19T19:59:21.735128+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010232", 
"date_created": "2012-06-07T21:53:06.322293+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-online-schema-change", 
"pt-table-checksum", 
"safeguard"
]
}, 
{
"date_closed": "2012-10-05T21:30:24.502077+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-05T21:30:24.502077+00:00", 
"bug_id": 1023911, 
"date_in_progress": "2012-10-05T21:30:24.502077+00:00", 
"bug_description": "The /*!99997*/ featured from http://bazaar.launchpad.net/~codership/codership-mysql/wsrep-5.5/revision/3719 prevents REPLACE..SELECT queries from replicating.  Without the special comment, REPLACE..SELECT queries replicate normally, and INSERT..SELECT queries replicate normally with and without the special comment.\n\nTo reproduce:\n\n1) Setup some nodes.\n2) Create a simple test table.\n3) REPLACE INTO table SELECT constant1, constant2; -- this replicates\n4) INSERT INTO table SELECT constant3, constant4; -- this replicates too\n5) REPLACE INTO table SELECT /!*99997*/ constant5, constant6; -- this does not replicate; it only appears on the node on which it was ran", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1023911/related_tasks", 
"date_assigned": "2012-07-12T16:32:14.754258+00:00", 
"bug_information_type": "Public", 
"bug_title": "REPLACE..SELECT /!*99997*/ queries don't replicate", 
"title": "Bug #1023911 in Percona Toolkit: \"REPLACE..SELECT /!*99997*/ queries don't replicate\"", 
"date_confirmed": "2012-07-12T16:31:21.814056+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1023911", 
"date_left_new": "2012-07-12T16:31:21.814056+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1023911", 
"milestone_link": null, 
"http_etag": "\"810dad4c1440580b3fd0df28e1f715fecc903228-faa10927af1c06125134f8becacd04b122601e3c\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-05T21:30:24.502077+00:00", 
"date_fix_released": "2012-10-05T21:30:24.502077+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1023911", 
"date_created": "2012-07-12T16:31:10.422815+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-xtradb-cluster", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-08-29T15:12:33.766873+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1024488, 
"date_in_progress": null, 
"bug_description": "referencing customer via eventum #22371\n\npt-upgrade 2.1.1\n\nWhen running pt-upgrade It's hitting the second DSN specified twice:\n\n$pt-upgrade /tmp/slow-log.out2 h=test-db1 h=test-db2 D=customer_production\n...\n# Query 1: ID 0x836DBBBD5A0E62BA at byte 0 _______________________________\n# Found 59 differences in 100 samples:\n#   checksums       0\n#   column counts   0\n#   column types    0\n#   query times     59\n#   row counts      0\n#   warning counts  0\n#   warning levels  0\n#   warnings        0\n#            test-db1:3306 test-db2:3306 test-db2:3306\n# Errors                      63                  63                  63\n# Warnings                     0                   0                   0\n# Query_time\n#   sum                     36ms                38ms                43ms\n#   min                        0                   0                   0\n#   max                      1ms                 1ms                 1ms\n#   avg                    361us               380us               426us\n#   pct_95                 972us                 1ms                 1ms\n#   stddev                 457us               483us               543us\n#   median                     0                   0                   0\n# row_count\n#   sum                       37                  37                  37\n#   min                        0                   0                   0\n#   max                        1                   1                   1\n#   avg                     0.37                0.37                0.37\n#   pct_95                  0.99                0.99                0.99\n#   stddev                  0.48                0.48                0.48\n#   median                     0                   0                   0\n...\n\ntest-db1 is running PS 5.1.60 and test-db2 is running 5.5.24\n\n I also ran strace and verified it was running the query three times. Any idea why it is hitting the second DSN twice?\n\nI also got some other output at the end, I'm not sure if I should worry about:\n\n...\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nColumn error: Number of values 4 does not match number of columns 5 at /usr/local/bin/pt-upgrade line 8698.\nMissing argument in sprintf at /usr/local/bin/pt-upgrade line 8550.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1024488/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade connecting to second DSN twice", 
"title": "Bug #1024488 in Percona Toolkit: \"pt-upgrade connecting to second DSN twice\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1024488", 
"date_left_new": "2012-07-13T18:42:08.038970+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1024488", 
"milestone_link": null, 
"http_etag": "\"723be9225de4bee7bcea10f69c51aff165fbc351-63ea5cb2ad793cd9ba495287008e496a4c628124\"", 
"owner_link": "https://api.launchpad.net/devel/~rshuddleston", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1024488", 
"date_created": "2012-07-13T17:35:00.549160+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"percona-22371", 
"pt-upgrade", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-08-10T18:12:13.804418+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1030031, 
"date_in_progress": null, 
"bug_description": "Due to this code:\n\n            # Check each slave for checksum diffs.\n            foreach my $slave ( @$slaves ) {\n               eval {\n                  my $diffs = $rc->find_replication_differences(\n                     dbh        => $slave->dbh(),\n                     repl_table => $repl_table,\n                     where      => \"db='$tbl->{db}' AND tbl='$tbl->{tbl}'\",\n                  );\n                  PTDEBUG && _d(scalar @$diffs, 'checksum diffs on',\n                     $slave->name());\n                  if ( @$diffs ) {\n                     $tbl->{checksum_results}->{diffs} = scalar @$diffs;\n                  }\n               };\n\nOnly the last slave's number of diffs is reported for the table.  So with master --> slave1 --> slave2, if slave1 has 2 diffs (in 2 different chunks) but slave2 only has 1, the tool will report 1 for DIFFS for the table.  Solution: report the max(diffs) for all slaves for each table, i.e. 2 in this case.\n\nAs a reminder, from the tool's docs:\n\n\"\"\"\n=item DIFFS\n\nThe number of chunks that differ from the master on one or more replicas.\n\"\"\"\n\nSo 2 is the correct number to report because, all in all, 2 chunks do differ, not just 1.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030031/related_tasks", 
"date_assigned": "2012-07-27T16:48:30.499822+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum reports wrong number of DIFFS", 
"title": "Bug #1030031 in Percona Toolkit: \"pt-table-checksum reports wrong number of DIFFS\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1030031", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1030031", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"e9c6dbe41f40bfb51c1479456976777908e4ae03-9a40da5f83accaaef0043a440cd179f1fd740343\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-27T18:05:37.310293+00:00", 
"date_fix_released": "2012-08-10T18:12:13.804418+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030031", 
"date_created": "2012-07-27T16:48:29.179404+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": null, 
"bug_id": 1031427, 
"date_in_progress": null, 
"bug_description": "(Probably a Percona-Server packaging issue, but reporting it here because it manifests in a percona-toolkit install)\n\nI have a stock CentOS6.3 install\n\n%> cat /etc/centos-release \nCentOS release 6.3 (Final)\n\n%> uname -r\n2.6.32-220.el6.x86_64\n\nWith the Percona Yum repository package: \n\n%> yum info percona-release\nLoaded plugins: fastestmirror, priorities, security\nLoading mirror speeds from cached hostfile\n * base: mirror.stanford.edu\n * extras: mirrors.kernel.org\n * updates: mirrors.kernel.org\n68 packages excluded due to repository priority protections\nInstalled Packages\nName        : percona-release\nArch        : x86_64\nVersion     : 0.0\nRelease     : 1\nSize        : 3.6 k\nRepo        : installed\nSummary     : Percona RPM repository\nURL         : http://www.percona.com/percona-lab.html\nLicense     : GPL version 2\nDescription : Percona release file. This package contains yum\n            : configuration for the Percona RPM Repository, as well as the public\n            : GPG keys used to sign them.\n\nI have the following packages installed:\n\n%> rpm -qa |grep -i percona\nPercona-Server-client-55-5.5.25a-rel27.1.277.rhel6.x86_64\npercona-release-0.0-1.x86_64\nPercona-Server-shared-55-5.5.25a-rel27.1.277.rhel6.x86_64\nPercona-Server-server-55-5.5.25a-rel27.1.277.rhel6.x86_64\n\n(installed via: `yum install Percona-Server-client-55 Percona-Server-server-55`)\n\nTrying to install percona-toolkit, I get the following:\n\n%> yum install percona-toolkit\n...\nTransaction Check Error:\n  file /usr/lib64/libmysqlclient.so from install of Percona-Server-shared-51-5.1.63-rel13.4.443.rhel6.x86_64 conflicts with file from package Percona-Server-shared-55-5.5.25a-rel27.1.277.rhel6.x86_64\n  file /usr/lib64/libmysqlclient_r.so from install of Percona-Server-shared-51-5.1.63-rel13.4.443.rhel6.x86_64 conflicts with file from package Percona-Server-shared-55-5.5.25a-rel27.1.277.rhel6.x86_64\n\nError Summary\n-------------\n\nIf I look at:\n\n%> yum deplist perl-DBD-MySQL\n...\n  dependency: libmysqlclient.so.16(libmysqlclient_16)(64bit)\n   provider: mysql-libs.x86_64 5.1.61-4.el6\n   provider: Percona-Server-shared-51.x86_64 5.1.63-rel13.4.443.rhel6\n   provider: Percona-Server-shared-compat.x86_64 5.5.25a-rel27.1.277.rhel6\n...\n\nWe see that perl-DBD-MySQL requires libmysqlclient.so.16, which is available via Percona-Server-shared-51 but NOT Percona-Server-shared-55.\n\nI can get around this by installing packages in the following order:\n\n%> rpm -qa |grep -i percona\npercona-release-0.0-1.x86_64\n\n%> yum install Percona-Server-shared-compat\n...\n%> yum install Percona-Server-client-55 Percona-Server-server-55 percona-toolkit\n...\n\nBut it's a pain to have to do this every time, I'd rather have the dependencies *just work*", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1031427/related_tasks", 
"date_assigned": "2012-08-08T22:01:15.377673+00:00", 
"bug_information_type": "Public", 
"bug_title": "Painful Yum dependencies on CentOS6.3", 
"title": "Bug #1031427 in Percona Toolkit: \"Painful Yum dependencies on CentOS6.3\"", 
"date_confirmed": "2012-08-08T22:01:06.105410+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1031427", 
"date_left_new": "2012-08-08T22:01:06.105410+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1031427", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"53f6fd1ed965c4ae0e2251ff2cf02e4e3c3b1adb-d9a0627a96964b9e8d64830dd36aa7c47c590a4f\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1031427", 
"date_created": "2012-07-31T16:56:33.802705+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"release", 
"repo"
]
}, 
{
"date_closed": "2012-09-26T21:16:50.479884+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-23T17:45:06.636392+00:00", 
"bug_id": 1034717, 
"date_in_progress": "2012-08-23T17:45:06.636392+00:00", 
"bug_description": "When using pt-table-sync 2.1.2 to sync a table with a varchar primary key, I am receiving the following errors at times:\n\n- Failed to prepare TableSyncChunk plugin: Illegal division by zero at /usr/bin/pt-table-sync line 3937.  while doing db2.table1 on 127.0.0.1\n\n- Failed to prepare TableSyncChunk plugin: Use of uninitialized value in join or string at /usr/bin/pt-table-sync line 3954.  while doing db2.table1 on 127.0.0.1\n\nI attached a reproduce table for the \"Illegal division by zero\" error, but I'm having difficulty narrowing down a reproduce table for the 2nd error without it having thousands of rows.  I believe both issues relate to the distribution of values in some form as it seems to be very intermittent based on the data in my table.\n\nMy sync script is:\n\npt-table-sync --execute h=localhost,P=3306,u=test,p=test,D=db1,t=table1 D=db2\n\nPlease let me know if this is enough to investigate, or if you need more details.  Thanks.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034717/related_tasks", 
"date_assigned": "2012-08-13T14:47:18.940683+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync division by zero error with varchar primary key", 
"title": "Bug #1034717 in Percona Toolkit: \"pt-table-sync division by zero error with varchar primary key\"", 
"date_confirmed": "2012-08-09T11:33:03.168657+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1034717", 
"date_left_new": "2012-08-09T11:33:03.168657+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1034717", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"5ba9276ba89574df4aefeefa18a0ba7f74ad3316-536c6695601ba1f50aaf8a118f0a5fffcce49355\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-brothers", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:07:13.399198+00:00", 
"date_fix_released": "2012-09-26T21:16:50.479884+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034717", 
"date_created": "2012-08-09T02:43:25.838717+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"crash", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-09-26T21:16:53.515724+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": "2012-08-13T14:29:19.707074+00:00", 
"bug_id": 1035950, 
"date_in_progress": "2012-09-21T20:19:56.141288+00:00", 
"bug_description": "pt-query-digest fails to execute after installing from the RPM because it requires a Time::HiRes Perl module\n\n[root@d2595 ~]# rpm -Uhv http://www.percona.com/redir/downloads/percona-toolkit/LATEST/percona-toolkit-2.1.3-2.noarch.rpm\nRetrieving http://www.percona.com/redir/downloads/percona-toolkit/LATEST/percona-toolkit-2.1.3-2.noarch.rpm\nwarning: /var/tmp/rpm-tmp.tz7aJx: Header V4 DSA/SHA1 Signature, key ID cd2efd2a: NOKEY\nPreparing...                ########################################### [100%]\n   1:percona-toolkit        ########################################### [100%]\n[root@d2595 ~]# pt-query-digest /home/mysql/log/mysql-slow.log \nCan't locate Time/HiRes.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/p\nerl5 /usr/share/perl5 .) at /usr/bin/pt-query-digest line 2281.\nBEGIN failed--compilation aborted at /usr/bin/pt-query-digest line 2281.\n[root@d2595 ~]", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035950/related_tasks", 
"date_assigned": "2012-08-16T22:23:03.566293+00:00", 
"bug_information_type": "Public", 
"bug_title": "Percona Toolkit RPM should contain a dependency on perl-Time-HiRes", 
"title": "Bug #1035950 in Percona Toolkit: \"Percona Toolkit RPM should contain a dependency on perl-Time-HiRes\"", 
"date_confirmed": "2012-08-13T14:29:19.707074+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035950", 
"date_left_new": "2012-08-13T14:29:19.707074+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035950", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"955dabaa1a9180b445b5c6a2d64dde5e5bda0e4d-e455a14bf0bda4eac6389e873e4d6f6af354fd75\"", 
"owner_link": "https://api.launchpad.net/devel/~alexclear", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-09-21T20:19:56.141288+00:00", 
"date_fix_released": "2012-09-26T21:16:53.515724+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035950", 
"date_created": "2012-08-12T20:21:51.965760+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-09-26T21:16:57.874451+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-16T21:11:16.746140+00:00", 
"bug_id": 1036747, 
"date_in_progress": "2012-08-16T21:11:16.746140+00:00", 
"bug_description": "Similar checks were removed from pt-table-checksum in 2.1.3; seems like they cause more trouble than they are worth. Another option is turning them off by default.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036747/related_tasks", 
"date_assigned": "2012-08-16T15:58:40.139204+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync priv checks need to be removed", 
"title": "Bug #1036747 in Percona Toolkit: \"pt-table-sync priv checks need to be removed\"", 
"date_confirmed": "2012-08-16T15:58:26.932779+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1036747", 
"date_left_new": "2012-08-16T15:58:26.932779+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1036747", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"77e545d256b8e2ce347cad643939da2fd249a1a2-536c6695601ba1f50aaf8a118f0a5fffcce49355\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:07:05.901377+00:00", 
"date_fix_released": "2012-09-26T21:16:57.874451+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036747", 
"date_created": "2012-08-14T16:44:20.281350+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"privs", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-09-26T21:17:00.665830+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-14T21:10:49.860582+00:00", 
"bug_id": 1036804, 
"date_in_progress": "2012-08-15T21:29:36.088263+00:00", 
"bug_description": "Getting this:\n\nUse of uninitialized value $ddl in pattern match (m//) at /usr/bin/pt-duplicate-key-checker line 408.\n\nAfter a few duplicate keys are outputted.  \n\n$ pt-duplicate-key-checker --version\npt-duplicate-key-checker 2.1.3\n\nLet me know if you need any more information.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036804/related_tasks", 
"date_assigned": "2012-08-15T21:29:39.393244+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-duplicate-key-checker error parsing InnoDB table with no PK or unique keys", 
"title": "Bug #1036804 in Percona Toolkit: \"pt-duplicate-key-checker error parsing InnoDB table with no PK or unique keys\"", 
"date_confirmed": "2012-08-14T21:10:49.860582+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1036804", 
"date_left_new": "2012-08-14T21:10:49.860582+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1036804", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"fc4fefc2eac8caea649a5d35c6c7df1794c444eb-f6466b54257c45d8460df65f2985d9f43c555947\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-15T22:42:33.089627+00:00", 
"date_fix_released": "2012-09-26T21:17:00.665830+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036804", 
"date_created": "2012-08-14T19:36:09.077843+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-duplicate-key-checker"
]
}, 
{
"date_closed": "2012-09-26T21:17:03.286464+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-24T20:56:45.330182+00:00", 
"bug_id": 1041372, 
"date_in_progress": "2012-08-31T01:51:07.622281+00:00", 
"bug_description": "Trigger names have a 64-character cap, and anything above that will cause the create trigger statement to fail.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041372/related_tasks", 
"date_assigned": "2012-08-31T01:51:30.980958+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-changes fails if db+tbl name exceeds 64 characters", 
"title": "Bug #1041372 in Percona Toolkit: \"pt-online-schema-changes fails if db+tbl name exceeds 64 characters\"", 
"date_confirmed": "2012-08-24T20:56:45.330182+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1041372", 
"date_left_new": "2012-08-24T20:56:45.330182+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1041372", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"42239f2d3c7a55398faed12febde637b4c1c6486-536c6695601ba1f50aaf8a118f0a5fffcce49355\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-31T16:01:26.328202+00:00", 
"date_fix_released": "2012-09-26T21:17:03.286464+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041372", 
"date_created": "2012-08-24T20:56:09.260773+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-25758", 
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-03T14:46:35.306977+00:00", 
"bug_id": 1043438, 
"date_in_progress": "2012-10-03T14:46:35.306977+00:00", 
"bug_description": "I've run pt-table-checksum against a server with badly lagging replication, and with --run-time=6h so that it starts at 2am and ends at 8am. Much later, I shut down and restart the replica, and get:\n\n08-29T11:11:16 Fatal error checksumming table <....>: Lost connection to replica <....> while attempting to get its lag", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043438/related_tasks", 
"date_assigned": "2012-10-02T21:33:26.059827+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't honor --run-time while checking replication lag", 
"title": "Bug #1043438 in Percona Toolkit: \"pt-table-checksum doesn't honor --run-time while checking replication lag\"", 
"date_confirmed": "2012-10-01T20:36:31.270442+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1043438", 
"date_left_new": "2012-10-01T20:36:31.270442+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1043438", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"f7c6361513e02938f5ea2f90db7a7a557af8e5b6-50c74d25bc2802c04aa41e126800fd2e1ebf4692\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-03T16:02:26.576456+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043438", 
"date_created": "2012-08-29T17:02:48.959585+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum", 
"run-time"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-01T15:49:45.540142+00:00", 
"bug_id": 1059680, 
"date_in_progress": null, 
"bug_description": "Running pt-table-checksum against the master repeatedly shows different chunks out of sync on the slave that are not found by pt-table-sync. \n\nDetails:\n\n- Table has timestamp column with ON UPDATE CURRENT_TIMESTAMP\n- Updates to table are done via an explicit transaction\n- Max timestamp from the ON UPDATE field generally matches the ts column from the checksum table (give or take a second) for the out of sync chunks\n- tx_isolation is REPEATABLE-READ on master/slave", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059680/related_tasks", 
"date_assigned": "2012-10-01T15:49:51.524394+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum reports diffs not found with pt-table-sync", 
"title": "Bug #1059680 in Percona Toolkit: \"pt-table-checksum reports diffs not found with pt-table-sync\"", 
"date_confirmed": "2012-10-01T15:49:45.540142+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1059680", 
"date_left_new": "2012-10-01T15:49:45.540142+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1059680", 
"milestone_link": null, 
"http_etag": "\"df8dcfd796b8e6a552f7349f49c0174d66b5b756-57e05cee02adde77b94626c1d5b568ad0d4bb11b\"", 
"owner_link": "https://api.launchpad.net/devel/~mbenshoof", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059680", 
"date_created": "2012-10-01T15:48:35.748832+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"percona-26500", 
"pt-table-checksum", 
"tx-isolation", 
"wrong-output"
]
}, 
{
"date_closed": "2012-10-02T21:59:08.899777+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "High", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-02T21:59:08.899777+00:00", 
"bug_id": 1060423, 
"date_in_progress": "2012-10-02T21:59:08.899777+00:00", 
"bug_description": "The pt-table-checksum documentation (http://www.percona.com/doc/percona-toolkit/2.1/pt-table-checksum.html) links to http://www.percona.com/version-check, which doesn't exist.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060423/related_tasks", 
"date_assigned": "2012-10-02T20:11:24.096685+00:00", 
"bug_information_type": "Public", 
"bug_title": "Missing version-check page", 
"title": "Bug #1060423 in Percona Toolkit: \"Missing version-check page\"", 
"date_confirmed": "2012-10-02T20:11:18.937122+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1060423", 
"date_left_new": "2012-10-02T20:11:18.937122+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1060423", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.5", 
"http_etag": "\"dcf24fc9d3134ef52d17d87607666956ce2d4f33-3d68b56668e8a7946861cec619530f38af86071c\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-02T21:59:08.899777+00:00", 
"date_fix_released": "2012-10-02T21:59:08.899777+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060423", 
"date_created": "2012-10-02T19:42:49.704626+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs"
]
}, 
{
"date_closed": "2012-04-18T00:03:21.218834+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 819425, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1345", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819425/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-archiver --sleep-coef requires --sleep", 
"title": "Bug #819425 in Percona Toolkit: \"pt-archiver --sleep-coef requires --sleep\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/819425", 
"date_left_new": "2012-04-18T00:03:21.218834+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/819425", 
"milestone_link": null, 
"http_etag": "\"7a8b01317b6e6e64cd39734ee4e61e3f12a0f8a6-9e0fc54672c8f416c80bec12b0b3ce1a8c2181e6\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819425", 
"date_created": "2011-08-01T17:37:07.943742+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-archiver"
]
}, 
{
"date_closed": "2012-03-19T16:57:39.161982+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-23T16:37:25.295290+00:00", 
"bug_id": 821694, 
"date_in_progress": "2012-02-23T16:37:25.295290+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1244\n\nQuoting the original:\n\nroot@ubuntu:/tmp# ./mk-query-digest /var/run/mysqld/mysqld-slow.log\n# mk_query_digest:12521 17577 Argument \"2020D\" isn't numeric in numeric gt (>) at (eval 48) line 6, <> line 3.\n\nParsing this record:\n\n# Time: 110207  4:16:15.0000392717\n# User@Host: root[root] @ localhost []\n# Thread_id: 38  Schema: test  Last_errno: 0  Killed: 0\n# Query_time: 0.001202  Lock_time: 0.000637  Rows_sent: 1  Rows_examined: 1  Rows_affected: 0  Rows_read: 1\n# Bytes_sent: 67  Tmp_tables: 0  Tmp_disk_tables: 0  Tmp_table_sizes: 0\n# InnoDB_trx_id: 2020D\n# QC_Hit: No  Full_scan: Yes  Full_join: No  Tmp_table: No  Tmp_table_on_disk: No\n# Filesort: No  Filesort_on_disk: No  Merge_passes: 0\n#   InnoDB_IO_r_ops: 1  InnoDB_IO_r_bytes: 16384  InnoDB_IO_r_wait: 0.001273\n#   InnoDB_rec_lock_wait: 0.000000  InnoDB_queue_wait: 0.000000\n#   InnoDB_pages_distinct: 21\nSET timestamp=1297080975;\nselect * from zzz;", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821694/related_tasks", 
"date_assigned": "2012-02-23T16:34:50.925607+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest doesn't recognize hex InnoDB txn IDs", 
"title": "Bug #821694 in Percona Toolkit: \"pt-query-digest doesn't recognize hex InnoDB txn IDs\"", 
"date_confirmed": "2012-02-23T16:37:25.295290+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821694", 
"date_left_new": "2012-02-23T16:37:25.295290+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821694", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"dbb2b575028c18cdd410cbc7a79a61be80afdf80-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-23T16:37:25.295290+00:00", 
"date_fix_released": "2012-03-19T16:57:39.161982+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821694", 
"date_created": "2011-08-05T21:51:11.036523+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-query-digest", 
"slow-log"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-04-18T00:03:37.976479+00:00", 
"bug_id": 821701, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1267\n\nQuoting the original:\n\nmk-log-player set autocommit mode to 0 by default which means if no transaction related statements are in the log file it will replay all queries in the same transaction", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821701/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-log-player starts with auto_commit=0", 
"title": "Bug #821701 in Percona Toolkit: \"pt-log-player starts with auto_commit=0\"", 
"date_confirmed": "2012-04-18T00:03:37.976479+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821701", 
"date_left_new": "2012-04-18T00:03:37.976479+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821701", 
"milestone_link": null, 
"http_etag": "\"effcf8708e035bfc3cf4bd7a7e628aee612d8b28-567f9107ff54a3368f32658fee513b01558fcd00\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821701", 
"date_created": "2011-08-05T22:09:42.723026+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"auto-commit", 
"pt-log-player"
]
}, 
{
"date_closed": "2012-08-10T18:12:19.788883+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-07-30T21:46:22.767941+00:00", 
"bug_id": 821703, 
"date_in_progress": "2012-07-30T21:46:22.767941+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1289\n\nQuoting original:\n\n./mk-query-digest --processlist h=localhost --print --no-report >> slow.log\nPipeline process 2 (Processlist) caused an error: Use of uninitialized value in anonymous hash ({}) at ./mk-query-digest line 2259.\n\n 2255       else {\n 2256          MKDEBUG && _d('New cxn', $curr->[ID]);\n 2257          if ( $curr->[INFO] && defined $curr->[TIME] ) {\n 2258             MKDEBUG && _d('Saving query of new cxn, state', $curr->[STATE]);\n 2259             push @new_cxn, [\n 2260                @$curr,                   # proc info\n 2261                int($query_start),        # START\n 2262                $etime,                   # ETIME\n 2263                $time,                    # FSEEN\n 2264                { $curr->[STATE] => 0 },  # PROFILE\n 2265             ];\n 2266          }\n 2267       }\n 2268    }  # CURRENTLY_ACTIVE_CXN", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821703/related_tasks", 
"date_assigned": "2012-07-19T12:54:30.396051+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --processlist may crash", 
"title": "Bug #821703 in Percona Toolkit: \"pt-query-digest --processlist may crash\"", 
"date_confirmed": "2011-12-27T17:22:09.059602+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821703", 
"date_left_new": "2011-12-27T17:22:09.059602+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821703", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"af47440fa1016aa880e4a79f2da0a6b3a6501b51-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-30T21:46:22.767941+00:00", 
"date_fix_released": "2012-08-10T18:12:19.788883+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821703", 
"date_created": "2011-08-05T22:11:57.900319+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"processlist", 
"pt-query-digest"
]
}, 
{
"date_closed": "2011-10-13T19:20:53.079306+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821714, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1286\n\nBasically, char chunking will cause problems if the range of char isn't wide.  E.g. if everything starts with \"Foo\" then you can expect problems.  Problems occur even if the range is very small, like a to m.  It depends on the decimal conversion of characters, using a different base for counting, etc.  In essence: char chunking needs work because it breaks unless the case is ideal.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821714/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum char-chunking may cause uninitialized value and division by zero errors", 
"title": "Bug #821714 in Percona Toolkit: \"pt-table-checksum char-chunking may cause uninitialized value and division by zero errors\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/821714", 
"date_left_new": "2011-10-13T19:20:53.079306+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821714", 
"milestone_link": null, 
"http_etag": "\"da15088e32c43aa07fb48f590fb53f7d511e376d-5ecddbd2c44a6db9f4d990ce93553de37f81772a\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821714", 
"date_created": "2011-08-05T22:35:40.414204+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"char-chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-18T00:04:15.745050+00:00", 
"bug_id": 821715, 
"date_in_progress": "2012-08-31T02:52:53.987379+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1347\n\nQuoting the original:\n\nIn mk-archiver, when I enable --bulk-insert, it generates LOAD DATA LOCAL INFILE statements with a parameter placeholder for the filename.  This is not a valid use of parameters for MySQL.\n\nDBD::mysql::st execute failed: The used command is not allowed with this MySQL version [for Statement \"LOAD DATA LOCAL INFILE ? INSERT INTO TABLE ...\" with ParamValues: 0='/var/folders/wv/wvLOea7cFo4ACQoJYk8I9U+++TI/-Tmp-/LEr7bnwECFmk-archiver'] at /Users/billkarwin/bin/mk-archiver line 4230.\n\nTested with mk-archiver Ver 1.0.27 Distrib 7540 Changeset 7531.\n\nTested with MySQL 5.5.12 on Ubuntu Linux 10.04 LTS.\n\nThat sounds like DBI is doing a server-side prepared statement, and our assumption is that we should be doing client-side \"emulated\" prepared statements.  What DBI and DBD::mysql version?  One version did server-side by default.\n\nperl version 5.10.0\nDBI version 1.616\nDBD::mysql version 4.019\n\nI did \"export DBI_TRACE=2\" and ran my mk-archiver script.  I saw this in the output:\n\nimp_dbh->use_server_side_prepare: 0", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821715/related_tasks", 
"date_assigned": "2012-08-31T02:44:30.227119+00:00", 
"bug_information_type": "Public", 
"bug_title": "LOAD DATA LOCAL INFILE broken in some platforms", 
"title": "Bug #821715 in Percona Toolkit: \"LOAD DATA LOCAL INFILE broken in some platforms\"", 
"date_confirmed": "2012-04-18T00:04:15.745050+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821715", 
"date_left_new": "2012-04-18T00:04:15.745050+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821715", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"c3b65da2e70f39bb2adc915e768dcb9f9da8e2f5-50534711a81e064d71e63d34dedbae0d7dd366d0\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821715", 
"date_created": "2011-08-05T22:43:37.070717+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-archiver", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-06-19T19:59:17.157055+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-18T00:04:27.722868+00:00", 
"bug_id": 823403, 
"date_in_progress": "2012-06-11T03:02:55.339399+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=790", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823403/related_tasks", 
"date_assigned": "2012-06-11T12:44:07.270378+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync --lock-and-rename doesn't work on 5.1", 
"title": "Bug #823403 in Percona Toolkit: \"pt-table-sync --lock-and-rename doesn't work on 5.1\"", 
"date_confirmed": "2012-04-18T00:04:27.722868+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/823403", 
"date_left_new": "2012-04-18T00:04:27.722868+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823403", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"09c4cdee11b75a90eb4dd346f871cc8f87eab2c3-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:02:55.339399+00:00", 
"date_fix_released": "2012-06-19T19:59:17.157055+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823403", 
"date_created": "2011-08-09T16:49:26.854664+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-bug", 
"pt-table-sync"
]
}, 
{
"date_closed": "2011-12-23T21:09:11.050990+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 823423, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1168\n\nOptions from an arg table aren't checked, so bad options can crash the tool.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823423/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't validate --arg-table options", 
"title": "Bug #823423 in Percona Toolkit: \"pt-table-checksum doesn't validate --arg-table options\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/823423", 
"date_left_new": "2011-12-23T21:09:11.050990+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823423", 
"milestone_link": null, 
"http_etag": "\"ed95ccd6e9e9cdcc5e16da6dbab08a9802658622-5ecddbd2c44a6db9f4d990ce93553de37f81772a\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823423", 
"date_created": "2011-08-09T17:07:43.946824+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"arg-table", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-07-20T22:59:51.349733+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-18T00:04:47.372353+00:00", 
"bug_id": 823439, 
"date_in_progress": "2012-07-20T22:34:00.418197+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1281\n\nIf some tools try to operate on special system tables, like mysql.slow_log, the result can be bad, like breaking replication.  SchemaIterator should automatically ignore special system tables.  It does for a few, but not all.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823439/related_tasks", 
"date_assigned": "2012-07-20T22:34:01.227921+00:00", 
"bug_information_type": "Public", 
"bug_title": "Tools don't ignore special system tables", 
"title": "Bug #823439 in Percona Toolkit: \"Tools don't ignore special system tables\"", 
"date_confirmed": "2012-04-18T00:04:47.372353+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/823439", 
"date_left_new": "2012-04-18T00:04:47.372353+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823439", 
"milestone_link": null, 
"http_etag": "\"d8f5a9ee297971023f21171e74c3a734a647077e-fb4a21f1187ae51bd4b0268a8b5973c16313b2be\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-20T22:59:51.349733+00:00", 
"date_fix_released": "2012-07-20T22:59:51.349733+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823439", 
"date_created": "2011-08-09T17:27:48.845674+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"all-tools", 
"risk"
]
}, 
{
"date_closed": "2011-11-01T17:11:59.358349+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-08-31T16:45:10.511339+00:00", 
"bug_id": 838211, 
"date_in_progress": "2011-08-31T16:45:10.511339+00:00", 
"bug_description": "Running pt-collect with just the required options causes the error \"pt-collect: line 24: [: : integer expression expected\".  Line 24 is:\n\n   if [ \"${avail}\" -le \"${MB}\" -o \"${full}\" -ge \"${PCT}\" ]; then\n\nThis happens because MB and/or PCT are empty strings.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838211/related_tasks", 
"date_assigned": "2011-08-31T16:16:18.169592+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-collect: line 24: [: : integer expression expected", 
"title": "Bug #838211 in Percona Toolkit: \"pt-collect: line 24: [: : integer expression expected\"", 
"date_confirmed": "2011-08-31T16:45:10.511339+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/838211", 
"date_left_new": "2011-08-31T16:45:10.511339+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/838211", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"822b547c6eaa42fc900b3c6284a551cdaaa61409-69fb1e9ffe7413ec1351319f5d7853f77bd12cf8\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-31T16:45:59.862923+00:00", 
"date_fix_released": "2011-11-01T17:11:59.358349+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838211", 
"date_created": "2011-08-31T16:16:17.601336+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect"
]
}, 
{
"date_closed": "2011-11-01T17:12:04.265450+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 838248, 
"date_in_progress": null, 
"bug_description": "pt-collect creates a file in the cwd called \"5.1\" because of this line:\n\nif [ \"${VER}\" > \"5.1\" ]; then\n\nThat > should be escaped or [[ ]] should be used around the test.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838248/related_tasks", 
"date_assigned": "2011-08-31T17:11:38.908162+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-collect creates a \"5.1\" file", 
"title": "Bug #838248 in Percona Toolkit: \"pt-collect creates a \"5.1\" file\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/838248", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/838248", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.1", 
"http_etag": "\"52961e9152e3554fa58e088b53dda0ae3820c119-69fb1e9ffe7413ec1351319f5d7853f77bd12cf8\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-08-31T17:28:17.536803+00:00", 
"date_fix_released": "2011-11-01T17:12:04.265450+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838248", 
"date_created": "2011-08-31T17:11:38.643658+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect"
]
}, 
{
"date_closed": "2012-01-31T20:39:54.068286+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 838939, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/aspersa/issues/detail?id=137:\n\nThe problem I have is that I get different results when looking at iostat and diskstats (5 second intervals):\n\nDevice:    rrqm/s wrqm/s   r/s   w/s  rsec/s  wsec/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await  svctm  %util\nsdc          0.00 277.56 104.01 415.83  936.27 5574.35   468.14  2787.17    12.52     6.34   12.18   1.24  64.57\n\n#ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg\n {1} sdc1     133.2    10.1     0.7     0%    0.9     6.6   841.5    13.9     5.7    42%   12.3    14.7  87%      0\n {1} sdc1     154.8     7.9     0.6     0%    0.7     4.3   590.4     9.1     2.6    12%    9.1    15.4  71%      0\n\n\nThe amount of writes/s that iostat is measuring is about 5600 while diskstats only mentions 600.\n/proc/diskstats tells me iostat is correct\n\nraw diskstats output:\nTS 1301045501.005860000 2011-03-25 05:31:41\n  8   33 sdc1 1572537676 2369344 3687151364 1575056414 2541895139 1708184481 3991989096 121136333 1 982122453 1798311795\nTS 1301045506.010994000 2011-03-25 05:31:46\n  8   33 sdc1 1572538262 2369344 3687156316 1575060551 2541899787 1708186654 3992043720 121207970 4 982126782 1798388127\nTS 1301045511.016149000 2011-03-25 05:31:51\n  8   33 sdc1 1572538898 2369344 3687161404 1575064096 2541903848 1708186950 3992078608 121272417 1 982130754 1798455962\nTS 1301045516.021280000 2011-03-25 05:31:56", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838939/related_tasks", 
"date_assigned": "2012-01-09T16:47:16.139808+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats reports wrong amount of writes/second", 
"title": "Bug #838939 in Percona Toolkit: \"pt-diskstats reports wrong amount of writes/second\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/838939", 
"date_left_new": "2011-11-23T00:20:22.094221+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/838939", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"84ab93eb611841890d7702fb146bc3ff6c6c9ca3-2f040ef68d819e3d8d1acf0932f920cc3d598154\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/838939", 
"date_created": "2011-09-01T16:41:22.072827+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"wrong-output"
]
}, 
{
"date_closed": "2012-06-19T19:59:12.379966+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-06-12T00:20:51.069634+00:00", 
"bug_id": 844034, 
"date_in_progress": "2012-06-12T00:20:51.069634+00:00", 
"bug_description": "System info: Using pt-show-grants version 1.0.1 on mysql 5.5.15\n\npt-show-grants gives the following error when the --separate flag is specified: Use of uninitialized value in split at /usr/bin/pt-show-grants line 1714.\n\nHere is output without separate flag:\n\n$ pt-show-grants\n-- Grants dumped by pt-show-grants\n-- Dumped from server rs.dev via TCP/IP, MySQL 5.5.15-log at 2011-09-07 10:55:09\n-- Grants for 'dtest'@'localhost'\nGRANT ALL PRIVILEGES ON *.* TO 'dtest'@'localhost' IDENTIFIED BY PASSWORD 'mypass';\n-- Grants for 'proxy'@'localhost'\nGRANT PROXY ON 'dtest'@'localhost' TO 'proxy'@'localhost';\nGRANT USAGE ON *.* TO 'proxy'@'localhost';\n-- Grants for 'root'@'localhost'\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' IDENTIFIED BY PASSWORD 'rootPass' WITH GRANT OPTION;\nGRANT PROXY ON ''@'' TO 'root'@'localhost' WITH GRANT OPTION;\n\nAnd output with separate flag:\n$ pt-show-grants --separate\n-- Grants dumped by pt-show-grants\n-- Dumped from server rs.dev via TCP/IP, MySQL 5.5.15-log at 2011-09-07 10:55:01\n-- Grants for 'dtest'@'localhost'\nGRANT ALL PRIVILEGES ON *.* TO 'dtest'@'localhost' IDENTIFIED BY PASSWORD 'mypass';\nUse of uninitialized value in split at /usr/bin/pt-show-grants line 1714.\n\nI am only assuming this is because there is no GRANT USAGE clause for the user `dtest`@`localhost`, which is set up as a proxy user.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844034/related_tasks", 
"date_assigned": "2012-06-12T00:20:58.512912+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-show-grants --separate fails with proxy user", 
"title": "Bug #844034 in Percona Toolkit: \"pt-show-grants --separate fails with proxy user\"", 
"date_confirmed": "2012-03-08T04:04:11.829175+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/844034", 
"date_left_new": "2012-03-08T04:04:11.829175+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/844034", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"bf0572033dd69a5fc223859a637070d7ad3ccec8-0e1e7bed5e6b05115bee0b55520726c3e7665bf1\"", 
"owner_link": "https://api.launchpad.net/devel/~derek-9", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-12T00:20:51.069634+00:00", 
"date_fix_released": "2012-06-19T19:59:12.379966+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844034", 
"date_created": "2011-09-07T16:08:24.571887+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-show-grants"
]
}, 
{
"date_closed": "2012-08-10T18:12:27.061116+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:28:47.253548+00:00", 
"bug_id": 844880, 
"date_in_progress": "2012-08-01T17:28:47.253548+00:00", 
"bug_description": "The warning for sync_binlog always starts with \"Binary logging is enabled\", even if it isn't. The warning probably doesn't need to be output at all when binary logging is disabled.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844880/related_tasks", 
"date_assigned": "2012-08-01T17:28:54.682625+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor shows binary logging as both enabled and disabled", 
"title": "Bug #844880 in Percona Toolkit: \"pt-variable-advisor shows binary logging as both enabled and disabled\"", 
"date_confirmed": "2012-03-08T18:28:50.290158+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/844880", 
"date_left_new": "2012-03-08T18:28:50.290158+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/844880", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"5ac9dd963438c1445625c2514f568f233bcd08f9-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelmior", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:46:24.594724+00:00", 
"date_fix_released": "2012-08-10T18:12:27.061116+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844880", 
"date_created": "2011-09-08T15:02:35.345927+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-variable-advisor", 
"wrong-output"
]
}, 
{
"date_closed": "2012-04-16T16:35:37.968581+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-19T17:02:09.877023+00:00", 
"bug_id": 846028, 
"date_in_progress": "2012-03-26T15:08:00.535598+00:00", 
"bug_description": "When running pt-online-schema change, I don't seem to get any progress output until the entire operation is complete, at which point, all the progress messages output at once. This behavior seems to vary depending on what is specified in the --progress option. Specifically, I see this behavior with --progress percent,1 and the default value (no --progress specified)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/846028/related_tasks", 
"date_assigned": "2012-03-19T17:00:53.650244+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change does not show progress until completed", 
"title": "Bug #846028 in Percona Toolkit: \"pt-online-schema-change does not show progress until completed\"", 
"date_confirmed": "2012-03-19T17:02:09.877023+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/846028", 
"date_left_new": "2012-03-19T17:02:09.877023+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/846028", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"3e4eb9d4f9eba618863551c0314cd166afae6c4a-d29d5eda01b317b0ba4af9a975bda3b34e358cae\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelmior", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T01:56:25.869827+00:00", 
"date_fix_released": "2012-04-16T16:35:37.968581+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/846028", 
"date_created": "2011-09-09T21:23:58.211589+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"progress", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-02-08T15:26:39.912492+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-11-04T16:50:40.132895+00:00", 
"bug_id": 857091, 
"date_in_progress": "2011-11-04T16:50:40.132895+00:00", 
"bug_description": "pt-sift should download from WWW.percona.com or it does not work:\n\n\ndesktop:~ gryp$ curl http://percona.com/get/pt-pmp\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<html><head>\n<title>302 Found</title>\n</head><body>\n<h1>Found</h1>\n<p>The document has moved <a href=\"http://www.percona.com/get/pt-pmp\">here</a>.</p>\n</body></html>\n\n\ndesktop:~ gryp$ curl http://www.percona.com/get/pt-pmp | head -n 10\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 10021  100 10021    0     0  10316      0 --:--:-- --:--:-- --:--:-- 29560\n#!/usr/bin/env bash\n\n# This program is part of Percona Toolkit: http://www.percona.com/software/\n# See \"COPYRIGHT, LICENSE, AND WARRANTY\" at the end of this file for legal\n# notices and disclaimers.\n\nusage() {\n   if [ \"${OPT_ERR}\" ]; then\n      echo \"${OPT_ERR}\" >&2\n   fi", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/857091/related_tasks", 
"date_assigned": "2011-11-04T16:58:31.617658+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift downloads http://percona.com/get/pt-pmp, which does not work", 
"title": "Bug #857091 in Percona Toolkit: \"pt-sift downloads http://percona.com/get/pt-pmp, which does not work\"", 
"date_confirmed": "2011-11-04T16:50:40.132895+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/857091", 
"date_left_new": "2011-11-04T16:50:40.132895+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/857091", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"2b954697493f784da77a9ed0a0a503a8fe329c32-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": "2012-01-09T18:14:27.726261+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2011-11-04T16:50:40.132895+00:00", 
"date_fix_released": "2012-02-08T15:26:39.912492+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/857091", 
"date_created": "2011-09-23T06:44:58.836073+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift", 
"url"
]
}, 
{
"date_closed": "2012-02-08T15:26:31.255682+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-11-04T16:26:21.434307+00:00", 
"bug_id": 857104, 
"date_in_progress": "2011-11-04T16:26:21.434307+00:00", 
"bug_description": "======== tbbpslvdb2 at 2011_09_22_21_55_37 MEXT (8 of 8) ========\nDisplaying the first 4 samples of SHOW STATUS counters\n./pt-sift: line 379: mext: command not found\nPress a key to continue or choose a different action", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/857104/related_tasks", 
"date_assigned": "2011-11-04T16:16:27.631050+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift tries to invoke mext, should be pt-mext", 
"title": "Bug #857104 in Percona Toolkit: \"pt-sift tries to invoke mext, should be pt-mext\"", 
"date_confirmed": "2011-11-04T16:26:21.434307+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/857104", 
"date_left_new": "2011-11-04T16:26:21.434307+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/857104", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"062ee0be2f8377a2000950e4b1ea510b19abeaac-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": "2012-01-09T18:14:34.572098+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2011-11-04T16:26:21.434307+00:00", 
"date_fix_released": "2012-02-08T15:26:31.255682+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/857104", 
"date_created": "2011-09-23T07:04:58.948618+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift"
]
}, 
{
"date_closed": "2012-01-31T17:34:55.119520+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-19T21:24:41.048429+00:00", 
"bug_id": 864203, 
"date_in_progress": "2011-12-19T21:24:41.048429+00:00", 
"bug_description": "I see the tool executing the following:\n\nREPLACE... SELECT ... FORCE INDEX(`PRIMARY`) WHERE ((`id` >= '1419773')) AND ((`id` <= '2106193')) ORDER BY `id` /*nibble*/\n\nThe checksum query will have exactly one row, so there is no need for ORDER BY, and we should omit it lest it actually cause the optimizer to choose a bad plan for some reason.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864203/related_tasks", 
"date_assigned": "2011-12-16T17:19:10.214347+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum uses ORDER BY in checksum queries", 
"title": "Bug #864203 in Percona Toolkit: \"pt-table-checksum uses ORDER BY in checksum queries\"", 
"date_confirmed": "2011-11-29T13:51:31.454631+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/864203", 
"date_left_new": "2011-11-29T13:51:31.454631+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/864203", 
"milestone_link": null, 
"http_etag": "\"117a791acfcacfd8f82f42769dec6d684a3e90ca-fb4a21f1187ae51bd4b0268a8b5973c16313b2be\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-19T21:24:41.048429+00:00", 
"date_fix_released": "2012-01-31T17:34:55.119520+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864203", 
"date_created": "2011-10-01T17:48:41.693802+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-08-10T18:12:38.123690+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-18T00:01:27.895675+00:00", 
"bug_id": 869005, 
"date_in_progress": "2012-07-25T19:32:17.403035+00:00", 
"bug_description": "On servers with default isolation level set to READ COMMITTED or READ UNCOMMITTED and log-bin enabled the permission check in pt-table-sync will fail as it sets replication mode to statement based replication and then checks whether the user has sufficient permissions to execute a \"DELETE FROM table LIMIT 0\". \n\nThis fails on InnoDB tables as DELETE in READ [UN]COMMITTED is not safe for statement based replication.\n\nCurrent workaround would be to call pt-table-sync with --transaction which will explicitly set isolation level REPEATABLE READ,\nIMHO this should always be set though as it also has an effect in auto commit mode outside of transactions as single statements by themselves will still be transactions of their own, and so be affected by the \"DELETE in READ [UN]COMMITTED is not safe for statement based replication\" limitation.\n\nThe error message raised by pt-table-sync is also very confusing in this context as it only reports that the users permissions are insufficient (even for users with ALL PRIVILEGES WITH GRANT OPTION) and does not reveal the actual error message and so giving no hints towards the actual problem.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/869005/related_tasks", 
"date_assigned": "2012-07-25T19:32:21.662141+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync should always set REPEATABLE READ", 
"title": "Bug #869005 in Percona Toolkit: \"pt-table-sync should always set REPEATABLE READ\"", 
"date_confirmed": "2012-04-18T00:01:27.895675+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/869005", 
"date_left_new": "2012-04-18T00:01:27.895675+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/869005", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"e1cc803dc7629a423c4abb784dd670985402e73a-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~hartmut-php", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-25T22:43:49.062001+00:00", 
"date_fix_released": "2012-08-10T18:12:38.123690+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/869005", 
"date_created": "2011-10-06T09:12:18.679055+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-24538", 
"pt-table-sync", 
"tx-isolation"
]
}, 
{
"date_closed": "2012-02-01T16:16:29.324536+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 872655, 
"date_in_progress": null, 
"bug_description": "I am using following command.\nbash pt-diskstats  -d fioa\n\nin output I get:\n\ngrep: /tmp/diskstats-samples: No such file or directory\npt-diskstats: line 518: [: : integer expression expected\n  {1} fioa       3.3    0.1     0.3    98.5    1.4     0.4  22%      0\n  {1} fioa       3.3    0.1     0.3    98.5    1.4     0.4  22%      0\n  {1} fioa       2.9    0.3     1.4    85.4    2.8     1.0  29%      0\n  {1} fioa       2.9    0.0     0.3    96.0    1.5     0.4  22%      0\n  {1} fioa       3.3    0.1     0.3    94.1    1.3     0.4  22%      0\n  {1} fioa       2.6    0.1     0.8   100.8    4.7     1.3  36%      0\n  {1} fioa       3.6    0.1     0.2    40.9    0.7     0.6  11%      0\n  {1} fioa       3.2    0.1     0.4   146.6    2.5     0.5  31%      0\n  {1} fioa       2.8    0.2     0.9    85.7    8.2     2.7  30%      0\n  {1} fioa       2.9    0.2     0.9    84.9   12.6     4.4  29%      0\n  {1} fioa       2.8    0.2     1.0    94.6    3.2     0.9  33%      0\n  {1} fioa       3.7    0.1     0.3    90.9    1.4     0.4  21%      0\n  {1} fioa       2.8    0.3     1.8    95.2    8.2     2.6  30%      0\n  {1} fioa       3.0    0.1     0.3    92.0    1.3     0.4  20%      0\n  {1} fioa       2.9    0.2     1.3    91.1    3.8     1.2  30%      0\n  {1} fioa       2.9    0.3     1.4    85.0    3.7     1.2  41%      0\n  {1} fioa       2.1    0.8     5.8    68.4   15.1     6.5  62%      0\n\nfirst two lines are kind of unexpected output\nand there is also no header for statistics.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872655/related_tasks", 
"date_assigned": "2012-01-09T16:47:45.642943+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats errors", 
"title": "Bug #872655 in Percona Toolkit: \"pt-diskstats errors\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/872655", 
"date_left_new": "2012-01-13T14:06:11.395076+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/872655", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"ad053eb6ebc94d808dd15d9f4e9093ae35f03dc2-2f040ef68d819e3d8d1acf0932f920cc3d598154\"", 
"owner_link": "https://api.launchpad.net/devel/~vadim-tk", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872655", 
"date_created": "2011-10-12T04:28:56.261915+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"syntax-error"
]
}, 
{
"date_closed": "2012-02-08T15:26:23.592901+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-01-31T20:41:55.737221+00:00", 
"bug_id": 872699, 
"date_in_progress": "2012-01-31T20:41:55.737221+00:00", 
"bug_description": "/proc/diskstats displays sectors read and sectors written in columns #6 and #10. Sectors are typically 512b units, however pt-diskstats assumes one sector = 1kb. Therefore, it would be best either to rename them to \"rd_avsct\" and \"wr_avsct\", or divide the number by 2 to display kilobytes.\n\nHere's a sample that clearly shows that numbers do not add up. I've written 1MB with dd using oflag=direct bs=131072 count=8:\n\n\u00a0\u00a0#ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg\n\u00a0\u00a0{1} sdb        0.0     0.0     0.0     0%    0.0     0.0     7.9   256.0     1.0     0%    0.0     0.0   0%      0\n\nThank you,\nAurimas", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872699/related_tasks", 
"date_assigned": "2012-01-09T16:47:22.891060+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats: rd_avkb & wr_avkb derived incorrectly", 
"title": "Bug #872699 in Percona Toolkit: \"pt-diskstats: rd_avkb & wr_avkb derived incorrectly\"", 
"date_confirmed": "2011-11-23T00:18:27.422015+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/872699", 
"date_left_new": "2011-11-23T00:18:27.422015+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/872699", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"f07735c2b6f5ef74d70ca7e06ef93034fd88aba2-981c94873ae836b2f3753fe90329149694b09e6b\"", 
"owner_link": "https://api.launchpad.net/devel/~aurimas-mikalauskas", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T20:41:55.737221+00:00", 
"date_fix_released": "2012-02-08T15:26:23.592901+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872699", 
"date_created": "2011-10-12T07:16:19.863727+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"wrong-output"
]
}, 
{
"date_closed": "2012-02-08T15:30:13.810294+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-06T22:26:29.238433+00:00", 
"bug_id": 882918, 
"date_in_progress": "2011-12-06T22:26:29.238433+00:00", 
"bug_description": "This is just an inconvenience, but if oprofile is not installed on a system or /var/lib/oprofile doesn't exist, pt-stalk will print out warnings for every iteration, such as this: \n\n2011_10_28_06_13_41 check results: Threads_connected = 1, matched = no, cycles_true = 0\nfind: /var/lib/oprofile/samples: No such file or directory\n\nThis doesn't affect behavior but it is an inconvenient and can be easily solved by discarding stderr on that cleanup 'find' command, as the attached patch does.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/882918/related_tasks", 
"date_assigned": "2011-12-06T22:26:32.313144+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk spams warning if oprofile isn't installed", 
"title": "Bug #882918 in Percona Toolkit: \"pt-stalk spams warning if oprofile isn't installed\"", 
"date_confirmed": "2011-12-06T22:26:29.238433+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/882918", 
"date_left_new": "2011-12-06T22:26:29.238433+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/882918", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"1f02ce48b2244653664ed9a5cde24c015462acc2-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-06T22:26:29.238433+00:00", 
"date_fix_released": "2012-02-08T15:30:13.810294+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/882918", 
"date_created": "2011-10-28T05:18:59.494402+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk", 
"spam"
]
}, 
{
"date_closed": "2012-08-10T18:12:47.966608+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-02T01:29:29.028825+00:00", 
"bug_id": 883098, 
"date_in_progress": "2012-08-02T01:29:29.028825+00:00", 
"bug_description": "# pt-query-digest --processlist localhost,u=username,p=password --print --no-report\nPipeline process 2 (Processlist) caused an error: Can't use string (\"1319806283\") as a HASH ref while \"strict refs\" in use at /usr/bin/pt-query-digest line 2289.\nPipeline process 2 (Processlist) caused an error: Can't use string (\"1319806283\") as a HASH ref while \"strict refs\" in use at /usr/bin/pt-query-digest line 2289.\n[...]\n\n# pt-query-digest --version\npt-query-digest 1.0.1\n\n# mysqld --version\nmysqld  Ver 5.5.16-55-log for Linux on x86_64 (Percona Server (GPL), Release 22.0)\n\nOS: Ubuntu 10.04.3 LTS\n\nI hope you can look into this.\n\nThanks,\nAndrea", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/883098/related_tasks", 
"date_assigned": "2012-07-15T06:12:42.616093+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest crashes if processlist has extra columns", 
"title": "Bug #883098 in Percona Toolkit: \"pt-query-digest crashes if processlist has extra columns\"", 
"date_confirmed": "2011-12-16T16:50:01.440523+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/883098", 
"date_left_new": "2011-12-16T16:50:01.440523+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/883098", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"b74f8b8ded81dee053b526374907809d87b1c1f8-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~andreausu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:26:37.220666+00:00", 
"date_fix_released": "2012-08-10T18:12:47.966608+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/883098", 
"date_created": "2011-10-28T13:45:03.730243+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"processlist", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-02-08T15:30:02.056323+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-11-04T17:31:03.074595+00:00", 
"bug_id": 884504, 
"date_in_progress": "2011-11-04T17:31:03.074595+00:00", 
"bug_description": "This is a feature request: \n\npt-stalk looks for pt-collect in a hardcoded location (~/bin/pt-collect) if not configured. \nHowever this is done at the time the trouble condition is triggered, meaning it may abort the chance for gathering data if pt-stalk is left running unattended without a properly configured or executable pt-collect. \n\nI'm attaching a simple fix for this that would make pt-stalk abort upon start up if it finds $COLLECT isn't executable. t", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/884504/related_tasks", 
"date_assigned": "2011-11-04T17:30:59.209226+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk doesn't check pt-collect", 
"title": "Bug #884504 in Percona Toolkit: \"pt-stalk doesn't check pt-collect\"", 
"date_confirmed": "2011-11-04T17:31:03.074595+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/884504", 
"date_left_new": "2011-11-04T17:31:03.074595+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/884504", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"26ab7cb54914d267f019337aa3239b376592341d-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": "2012-01-09T18:14:57.263191+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2011-11-04T17:31:03.074595+00:00", 
"date_fix_released": "2012-02-08T15:30:02.056323+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/884504", 
"date_created": "2011-10-31T23:03:12.079365+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": "2012-06-19T19:58:54.983247+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-30T18:55:12.529080+00:00", 
"bug_id": 885382, 
"date_in_progress": "2012-05-30T18:55:12.529080+00:00", 
"bug_description": "When I execute the tool without two comma-separated elements in the --embedded-attributes array, I get:\n\nUse of uninitialized value in regexp compilation at /home/baron/repos/pt/bin/pt-query-digest line 12284.\n\nThat's because of this:\n\n12282       if ( my $patterns = $o->get('embedded-attributes') ) {\n12283          $misc->{embed}   = qr/$patterns->[0]/o;\n12284          $misc->{capture} = qr/$patterns->[1]/o;\n12285          MKDEBUG && _d('Patterns for embedded attributes:', $misc->{embed},\n12286                $misc->{capture});\n12287       }\n\nThe tool needs to check that there are two elements in the array.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885382/related_tasks", 
"date_assigned": "2012-05-27T10:02:00.097670+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --embedded-attributes doesn't check cardinality", 
"title": "Bug #885382 in Percona Toolkit: \"pt-query-digest --embedded-attributes doesn't check cardinality\"", 
"date_confirmed": "2011-12-16T16:48:02.156750+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/885382", 
"date_left_new": "2011-12-16T16:48:02.156750+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/885382", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"396773d5c711cb955b33cf9420a00048a833c3fa-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:55:12.529080+00:00", 
"date_fix_released": "2012-06-19T19:58:54.983247+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885382", 
"date_created": "2011-11-02T18:56:19.405247+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-19T19:59:03.134415+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-23T20:31:44.426714+00:00", 
"bug_id": 888114, 
"date_in_progress": "2012-05-23T20:31:44.426714+00:00", 
"bug_description": "If anything crashes in the iteration pipeline process, which is where QueryReportFormatter is called, then the terminator pipeline process isn't called, and since --continue-on-error is on by default, the pipeline restarts, re-crashes, restarts, etc.  The result is infinite report output.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888114/related_tasks", 
"date_assigned": "2012-05-23T20:31:39.371906+00:00", 
"bug_information_type": "Public", 
"bug_title": "Infinite loop in pt-query-digest if a report crashes", 
"title": "Bug #888114 in Percona Toolkit: \"Infinite loop in pt-query-digest if a report crashes\"", 
"date_confirmed": "2012-04-17T23:55:06.004769+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/888114", 
"date_left_new": "2012-04-17T23:55:06.004769+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/888114", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"ef3c26bff6823e31c29e93d38e42d3669093b522-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-23T22:27:55.599953+00:00", 
"date_fix_released": "2012-06-19T19:59:03.134415+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888114", 
"date_created": "2011-11-09T15:26:38.814252+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"infinite-loop", 
"pt-query-digest", 
"risk"
]
}, 
{
"date_closed": "2012-08-10T18:13:19.014313+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:56:37.240211+00:00", 
"bug_id": 889739, 
"date_in_progress": "2012-08-01T17:56:37.240211+00:00", 
"bug_description": "From a recent check on a server I see:\n\n[root@server ~]# pt-config-diff /etc/my.cnf F=/root/.my.cnf\n9 config differences\nVariable                  /etc/my.cnf      server\n========================= ================ ==================================\ninit_connect              'SET NAMES utf8' SET NAMES utf8\ninnodb_log_file_size      536870912        134217728\ninnodb_open_files         3000             300\nlog_slave_updates         ON               OFF\nmax_heap_table_size       67108864         16777216\nrelay_log                 ../log/relaylog  \nserver_id                 147212030        147212020\nsort_buffer_size          268435456        4194304\ntmp_table_size            67108864         16777216\n[root@server ~]# grep NAMES /etc/my.cnf\ninit_connect = 'SET NAMES utf8'\n[root@server ~]# \n\nThe differences except init_connect are valid differences. However, the check made against init_connect should not show a difference. I believe the quoted string should have the quotes removed when doing the comparison.\n\nVersion of percona toolkit used:\n\n[root@server ~]# rpm -q percona-toolkit\npercona-toolkit-1.0.1-1\n\nThough not relevant in this case, the version of mysql used is:\n\n[root@server ~]# rpm -qa | grep MySQL\nMySQL-client-advanced-gpl-5.1.49-1.rhel5\nMySQL-server-advanced-gpl-5.1.49-1.rhel5\n[root@server ~]#", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889739/related_tasks", 
"date_assigned": "2012-08-01T17:56:47.193923+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-config-diff doesn't diff quoted strings properly", 
"title": "Bug #889739 in Percona Toolkit: \"pt-config-diff doesn't diff quoted strings properly\"", 
"date_confirmed": "2012-03-08T03:45:24.135886+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/889739", 
"date_left_new": "2012-03-08T03:45:24.135886+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/889739", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"4f0092b55a365b99a37f247c7481ef1c035375ac-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:47:32.034678+00:00", 
"date_fix_released": "2012-08-10T18:13:19.014313+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889739", 
"date_created": "2011-11-13T07:47:51.478196+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-config-diff", 
"wrong-output"
]
}, 
{
"date_closed": "2012-01-02T21:48:34.704662+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-01-02T21:48:34.704662+00:00", 
"bug_id": 891777, 
"date_in_progress": "2012-01-02T21:48:34.704662+00:00", 
"bug_description": "In online docs for http://www.percona.com/doc/percona-toolkit/pt-table-checksum.html\n\nIn the CONSISTENT CHECKSUMS section, when describing the --replicate-check option, there is a sample command section that also includes non-command text.\n\nThis is right after:\n\n\"        If your servers are not being written to, you can just run the tool with no\n\nfurther ado:\"\n\nThe phrase \"* If the servers are being written to, you need some way to make sure they are\" ended up as part of the command section, instead of it's own paragraph.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/891777/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Wrong formatting in CONSISTENT CHECKSUMS section", 
"title": "Bug #891777 in Percona Toolkit: \"Wrong formatting in CONSISTENT CHECKSUMS section\"", 
"date_confirmed": "2011-12-23T21:13:19.396916+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/891777", 
"date_left_new": "2011-12-23T21:13:19.396916+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/891777", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"cf80caea31ec96cdc75ee2b4a732c19488613725-9df6b2e37047f9128a2596b44870dce011cb8d4c\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-02T21:48:34.704662+00:00", 
"date_fix_released": "2012-01-02T21:48:34.704662+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/891777", 
"date_created": "2011-11-17T19:59:36.294406+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"online-docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T19:59:07.779253+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-11T14:04:29.090248+00:00", 
"bug_id": 894140, 
"date_in_progress": "2012-05-11T14:04:29.090248+00:00", 
"bug_description": "v1.0.1\n\n# ########################################################################\n# database.table                                                  \n# ########################################################################\n\n# Key row_id ends with a prefix of the clustered index\n# Key definitions:\n#   UNIQUE KEY `row_id` (`row_id`),\n#   PRIMARY KEY (`row_id`),\n# Column types:\n#\t  `row_id` bigint(20) not null auto_increment\n# To shorten this duplicate clustered index, execute:\nALTER TABLE `database`.`table` DROP INDEX `row_id`, ADD INDEX `row_id` (`row_id`);", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/894140/related_tasks", 
"date_assigned": "2012-05-11T14:04:36.618179+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-duplicate-key-checker sometimes recreates a key it shouldn't", 
"title": "Bug #894140 in Percona Toolkit: \"pt-duplicate-key-checker sometimes recreates a key it shouldn't\"", 
"date_confirmed": "2012-04-17T23:54:51.491582+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/894140", 
"date_left_new": "2012-04-17T23:54:51.491582+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/894140", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"7e73cbd989c2daf29e105bb021f20316d8d0cc21-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~kormoc", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-15T01:17:09.779555+00:00", 
"date_fix_released": "2012-06-19T19:59:07.779253+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/894140", 
"date_created": "2011-11-23T20:16:00.911939+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-duplicate-key-checker", 
"wrong-output"
]
}, 
{
"date_closed": "2012-03-19T16:57:42.076314+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-25T18:40:59.433587+00:00", 
"bug_id": 894255, 
"date_in_progress": "2012-01-25T18:40:59.433587+00:00", 
"bug_description": "I'm trying to run pt-kill from monit. STDIN is not a tty then. The problem is that pt-kill assumes it is going to read processlist from STDIN and I can find no way of disabling that assumption. \n\nI don't think anyone would actually pipe a processlist to a process that is going to be daemonized so wouldn't it be better to check the --daemonize flag first before checking that STDIN is a tty?\n\nPercona Toolkit version: 1.0.1\n\nThanks,\nWilliam", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/894255/related_tasks", 
"date_assigned": "2012-01-25T18:41:02.278822+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-kill shouldn't check if STDIN is a tty when --daemonize is given", 
"title": "Bug #894255 in Percona Toolkit: \"pt-kill shouldn't check if STDIN is a tty when --daemonize is given\"", 
"date_confirmed": "2012-01-25T18:40:59.433587+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/894255", 
"date_left_new": "2012-01-25T18:40:59.433587+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/894255", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"10808c231e1bce2d5fabc4be15d91e2cd0e3bc07-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~william", 
"date_left_closed": "2012-02-10T15:50:40.371744+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-01-25T18:40:59.433587+00:00", 
"date_fix_released": "2012-03-19T16:57:42.076314+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/894255", 
"date_created": "2011-11-24T06:33:37.338916+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-21182", 
"pt-kill"
]
}, 
{
"date_closed": "2012-02-08T15:53:25.982883+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2011-12-10T06:12:17.457710+00:00", 
"bug_id": 897029, 
"date_in_progress": "2012-02-02T14:58:08.184979+00:00", 
"bug_description": "The following command-line:\n\n[baron@ginger collected]$ pt-diskstats -g disk -c . *diskstats | cat\n\nProduces a \"md0\" device line like this:\n\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg\n[snip]\n {29} md0        0.5     8.0     0.0     0%    0.0     0.0  2505.0     8.0     9.8     0%    0.0     0.0   0%      0\n\nThat is, 2500 8kb writes per second = 9.8 MB/s of writes. Something's wrong here.  I will attach the input file.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897029/related_tasks", 
"date_assigned": "2012-02-08T15:49:26.020573+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats computes wrong values for md0", 
"title": "Bug #897029 in Percona Toolkit: \"pt-diskstats computes wrong values for md0\"", 
"date_confirmed": "2011-12-10T06:12:17.457710+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897029", 
"date_left_new": "2011-12-10T06:12:17.457710+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897029", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"f136bacdb184528beef7648bbdbd231de6c776e6-981c94873ae836b2f3753fe90329149694b09e6b\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-02T14:58:08.184979+00:00", 
"date_fix_released": "2012-02-08T15:53:25.982883+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897029", 
"date_created": "2011-11-28T01:43:50.454401+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-02-08T15:29:48.512173+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-01T17:52:06.045437+00:00", 
"bug_id": 897483, 
"date_in_progress": "2012-02-01T17:52:06.045437+00:00", 
"bug_description": "command: `$ pt-online-schema-change`\ntool version: 1.0.1\noutput: use of uninitialized value in lc at /usr/local/bin/pt-online-schema-change line 4146.\nperl version: v5.12.3\n\nPatch would be to change line 4146 to:\n  \n  my $rename_fk_method = lc($o->get('update-foreign-keys-method') || '');", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897483/related_tasks", 
"date_assigned": "2012-02-01T17:52:15.575788+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change \"uninitialized value\" due to update-foreign-keys-method", 
"title": "Bug #897483 in Percona Toolkit: \"pt-online-schema-change \"uninitialized value\" due to update-foreign-keys-method\"", 
"date_confirmed": "2011-12-16T17:13:42.267139+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897483", 
"date_left_new": "2011-12-16T17:13:42.267139+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897483", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"a4f02d63c7622452ac48ee44fb3122570265005b-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~8-ts", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-01T18:05:06.446812+00:00", 
"date_fix_released": "2012-02-08T15:29:48.512173+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897483", 
"date_created": "2011-11-29T00:00:58.108038+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"perl-5.12", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:02:50.241046+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-17T23:52:53.152437+00:00", 
"bug_id": 898138, 
"date_in_progress": "2012-05-24T20:12:34.296344+00:00", 
"bug_description": "mysql> SELECT @@version;\n+------------+\n| @@version  |\n+------------+\n| 5.5.10-log |\n+------------+\n1 row in set (0.00 sec)\n\nmysql> show global variables like 'concurrent_insert';\n+-------------------+-------+\n| Variable_name     | Value |\n+-------------------+-------+\n| concurrent_insert | AUTO  |\n+-------------------+-------+\n1 row in set (0.00 sec)\n...\n$ ./pt-variable-advisor --version\npt-variable-advisor 1.0.1\n$ ./pt-variable-advisor localhost\nCode for rule concurrent_insert caused an error: Argument \"AUTO\" isn't numeric in numeric gt (>) at ./pt-variable-advisor line 2766.\n...\n\nAccording to the docs (http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_concurrent_insert), this is a valid value.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898138/related_tasks", 
"date_assigned": "2012-05-24T20:12:30.091416+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor doesn't recognize 5.5.3+ concurrent_insert values", 
"title": "Bug #898138 in Percona Toolkit: \"pt-variable-advisor doesn't recognize 5.5.3+ concurrent_insert values\"", 
"date_confirmed": "2012-04-17T23:52:53.152437+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898138", 
"date_left_new": "2012-04-17T23:52:53.152437+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898138", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"21d17b111a0de826308cee606307c562e977d02e-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-24T21:08:41.183507+00:00", 
"date_fix_released": "2012-06-19T20:02:50.241046+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898138", 
"date_created": "2011-11-30T12:53:52.196016+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"mysql-5.5", 
"pt-variable-advisor"
]
}, 
{
"date_closed": "2012-05-02T13:34:29.589513+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-19T17:02:42.550714+00:00", 
"bug_id": 898517, 
"date_in_progress": "2012-03-29T22:10:08.260428+00:00", 
"bug_description": "When running pt-online-schema-change we have seen an issue where the new table does now have the same AUTO_INCREMENT value as the old table. This can cause problems as new rows added to the new table may not get inserted in the right place.\n\nI don't have details now but think it's quite easy to show especially if you create a table with an auto_increment column fill it with some rows and then remove some of the last rows so the AUTO_INCREMENT value does not represent MAX(PK)+1.\n\nI can probably get more details if required but I think it's probably quite easy to test this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898517/related_tasks", 
"date_assigned": "2012-03-29T22:10:10.991166+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change does not maintain the same AUTO_INCREMENT value when altering the table", 
"title": "Bug #898517 in Percona Toolkit: \"pt-online-schema-change does not maintain the same AUTO_INCREMENT value when altering the table\"", 
"date_confirmed": "2012-03-19T17:02:42.550714+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898517", 
"date_left_new": "2012-03-19T17:02:42.550714+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898517", 
"milestone_link": null, 
"http_etag": "\"b4cc5848fdc14d1b91c18354888f52426a47dfc3-fb4a21f1187ae51bd4b0268a8b5973c16313b2be\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-02T13:34:29.589513+00:00", 
"date_fix_released": "2012-05-02T13:34:29.589513+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898517", 
"date_created": "2011-12-01T08:10:23.100235+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"auto-inc", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-04-16T16:35:25.513333+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-26T15:06:34.944338+00:00", 
"bug_id": 898695, 
"date_in_progress": "2012-03-26T15:06:34.944338+00:00", 
"bug_description": "Hi,\n\npt-online-schema-change is adding useless ORDER BY statement\n\n\"SELECT MIN(foo), MAX(foo) FROM `db`.`table` ORDER BY `foo`\"\n\nand also\n\n\"SELECT MAX(LENGTH(foo)) FROM table ORDER BY `foo`\"\n\nMaybe other queries are also impacted", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898695/related_tasks", 
"date_assigned": "2012-03-19T17:01:07.905546+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change add useless ORDER BY", 
"title": "Bug #898695 in Percona Toolkit: \"pt-online-schema-change add useless ORDER BY\"", 
"date_confirmed": "2012-02-21T17:03:58.180583+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898695", 
"date_left_new": "2012-02-21T17:03:58.180583+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898695", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"c2eb724021713769eaf940d2439aaf20740ede51-d29d5eda01b317b0ba4af9a975bda3b34e358cae\"", 
"owner_link": "https://api.launchpad.net/devel/~bigon", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T01:56:32.914755+00:00", 
"date_fix_released": "2012-04-16T16:35:25.513333+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898695", 
"date_created": "2011-12-01T15:43:39.616533+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change", 
"wrong-sql"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T23:41:49.615611+00:00", 
"bug_id": 903229, 
"date_in_progress": "2012-08-31T23:35:40.614573+00:00", 
"bug_description": "(analyzing the schema)\n\nDatabase \\t MyISAM \\t InnoDB \\t MYISAM \\t MEMORY\n\nYou can see here it has MyISAM twice, I think because it has different capitalization?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903229/related_tasks", 
"date_assigned": "2012-08-20T22:36:29.494721+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary incorrectly categorizes databases", 
"title": "Bug #903229 in Percona Toolkit: \"pt-mysql-summary incorrectly categorizes databases\"", 
"date_confirmed": "2012-04-17T23:41:49.615611+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903229", 
"date_left_new": "2012-04-17T23:41:49.615611+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903229", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"e2b12a7ad4383a6fb98e7798942c7bff6cde43a7-2b5a8e27186d7a46c07c5f8b64e12771a46b924f\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-12T20:40:04.137646+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903229", 
"date_created": "2011-12-12T14:38:36.590009+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-mysql-summary", 
"wrong-output"
]
}, 
{
"date_closed": "2012-06-19T20:02:44.489964+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-02T22:54:27.326454+00:00", 
"bug_id": 903379, 
"date_in_progress": "2012-03-02T22:54:27.326454+00:00", 
"bug_description": "App: pt-archiver\n\nThe combination of flags which do rase the error despite --dry-run passes without a problem:\n\npt-archiver \\\n--source h=localhost,D=database,t=table_I,b=1,i=index \\\n--dest h=localhost,D=database,t=table_II,b=1,i=index  \\\n--columns column1,column2,column3,column4,column5 \\\n--where \"changed_when < '2011-12-01 00:00:00'\" --limit 1000 --commit-each \\\n--nocheck-columns --replace --commit-each --bulk-insert --bulk-delete  \\\n--statistics \\\n--no-check-charset \\\n--file '/tmp/mysql/%Y-%m-%d-%D_%H:%i:%s.%t'\n\nVersion: 1.0.1-1\n\nIssue: Having --file flag in pt-archiver results in the following error:\n\u2022 Use of uninitialized value in lc at /usr/bin/pt-archiver line 3871.\n\n3868    # Open the file and print the header to it.\n3869    if ( $archive_file ) {\n3870       my $need_hdr = $o->get('header') && !-f $archive_file;\n\n3871       my $charset  = lc $o->get('charset');   <------ ERROR LINE.\n\n3872       if ( $charset ) {\n3873           $archive_fh = IO::File->new($archive_file, \">>:$charset\")\n3874              or die \"Cannot open $charset $archive_file: $OS_ERROR\\n\";\n3875       }\n\nAttempted to by pass problem:\n--- added \"--charset latin1\" flag - hence, the above error line expects its value - got further error:\n\u2022 Cannot open latin1 /tmp/mysql/2011-12-12-database_12:09:25.table: No such file or directory", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903379/related_tasks", 
"date_assigned": "2012-03-06T14:02:30.812403+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-archiver --file doesn't create a file", 
"title": "Bug #903379 in Percona Toolkit: \"pt-archiver --file doesn't create a file\"", 
"date_confirmed": "2012-03-02T22:54:27.326454+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903379", 
"date_left_new": "2012-03-02T22:54:27.326454+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903379", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f775147df13b5f35d4f7cdc99f4708ed7034d061-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~maxim.volkov", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:54:07.346944+00:00", 
"date_fix_released": "2012-06-19T20:02:44.489964+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903379", 
"date_created": "2011-12-12T20:14:37.978170+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-archiver"
]
}, 
{
"date_closed": "2012-06-19T20:02:39.862383+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-30T18:00:37.140620+00:00", 
"bug_id": 903443, 
"date_in_progress": "2012-05-30T18:00:37.140620+00:00", 
"bug_description": "pt-deadlock-logger returns an error when running on MySQL 5.5:\n\npt-deadlock-logger h=127.0.0.1,u=root\nArgument \"\" isn't numeric in numeric comparison (<=>) at ./pt-deadlock-logger line 2145.\n\nI've tested this on MySQL 5.5.17 Community and 5.5.18 Community\n\nthe InnoDB status output is like this :\n\n\u00a0------------------------\nLATEST DETECTED DEADLOCK\n------------------------\n111212 22:52:42\n*** (1) TRANSACTION:\nTRANSACTION 3405, ACTIVE 161 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 3 lock struct(s), heap size 376, 3 row lock(s), undo log entries 2\nMySQL thread id 19, OS thread handle 0x7fac301e4700, query id 180 localhost root Updating\nupdate a set movie_id=96 where id =2\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 0 page no 307 n bits 72 index `PRIMARY` of table `test`.`a` trx id 3405 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 3 PHYSICAL RECORD: n_fields 6; compact format; info bits 0\n\u00a00: len 4; hex 80000002; asc     ;;\n\u00a01: len 6; hex 000000003404; asc     4 ;;\n\u00a02: len 7; hex 040000163b2515; asc     ;% ;;\n\u00a03: len 4; hex 80000063; asc    c;;\n\u00a04: len 1; hex 01; asc  ;;\n\u00a05: len 8; hex 8000124a7c1acb8c; asc    J|   ;;\n\n*** (2) TRANSACTION:\nTRANSACTION 3404, ACTIVE 1026 sec starting index read\nmysql tables in use 1, locked 1\n3 lock struct(s), heap size 376, 2 row lock(s), undo log entries 1\nMySQL thread id 18, OS thread handle 0x7fac30225700, query id 181 localhost root Updating\nupdate a set movie_id=98 where id =4\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 0 page no 307 n bits 72 index `PRIMARY` of table `test`.`a` trx id 3404 lock_mode X locks rec but not gap\nRecord lock, heap no 3 PHYSICAL RECORD: n_fields 6; compact format; info bits 0\n\u00a00: len 4; hex 80000002; asc     ;;\n\u00a01: len 6; hex 000000003404; asc     4 ;;\n\u00a02: len 7; hex 040000163b2515; asc     ;% ;;\n\u00a03: len 4; hex 80000063; asc    c;;\n\u00a04: len 1; hex 01; asc  ;;\n\u00a05: len 8; hex 8000124a7c1acb8c; asc    J|   ;;\n\n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 0 page no 307 n bits 72 index `PRIMARY` of table `test`.`a` trx id 3404 lock_mode X locks rec but not gap waiting\nRecord lock, heap no 5 PHYSICAL RECORD: n_fields 6; compact format; info bits 0\n\u00a00: len 4; hex 80000004; asc     ;;\n\u00a01: len 6; hex 000000003405; asc     4 ;;\n\u00a02: len 7; hex 0500000e7017e8; asc     p  ;;\n\u00a03: len 4; hex 80000062; asc    b;;\n\u00a04: len 1; hex 01; asc  ;;\n\u00a05: len 8; hex 8000124a7c1acbb6; asc    J|   ;;\n\n*** WE ROLL BACK TRANSACTION (2)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903443/related_tasks", 
"date_assigned": "2012-05-27T22:09:25.267567+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-deadlock-logger crashes on MySQL 5.5", 
"title": "Bug #903443 in Percona Toolkit: \"pt-deadlock-logger crashes on MySQL 5.5\"", 
"date_confirmed": "2011-12-16T17:12:50.650640+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903443", 
"date_left_new": "2011-12-16T17:12:50.650640+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903443", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"05ad78f754a0ce44567939fff501cf3da3150d29-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:00:37.140620+00:00", 
"date_fix_released": "2012-06-19T20:02:39.862383+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903443", 
"date_created": "2011-12-12T22:20:38.835473+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"mysql-5.5", 
"pt-deadlock-logger"
]
}, 
{
"date_closed": "2012-08-10T18:13:24.635151+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:51:47.217394+00:00", 
"bug_id": 903510, 
"date_in_progress": "2012-08-01T17:51:47.217394+00:00", 
"bug_description": "It looks to me like pt-tcp-model is not handling an empty file here:\n\n[baron@ginger ~]$ touch foo\n[baron@ginger ~]$ pt-tcp-model --type=requests foo\nUse of uninitialized value in numeric lt (<) at /home/baron/repos/pt/bin/pt-tcp-model line 1736.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903510/related_tasks", 
"date_assigned": "2012-08-01T17:51:56.890742+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-tcp-model crashes in --type=requests mode on empty file", 
"title": "Bug #903510 in Percona Toolkit: \"pt-tcp-model crashes in --type=requests mode on empty file\"", 
"date_confirmed": "2011-12-16T17:12:42.976333+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903510", 
"date_left_new": "2011-12-16T17:12:42.976333+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903510", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"57dc625e01ffcb4a3f60353ab5128c795638680b-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T17:51:47.217394+00:00", 
"date_fix_released": "2012-08-10T18:13:24.635151+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903510", 
"date_created": "2011-12-13T02:03:25.701347+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-tcp-model"
]
}, 
{
"date_closed": "2012-01-09T18:01:24.091364+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-27T23:45:22.784887+00:00", 
"bug_id": 908256, 
"date_in_progress": "2011-12-27T23:45:22.784887+00:00", 
"bug_description": "There have been a lot of requests for pt-ioprofile from Aspersa.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/908256/related_tasks", 
"date_assigned": "2011-12-27T16:20:40.693236+00:00", 
"bug_information_type": "Public", 
"bug_title": "Percona Toolkit should include pt-ioprofile", 
"title": "Bug #908256 in Percona Toolkit: \"Percona Toolkit should include pt-ioprofile\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/908256", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/908256", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"e77e98d149e938671ba435c4af4cb6ca35ad5c77-9f7ccd9555e7a7d46d91aa99e717c0dde68a8fec\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-28T17:38:02.647544+00:00", 
"date_fix_released": "2012-01-09T18:01:24.091364+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/908256", 
"date_created": "2011-12-23T21:19:33.639177+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 911385, 
"date_in_progress": null, 
"bug_description": "[ .... ]$ PTDEBUG=1 ./pt-table-checksum --resume --replicate=mie.table_checksum --user=djuntgen --ask-pass --ignore-databases=test,wc_process_monitor,information_schema,mie,rxdb_v1,rxdb_utf8 wc-c1-dbmaster.med-web.com\n# /usr/bin/perl 5.010000\n# Linux zeus.med-web.com 2.6.39.4-2.fc12.x86_64 #1 SMP Sat Sep 10 13:07:15 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\n# Arguments: _[--resume]_ _[--replicate=mie.table_checksum]_ _[--user=xxxxx]_ _[--ask-pass]_ _[--ignore-databases=test,wc_process_monitor,information_schema,mie,rxdb_v1,rxdb_utf8]_ _[wc-c1-dbmaster.med-web.com]_\n# OptionParser:548 27739 Option rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:557 27739 =item --ask-pass\n# OptionParser:584 27739 Short help: Prompt for a password when connecting to MySQL\n# OptionParser:557 27739 =item --check-interval\n# OptionParser:584 27739 Short help: Sleep time between checks for --max-lag\n# OptionParser:557 27739 =item --[no]check-replication-filters\n# OptionParser:584 27739 Short help: Do not checksum if any replication filters are set on any replicas\n# OptionParser:557 27739 =item --check-slave-lag\n# OptionParser:584 27739 Short help: Pause checksumming until this replica's lag is less than --max-lag\n# OptionParser:557 27739 =item --chunk-index\n# OptionParser:584 27739 Short help: Prefer this index for chunking tables\n# OptionParser:557 27739 =item --chunk-size\n# OptionParser:584 27739 Short help: Number of rows to select for each checksum query\n# OptionParser:557 27739 =item --chunk-size-limit\n# OptionParser:584 27739 Short help: Do not checksum chunks this much larger than the desired chunk size\n# OptionParser:557 27739 =item --chunk-time\n# OptionParser:584 27739 Short help: Adjust the chunk size dynamically so each checksum query takes this long to execute\n# OptionParser:557 27739 =item --columns\n# OptionParser:584 27739 Short help: Checksum only this comma-separated list of columns\n# OptionParser:557 27739 =item --config\n# OptionParser:584 27739 Short help: Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:557 27739 =item --[no]create-replicate-table\n# OptionParser:584 27739 Short help: Create the --replicate database and table if they do not exist\n# OptionParser:557 27739 =item --databases\n# OptionParser:584 27739 Short help: Only checksum this comma-separated list of databases\n# OptionParser:557 27739 =item --databases-regex\n# OptionParser:584 27739 Short help: Only checksum databases whose names match this Perl regex\n# OptionParser:557 27739 =item --defaults-file\n# OptionParser:584 27739 Short help: Only read mysql options from the given file\n# OptionParser:557 27739 =item --[no]empty-replicate-table\n# OptionParser:584 27739 Short help: Delete previous checksums for each table before checksumming the table\n# OptionParser:557 27739 =item --engines\n# OptionParser:584 27739 Short help: Only checksum tables which use these storage engines\n# OptionParser:557 27739 =item --explain\n# OptionParser:584 27739 Short help: Show, but do not execute, checksum queries (disables --[no]empty-replicate-table)\n# OptionParser:557 27739 =item --float-precision\n# OptionParser:584 27739 Short help: Precision for FLOAT and DOUBLE number-to-string conversion\n# OptionParser:557 27739 =item --function\n# OptionParser:584 27739 Short help: Hash function for checksums (FNV1A_64, MURMUR_HASH, SHA1, MD5, CRC32, etc)\n# OptionParser:557 27739 =item --help\n# OptionParser:584 27739 Short help: Show help and exit\n# OptionParser:557 27739 =item --host\n# OptionParser:584 27739 Short help: Host to connect to\n# OptionParser:557 27739 =item --ignore-columns\n# OptionParser:584 27739 Short help: Ignore this comma-separated list of columns when calculating the checksum\n# OptionParser:557 27739 =item --ignore-databases\n# OptionParser:584 27739 Short help: Ignore this comma-separated list of databases\n# OptionParser:557 27739 =item --ignore-databases-regex\n# OptionParser:584 27739 Short help: Ignore databases whose names match this Perl regex\n# OptionParser:557 27739 =item --ignore-engines\n# OptionParser:584 27739 Short help: Ignore this comma-separated list of storage engines\n# OptionParser:557 27739 =item --ignore-tables\n# OptionParser:584 27739 Short help: Ignore this comma-separated list of tables\n# OptionParser:557 27739 =item --ignore-tables-regex\n# OptionParser:584 27739 Short help: Ignore tables whose names match the Perl regex\n# OptionParser:557 27739 =item --lock-wait-timeout\n# OptionParser:584 27739 Short help: Set the session value of the innodb_lock_wait_timeout variable on the master host\n# OptionParser:557 27739 =item --max-lag\n# OptionParser:584 27739 Short help: Pause checksumming until all replicas' lag is less than this value\n# OptionParser:557 27739 =item --max-load\n# OptionParser:584 27739 Short help: Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than the threshold\n# OptionParser:557 27739 =item --password\n# OptionParser:584 27739 Short help: Password to use when connecting\n# OptionParser:557 27739 =item --pid\n# OptionParser:584 27739 Short help: Create the given PID file\n# OptionParser:557 27739 =item --port\n# OptionParser:584 27739 Short help: Port number to use for connection\n# OptionParser:557 27739 =item --progress\n# OptionParser:584 27739 Short help: Print progress reports to STDERR\n# OptionParser:557 27739 =item --quiet\n# OptionParser:584 27739 Short help: Print only the most important information (disables --progress)\n# OptionParser:557 27739 =item --recurse\n# OptionParser:584 27739 Short help: Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:557 27739 =item --recursion-method\n# OptionParser:584 27739 Short help: Preferred recursion method for discovering replicas\n# OptionParser:557 27739 =item --replicate\n# OptionParser:584 27739 Short help: Write checksum results to this table\n# OptionParser:557 27739 =item --[no]replicate-check\n# OptionParser:584 27739 Short help: Check replicas for data differences after finishing each table\n# OptionParser:557 27739 =item --replicate-check-only\n# OptionParser:576 27739 Option has no attributes\n# OptionParser:584 27739 Short help: Check replicas for consistency without executing checksum queries\n# OptionParser:557 27739 =item --replicate-database\n# OptionParser:584 27739 Short help: USE only this database\n# OptionParser:557 27739 =item --resume\n# OptionParser:576 27739 Option has no attributes\n# OptionParser:584 27739 Short help: Resume checksumming from the last completed chunk (disables --[no]empty-replicate-table)\n# OptionParser:557 27739 =item --retries\n# OptionParser:584 27739 Short help: Retry a chunk this many times when there is a nonfatal error\n# OptionParser:557 27739 =item --separator\n# OptionParser:584 27739 Short help: The separator character used for CONCAT_WS()\n# OptionParser:557 27739 =item --set-vars\n# OptionParser:584 27739 Short help: Set these MySQL variables\n# OptionParser:557 27739 =item --socket\n# OptionParser:584 27739 Short help: Socket file to use for connection\n# OptionParser:557 27739 =item --tables\n# OptionParser:584 27739 Short help: Checksum only this comma-separated list of tables\n# OptionParser:557 27739 =item --tables-regex\n# OptionParser:584 27739 Short help: Checksum only tables whose names match this Perl regex\n# OptionParser:557 27739 =item --trim\n# OptionParser:576 27739 Option has no attributes\n# OptionParser:584 27739 Short help: Add TRIM() to VARCHAR columns (helps when comparing 4.1 to >= 5.0)\n# OptionParser:557 27739 =item --user\n# OptionParser:584 27739 Short help: User for login if not current user\n# OptionParser:557 27739 =item --version\n# OptionParser:584 27739 Short help: Show version and exit\n# OptionParser:557 27739 =item --where\n# OptionParser:584 27739 Short help: Do only rows matching this WHERE clause\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => ask-pass desc => Prompt for a password when connecting to MySQL\n# OptionParser:661 27739 ask-pass type: undef\n# OptionParser:623 27739 Parsing opt spec: group => Throttle spec => check-interval=m desc => Sleep time between checks for --max-lag (default 1)\n# OptionParser:661 27739 check-interval type: m\n# OptionParser:668 27739 check-interval default: 1\n# OptionParser:623 27739 Parsing opt spec: group => Safety spec => check-replication-filters! desc => Do not checksum if any replication filters are set on any replicas (default yes)\n# OptionParser:661 27739 check-replication-filters type: undef\n# OptionParser:668 27739 check-replication-filters default: yes\n# OptionParser:623 27739 Parsing opt spec: group => Throttle spec => check-slave-lag=s desc => Pause checksumming until this replica's lag is less than --max-lag\n# OptionParser:661 27739 check-slave-lag type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => chunk-index=s desc => Prefer this index for chunking tables\n# OptionParser:661 27739 chunk-index type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => chunk-size=z desc => Number of rows to select for each checksum query (default 1000)\n# OptionParser:661 27739 chunk-size type: z\n# OptionParser:668 27739 chunk-size default: 1000\n# OptionParser:623 27739 Parsing opt spec: group => Safety spec => chunk-size-limit=f desc => Do not checksum chunks this much larger than the desired chunk size (default 2.0)\n# OptionParser:661 27739 chunk-size-limit type: f\n# OptionParser:668 27739 chunk-size-limit default: 2.0\n# OptionParser:623 27739 Parsing opt spec: group => default spec => chunk-time=f desc => Adjust the chunk size dynamically so each checksum query takes this long to execute (default 0.5)\n# OptionParser:661 27739 chunk-time type: f\n# OptionParser:668 27739 chunk-time default: 0.5\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => columns|c=a desc => Checksum only this comma-separated list of columns\n# OptionParser:661 27739 columns type: a\n# OptionParser:623 27739 Parsing opt spec: group => Config spec => config=A desc => Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:661 27739 config type: A\n# OptionParser:623 27739 Parsing opt spec: group => default spec => create-replicate-table! desc => Create the --replicate database and table if they do not exist (default yes)\n# OptionParser:661 27739 create-replicate-table type: undef\n# OptionParser:668 27739 create-replicate-table default: yes\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => databases|d=h desc => Only checksum this comma-separated list of databases\n# OptionParser:661 27739 databases type: h\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => databases-regex=s desc => Only checksum databases whose names match this Perl regex\n# OptionParser:661 27739 databases-regex type: s\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => defaults-file|F=s desc => Only read mysql options from the given file\n# OptionParser:661 27739 defaults-file type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => empty-replicate-table! desc => Delete previous checksums for each table before checksumming the table (default yes)\n# OptionParser:661 27739 empty-replicate-table type: undef\n# OptionParser:668 27739 empty-replicate-table default: yes\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => engines|e=h desc => Only checksum tables which use these storage engines\n# OptionParser:661 27739 engines type: h\n# OptionParser:623 27739 Parsing opt spec: group => Output spec => explain+ desc => Show, but do not execute, checksum queries (disables --[no]empty-replicate-table) (default 0)\n# OptionParser:661 27739 explain type: undef\n# OptionParser:668 27739 explain default: 0\n# OptionParser:677 27739 Deferring check of disables rule for HASH(0x12bf748) disables --[no]empty-replicate-table) (default 0)\n# OptionParser:623 27739 Parsing opt spec: group => default spec => float-precision=i desc => Precision for FLOAT and DOUBLE number-to-string conversion\n# OptionParser:661 27739 float-precision type: i\n# OptionParser:623 27739 Parsing opt spec: group => default spec => function=s desc => Hash function for checksums (FNV1A_64, MURMUR_HASH, SHA1, MD5, CRC32, etc)\n# OptionParser:661 27739 function type: s\n# OptionParser:623 27739 Parsing opt spec: group => Help spec => help desc => Show help and exit\n# OptionParser:661 27739 help type: undef\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => host|h=s desc => Host to connect to (default localhost)\n# OptionParser:661 27739 host type: s\n# OptionParser:668 27739 host default: localhost\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-columns=H desc => Ignore this comma-separated list of columns when calculating the checksum\n# OptionParser:661 27739 ignore-columns type: H\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-databases=H desc => Ignore this comma-separated list of databases\n# OptionParser:661 27739 ignore-databases type: H\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-databases-regex=s desc => Ignore databases whose names match this Perl regex\n# OptionParser:661 27739 ignore-databases-regex type: s\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-engines=H desc => Ignore this comma-separated list of storage engines (default FEDERATED,MRG_MyISAM)\n# OptionParser:661 27739 ignore-engines type: H\n# OptionParser:668 27739 ignore-engines default: FEDERATED,MRG_MyISAM\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-tables=H desc => Ignore this comma-separated list of tables\n# OptionParser:661 27739 ignore-tables type: H\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => ignore-tables-regex=s desc => Ignore tables whose names match the Perl regex\n# OptionParser:661 27739 ignore-tables-regex type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => lock-wait-timeout=i desc => Set the session value of the innodb_lock_wait_timeout variable on the master host (default 1)\n# OptionParser:661 27739 lock-wait-timeout type: i\n# OptionParser:668 27739 lock-wait-timeout default: 1\n# OptionParser:623 27739 Parsing opt spec: group => Throttle spec => max-lag=m desc => Pause checksumming until all replicas' lag is less than this value (default 1s)\n# OptionParser:661 27739 max-lag type: m\n# OptionParser:668 27739 max-lag default: 1s\n# OptionParser:623 27739 Parsing opt spec: group => Throttle spec => max-load=A desc => Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than the threshold (default Threads_running=25)\n# OptionParser:661 27739 max-load type: A\n# OptionParser:668 27739 max-load default: Threads_running=25\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => password|p=s desc => Password to use when connecting\n# OptionParser:661 27739 password type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => pid=s desc => Create the given PID file\n# OptionParser:661 27739 pid type: s\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => port|P=i desc => Port number to use for connection\n# OptionParser:661 27739 port type: i\n# OptionParser:623 27739 Parsing opt spec: group => default spec => progress=a desc => Print progress reports to STDERR (default time,30)\n# OptionParser:661 27739 progress type: a\n# OptionParser:668 27739 progress default: time,30\n# OptionParser:623 27739 Parsing opt spec: group => default spec => quiet|q+ desc => Print only the most important information (disables --progress) (default 0)\n# OptionParser:661 27739 quiet type: undef\n# OptionParser:668 27739 quiet default: 0\n# OptionParser:677 27739 Deferring check of disables rule for HASH(0x12bef08) disables --progress) (default 0)\n# OptionParser:623 27739 Parsing opt spec: group => default spec => recurse=i desc => Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:661 27739 recurse type: i\n# OptionParser:623 27739 Parsing opt spec: group => default spec => recursion-method=s desc => Preferred recursion method for discovering replicas\n# OptionParser:661 27739 recursion-method type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => replicate=s desc => Write checksum results to this table (default percona.checksums)\n# OptionParser:661 27739 replicate type: s\n# OptionParser:668 27739 replicate default: percona.checksums\n# OptionParser:623 27739 Parsing opt spec: group => default spec => replicate-check! desc => Check replicas for data differences after finishing each table (default yes)\n# OptionParser:661 27739 replicate-check type: undef\n# OptionParser:668 27739 replicate-check default: yes\n# OptionParser:623 27739 Parsing opt spec: group => default spec => replicate-check-only desc => Check replicas for consistency without executing checksum queries\n# OptionParser:661 27739 replicate-check-only type: undef\n# OptionParser:623 27739 Parsing opt spec: group => default spec => replicate-database=s desc => USE only this database\n# OptionParser:661 27739 replicate-database type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => resume desc => Resume checksumming from the last completed chunk (disables --[no]empty-replicate-table)\n# OptionParser:661 27739 resume type: undef\n# OptionParser:677 27739 Deferring check of disables rule for HASH(0x12beb18) disables --[no]empty-replicate-table)\n# OptionParser:623 27739 Parsing opt spec: group => default spec => retries=i desc => Retry a chunk this many times when there is a nonfatal error (default 2)\n# OptionParser:661 27739 retries type: i\n# OptionParser:668 27739 retries default: 2\n# OptionParser:623 27739 Parsing opt spec: group => default spec => separator=s desc => The separator character used for CONCAT_WS() (default #)\n# OptionParser:661 27739 separator type: s\n# OptionParser:668 27739 separator default: #\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => set-vars=s desc => Set these MySQL variables (default wait_timeout=10000)\n# OptionParser:661 27739 set-vars type: s\n# OptionParser:668 27739 set-vars default: wait_timeout=10000\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => socket|S=s desc => Socket file to use for connection\n# OptionParser:661 27739 socket type: s\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => tables|t=h desc => Checksum only this comma-separated list of tables\n# OptionParser:661 27739 tables type: h\n# OptionParser:623 27739 Parsing opt spec: group => Filter spec => tables-regex=s desc => Checksum only tables whose names match this Perl regex\n# OptionParser:661 27739 tables-regex type: s\n# OptionParser:623 27739 Parsing opt spec: group => default spec => trim desc => Add TRIM() to VARCHAR columns (helps when comparing 4.1 to >= 5.0)\n# OptionParser:661 27739 trim type: undef\n# OptionParser:623 27739 Parsing opt spec: group => Connection spec => user|u=s desc => User for login if not current user\n# OptionParser:661 27739 user type: s\n# OptionParser:623 27739 Parsing opt spec: group => Help spec => version desc => Show version and exit\n# OptionParser:661 27739 version type: undef\n# OptionParser:623 27739 Parsing opt spec: group => default spec => where=s desc => Do only rows matching this WHERE clause\n# OptionParser:661 27739 where type: s\n# OptionParser:683 27739 Parsing rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:739 27739 Participants for This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details. :\n# OptionParser:715 27739 Strict mode disabled by rule\n# OptionParser:739 27739 Participants for disables --[no]empty-replicate-table) : empty-replicate-table\n# OptionParser:725 27739 Option resume disables empty-replicate-table\n# OptionParser:739 27739 Participants for disables --progress) (default 0) : progress\n# OptionParser:725 27739 Option quiet disables progress\n# OptionParser:739 27739 Participants for disables --[no]empty-replicate-table) (default 0) : empty-replicate-table\n# OptionParser:725 27739 Option explain disables empty-replicate-table\n# OptionParser:467 27739 Parsing DSN OPTIONS\n# OptionParser:557 27739 =item * A\n# OptionParser:584 27739 Short help: Default character set\n# OptionParser:557 27739 =item * D\n# OptionParser:584 27739 Short help: DSN table database\n# OptionParser:557 27739 =item * F\n# OptionParser:584 27739 Short help: Only read default options from the given file\n# OptionParser:557 27739 =item * h\n# OptionParser:584 27739 Short help: Connect to host\n# OptionParser:557 27739 =item * p\n# OptionParser:584 27739 Short help: Password to use when connecting\n# OptionParser:557 27739 =item * P\n# OptionParser:584 27739 Short help: Port number to use for connection\n# OptionParser:557 27739 =item * S\n# OptionParser:584 27739 Short help: Socket file to use for connection\n# OptionParser:557 27739 =item * t\n# OptionParser:584 27739 Short help: DSN table table\n# OptionParser:557 27739 =item * u\n# OptionParser:584 27739 Short help: User for login if not current user\n# DSNParser:50 27739 DSN option: copy=1, dsn=charset, desc=Default character set, key=A\n# DSNParser:50 27739 DSN option: copy=, dsn=undef, desc=DSN table database, key=D\n# DSNParser:50 27739 DSN option: copy=, dsn=mysql_read_default_file, desc=Only read default options from the given file, key=F\n# DSNParser:50 27739 DSN option: copy=1, dsn=host, desc=Connect to host, key=h\n# DSNParser:50 27739 DSN option: copy=1, dsn=password, desc=Password to use when connecting, key=p\n# DSNParser:50 27739 DSN option: copy=1, dsn=port, desc=Port number to use for connection, key=P\n# DSNParser:50 27739 DSN option: copy=, dsn=mysql_socket, desc=Socket file to use for connection, key=S\n# DSNParser:50 27739 DSN option: copy=, dsn=undef, desc=DSN table table, key=t\n# DSNParser:50 27739 DSN option: copy=1, dsn=user, desc=User for login if not current user, key=u\n# OptionParser:511 27739 pt-table-checksum 2.0.1\n# OptionParser:823 27739 Cannot open /etc/percona-toolkit/percona-toolkit.conf: No such file or directory\n#\n# OptionParser:823 27739 Cannot open /etc/percona-toolkit/pt-table-checksum.conf: No such file or directory\n#\n# OptionParser:823 27739 Cannot open /home/djuntgen/.percona-toolkit.conf: No such file or directory\n#\n# OptionParser:823 27739 Cannot open /home/djuntgen/.pt-table-checksum.conf: No such file or directory\n#\n# OptionParser:791 27739 Got option resume = 1\n# OptionParser:791 27739 Got option replicate = mie.table_checksum\n# OptionParser:791 27739 Got option user = djuntgen\n# OptionParser:791 27739 Got option ask-pass = 1\n# OptionParser:791 27739 Got option ignore-databases = test,wc_process_monitor,information_schema,mie,rxdb_v1,rxdb_utf8\n# OptionParser:1011 27739 Nothing to validate for option ignore-tables-regex type s value undef\n# OptionParser:1001 27739 Parsing option chunk-size as a size value\n# OptionParser:1011 27739 Nothing to validate for option recursion-method type s value undef\n# OptionParser:1011 27739 Nothing to validate for option ignore-databases-regex type s value undef\n# OptionParser:1011 27739 Nothing to validate for option check-slave-lag type s value undef\n# OptionParser:1011 27739 Nothing to validate for option chunk-index type s value undef\n# OptionParser:1011 27739 Nothing to validate for option tables type h value undef\n# OptionParser:1011 27739 Nothing to validate for option password type s value undef\n# OptionParser:1011 27739 Nothing to validate for option pid type s value undef\n# OptionParser:1011 27739 Nothing to validate for option replicate type s value mie.table_checksum\n# OptionParser:1011 27739 Nothing to validate for option float-precision type i value undef\n# OptionParser:1011 27739 Nothing to validate for option user type s value djuntgen\n# OptionParser:1011 27739 Nothing to validate for option chunk-time type f value 0.5\n# OptionParser:1011 27739 Nothing to validate for option set-vars type s value wait_timeout=10000\n# OptionParser:1011 27739 Nothing to validate for option port type i value undef\n# OptionParser:1011 27739 Nothing to validate for option socket type s value undef\n# OptionParser:1011 27739 Nothing to validate for option lock-wait-timeout type i value 1\n# OptionParser:962 27739 Parsing option check-interval as a time value\n# OptionParser:967 27739 No suffix given; using s for check-interval (value: 1 )\n# OptionParser:976 27739 Setting option check-interval to 1\n# OptionParser:1011 27739 Nothing to validate for option recurse type i value undef\n# OptionParser:1011 27739 Nothing to validate for option columns type a value undef\n# OptionParser:962 27739 Parsing option max-lag as a time value\n# OptionParser:976 27739 Setting option max-lag to 1\n# OptionParser:1011 27739 Nothing to validate for option replicate-database type s value undef\n# OptionParser:1011 27739 Nothing to validate for option engines type h value undef\n# OptionParser:1011 27739 Nothing to validate for option retries type i value 2\n# OptionParser:1011 27739 Nothing to validate for option function type s value undef\n# OptionParser:1011 27739 Nothing to validate for option databases-regex type s value undef\n# OptionParser:889 27739 Unset options empty-replicate-table because resume disables them\n# OptionParser:1011 27739 Nothing to validate for option tables-regex type s value undef\n# OptionParser:1011 27739 Nothing to validate for option chunk-size-limit type f value 2.0\n# OptionParser:1011 27739 Nothing to validate for option databases type h value undef\n# OptionParser:1011 27739 Nothing to validate for option where type s value undef\n# OptionParser:1011 27739 Nothing to validate for option defaults-file type s value undef\n# OptionParser:1011 27739 Nothing to validate for option host type s value localhost\n# OptionParser:1011 27739 Nothing to validate for option separator type s value #\n# DSNParser:66 27739 Setting set-vars property\n# OptionParser:1085 27739 Getting description and usage from SYNOPSIS in ./pt-table-checksum\n# OptionParser:1338 27739 Parsing SYNOPSIS in ./pt-table-checksum\n# OptionParser:1351 27739 Raw SYNOPSIS text: Usage: pt-table-checksum [OPTION...] [DSN]\n#\n#  pt-table-checksum performs an online replication consistency check by executing\n# checksum queries on the master, which produces different results on replicas\n# that are inconsistent with the master.  The optional DSN specifies the master\n# host.  The tool's exit status is nonzero if any differences are found, or if any\n# warnings or errors occur.\n#\n#\n# OptionParser:1089 27739 Description: pt-table-checksum performs an online replication consistency check by executing checksum queries on the master, which produces different results on replicas that are inconsistent with the master.  The optional DSN specifies the master host.  The tool's exit status is nonzero if any differences are found, or if any warnings or errors occur.\n# Usage: pt-table-checksum [OPTION...] [DSN]\n# DSNParser:137 27739 DSN string made from options: u=djuntgen,h=localhost\n# DSNParser:78 27739 Parsing u=djuntgen,h=localhost\n# DSNParser:96 27739 Finding value for S\n# DSNParser:106 27739 Copying value for S from defaults\n# DSNParser:96 27739 Finding value for F\n# DSNParser:106 27739 Copying value for F from defaults\n# DSNParser:96 27739 Finding value for A\n# DSNParser:106 27739 Copying value for A from defaults\n# DSNParser:96 27739 Finding value for P\n# DSNParser:106 27739 Copying value for P from defaults\n# DSNParser:96 27739 Finding value for p\n# DSNParser:106 27739 Copying value for p from defaults\n# DSNParser:96 27739 Finding value for u\n# DSNParser:96 27739 Finding value for h\n# DSNParser:96 27739 Finding value for D\n# DSNParser:106 27739 Copying value for D from defaults\n# DSNParser:96 27739 Finding value for t\n# DSNParser:106 27739 Copying value for t from defaults\n# DSNParser:78 27739 Parsing wc-c1-dbmaster.med-web.com\n# DSNParser:90 27739 Interpreting wc-c1-dbmaster.med-web.com as h= wc-c1-dbmaster.med-web.com\n# DSNParser:96 27739 Finding value for S\n# DSNParser:106 27739 Copying value for S from defaults\n# DSNParser:96 27739 Finding value for F\n# DSNParser:106 27739 Copying value for F from defaults\n# DSNParser:96 27739 Finding value for A\n# DSNParser:106 27739 Copying value for A from defaults\n# DSNParser:96 27739 Finding value for P\n# DSNParser:106 27739 Copying value for P from defaults\n# DSNParser:96 27739 Finding value for p\n# DSNParser:106 27739 Copying value for p from defaults\n# DSNParser:96 27739 Finding value for u\n# DSNParser:106 27739 Copying value for u from defaults\n# DSNParser:96 27739 Finding value for h\n# DSNParser:96 27739 Finding value for D\n# DSNParser:106 27739 Copying value for D from defaults\n# DSNParser:96 27739 Finding value for t\n# DSNParser:106 27739 Copying value for t from defaults\nEnter MySQL password:\n# DSNParser:189 27739 DBI:mysql:;host=wc-c1-dbmaster.med-web.com;mysql_read_default_group=client\n# DSNParser:235 27739 DBI:mysql:;host=wc-c1-dbmaster.med-web.com;mysql_read_default_group=client   djuntgen  xxxxx\n mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:244 27739 DBI::db=HASH(0x1440288) SELECT @@SQL_MODE\n# DSNParser:251 27739 DBI::db=HASH(0x1440288) SET @@SQL_QUOTE_SHOW_CREATE = 1/*!40101, @@SQL_MODE='NO_AUTO_VALUE_ON_ZERO'*/\n# DSNParser:270 27739 DBI::db=HASH(0x1440288) : SET wait_timeout=10000\n# DSNParser:296 27739 DBH info:  DBI::db=HASH(0x1440288) $VAR1 = {\n#   '@@hostname' => 'wc-c1-db2.med-web.com',\n#   'CONNECTION_ID()' => '2054634',\n#   'DATABASE()' => undef,\n#   'VERSION()' => '5.1.56-rel12.7-log'\n# };\n#  Connection info: wc-c1-dbmaster.med-web.com via TCP/IP Character set info: $VAR1 = [\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_client'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_connection'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_database'\n#   },\n#   {\n#     Value => 'binary',\n#     Variable_name => 'character_set_filesystem'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_results'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_server'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_system'\n#   },\n#   {\n#     Value => '/usr/local/mysql-percona-5.1.56.x86_64/share/mysql/charsets/',\n#     Variable_name => 'character_sets_dir'\n#   }\n# ];\n#  $DBD::mysql::VERSION: 4.013 $DBI::VERSION: 1.609\n# Cxn:1461 27739 DBI::db=HASH(0x1440288) Connected dbh to undef\n# Cxn:1474 27739 DBI::db=HASH(0x1440288) Setting dbh\n# Cxn:1479 27739 DBI::db=HASH(0x1440288) SELECT @@hostname, @@server_id\n# Cxn:1481 27739 DBI::db=HASH(0x1440288) hostname: wc-c1-db2.med-web.com 1\n# pt_table_checksum:5886 27739 DBI::db=HASH(0x1440288) /*!50108 SET @@binlog_format := \"STATEMENT\"*/\n# pt_table_checksum:5900 27739 DBI::db=HASH(0x1440288) SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ\n# pt_table_checksum:5918 27739 DBI::db=HASH(0x1440288) SHOW SESSION VARIABLES LIKE \"innodb_lock_wait_timeout\"\n# pt_table_checksum:5920 27739 innodb_lock_wait_timeout 50\n# pt_table_checksum:5924 27739 DBI::db=HASH(0x1440288) SET SESSION innodb_lock_wait_timeout=1\n# MasterSlave:2456 27739 Slave recursion method: undef\n# MasterSlave:2504 27739 Connected to h=wc-c1-dbmaster.med-web.com,p=...,u=djuntgen\n# MasterSlave:2513 27739 SELECT @@SERVER_ID\n# MasterSlave:2515 27739 Working on server ID 1\n# MasterSlave:2559 27739 Looking for slaves on h=wc-c1-dbmaster.med-web.com,p=...,u=djuntgen using methods processlist hosts\n# MasterSlave:2566 27739 Finding slaves with _find_slaves_by_processlist\n# VersionParser:1677 27739 5.1.56-rel12.7-log parses to 005001056\n# VersionParser:1677 27739 4.1.2 parses to 004001002\n# VersionParser:1688 27739 005001056 ge 4.1.2 : 1\n# MasterSlave:2633 27739 DBI::db=HASH(0x1440288) SHOW GRANTS FOR CURRENT_USER()\n# MasterSlave:2663 27739 DBI::db=HASH(0x1440288) SHOW PROCESSLIST\n# DSNParser:78 27739 Parsing h=192.168.85.9\n# DSNParser:96 27739 Finding value for S\n# DSNParser:106 27739 Copying value for S from defaults\n# DSNParser:96 27739 Finding value for F\n# DSNParser:106 27739 Copying value for F from defaults\n# DSNParser:96 27739 Finding value for A\n# DSNParser:106 27739 Copying value for A from defaults\n# DSNParser:96 27739 Finding value for P\n# DSNParser:106 27739 Copying value for P from defaults\n# DSNParser:96 27739 Finding value for p\n# DSNParser:102 27739 Copying value for p from previous DSN\n# DSNParser:96 27739 Finding value for u\n# DSNParser:102 27739 Copying value for u from previous DSN\n# DSNParser:96 27739 Finding value for h\n# DSNParser:96 27739 Finding value for D\n# DSNParser:106 27739 Copying value for D from defaults\n# DSNParser:96 27739 Finding value for t\n# DSNParser:106 27739 Copying value for t from defaults\n# MasterSlave:2571 27739 Found 1 slaves\n# MasterSlave:2537 27739 Recursing from h=wc-c1-dbmaster.med-web.com,p=...,u=djuntgen to h=192.168.85.9,p=...,u=djuntgen\n# DSNParser:189 27739 DBI:mysql:;host=192.168.85.9;mysql_read_default_group=client\n# DSNParser:235 27739 DBI:mysql:;host=192.168.85.9;mysql_read_default_group=client   djuntgen   xxxx mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:244 27739 DBI::db=HASH(0x143df08) SELECT @@SQL_MODE\n# DSNParser:251 27739 DBI::db=HASH(0x143df08) SET @@SQL_QUOTE_SHOW_CREATE = 1/*!40101, @@SQL_MODE='NO_AUTO_VALUE_ON_ZERO'*/\n# DSNParser:270 27739 DBI::db=HASH(0x143df08) : SET wait_timeout=10000\n# DSNParser:296 27739 DBH info:  DBI::db=HASH(0x143df08) $VAR1 = {\n#   '@@hostname' => 'wcdb-slave2.med-web.com',\n#   'CONNECTION_ID()' => '872736',\n#   'DATABASE()' => undef,\n#   'VERSION()' => '5.1.59rel13.0-log'\n# };\n#  Connection info: 192.168.85.9 via TCP/IP Character set info: $VAR1 = [\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_client'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_connection'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_database'\n#   },\n#   {\n#     Value => 'binary',\n#     Variable_name => 'character_set_filesystem'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_results'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_server'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_system'\n#   },\n#   {\n#     Value => '/usr/local/mysql-percona-5.1.59.x86_64/share/mysql/charsets/',\n#     Variable_name => 'character_sets_dir'\n#   }\n# ];\n#  $DBD::mysql::VERSION: 4.013 $DBI::VERSION: 1.609\n# MasterSlave:2504 27739 Connected to h=192.168.85.9,p=...,u=djuntgen\n# MasterSlave:2513 27739 SELECT @@SERVER_ID\n# MasterSlave:2515 27739 Working on server ID 3\n# MasterSlave:2472 27739 Found slave: h=192.168.85.9,p=...,u=djuntgen\n# DSNParser:137 27739 DSN string made from options: u=djuntgen,h=localhost\n# DSNParser:78 27739 Parsing u=djuntgen,h=localhost\n# DSNParser:96 27739 Finding value for S\n# DSNParser:106 27739 Copying value for S from defaults\n# DSNParser:96 27739 Finding value for F\n# DSNParser:106 27739 Copying value for F from defaults\n# DSNParser:96 27739 Finding value for A\n# DSNParser:106 27739 Copying value for A from defaults\n# DSNParser:96 27739 Finding value for P\n# DSNParser:106 27739 Copying value for P from defaults\n# DSNParser:96 27739 Finding value for p\n# DSNParser:106 27739 Copying value for p from defaults\n# DSNParser:96 27739 Finding value for u\n# DSNParser:96 27739 Finding value for h\n# DSNParser:96 27739 Finding value for D\n# DSNParser:106 27739 Copying value for D from defaults\n# DSNParser:96 27739 Finding value for t\n# DSNParser:106 27739 Copying value for t from defaults\n# Cxn:1461 27739 DBI::db=HASH(0x143df08) Connected dbh to undef\n# Cxn:1474 27739 DBI::db=HASH(0x143df08) Setting dbh\n# Cxn:1479 27739 DBI::db=HASH(0x143df08) SELECT @@hostname, @@server_id\n# Cxn:1481 27739 DBI::db=HASH(0x143df08) hostname: wcdb-slave2.med-web.com 3\n# MasterSlave:2559 27739 Looking for slaves on h=192.168.85.9,p=...,u=djuntgen using methods processlist hosts\n# MasterSlave:2566 27739 Finding slaves with _find_slaves_by_processlist\n# VersionParser:1677 27739 5.1.59rel13.0-log parses to 005001059\n# VersionParser:1677 27739 4.1.2 parses to 004001002\n# VersionParser:1688 27739 005001059 ge 4.1.2 : 1\n# MasterSlave:2633 27739 DBI::db=HASH(0x143df08) SHOW GRANTS FOR CURRENT_USER()\n# MasterSlave:2663 27739 DBI::db=HASH(0x143df08) SHOW PROCESSLIST\n# MasterSlave:2566 27739 Finding slaves with _find_slaves_by_hosts\n# MasterSlave:2600 27739 DBI::db=HASH(0x143df08) SHOW SLAVE HOSTS\n# MasterSlave:2571 27739 Found 0 slaves\n# pt_table_checksum:6005 27739 1 slaves found\n# pt_table_checksum:6016 27739 Will check slave lag on all slaves\n# pt_table_checksum:6052 27739 Checking slave replication filters\n# MasterSlave:2747 27739 DBI::db=HASH(0x143df08) SHOW MASTER STATUS\n# MasterSlave:2751 27739 binlog_do_db= position=106 file=mysql-bin.000110 binlog_ignore_db=\n# MasterSlave:2723 27739 DBI::db=HASH(0x143df08) SHOW SLAVE STATUS\n# MasterSlave:3049 27739 DBI::db=HASH(0x143df08) SHOW VARIABLES LIKE 'slave_skip_errors'\n# pt_table_checksum:6995 27739 Checking --replicate table `mie`.`table_checksum`\n# pt_table_checksum:7000 27739 SHOW DATABASES LIKE 'mie'\n# pt_table_checksum:7098 27739 use_repl_db\n# pt_table_checksum:7119 27739 USE `mie`\n# TableParser:1952 27739 Checking `mie`.`table_checksum`\n# TableParser:1956 27739 SHOW TABLES FROM `mie` LIKE 'table\\_checksum'\n# TableParser:1970 27739 Table exists; no privs to check\n# pt_table_checksum:7033 27739 --replicate table `mie`.`table_checksum` already exists\n# TableParser:1952 27739 Checking `mie`.`table_checksum`\n# TableParser:1956 27739 SHOW TABLES FROM `mie` LIKE 'table\\_checksum'\n# TableParser:1970 27739 Table exists; no privs to check\n# TableParser:1974 27739 SHOW FULL COLUMNS FROM `mie`.`table_checksum`\n# TableParser:1989 27739 DELETE FROM `mie`.`table_checksum` LIMIT 0\n# TableParser:1995 27739 User privs on `mie`.`table_checksum` : select,insert,update,references delete\n# TableParser:2004 27739 User has all privs\n# MySQLStatusWaiter:5631 27739 Wait if Threads_running >= 25\n# RowChecksum:3329 27739 SELECT CRC32('test-string')\n# RowChecksum:3336 27739 Chosen hash func: undef\n# RowChecksum:3376 27739 SELECT CRC32('a') bigint 10\n# RowChecksum:3382 27739 crc_type: int length: 10\n# pt_table_checksum:7201 27739 Getting last chunk for --resume\n# pt_table_checksum:7206 27739 SELECT * FROM `mie`.`table_checksum` FORCE INDEX (ts_db_tbl) WHERE master_cnt IS NOT NULL ORDER BY ts DESC, db DESC, tbl DESC LIMIT 1\n# pt_table_checksum:7211 27739 Last chunk: $VAR1 = {\n#   chunk => '2',\n#   chunk_index => 'PRIMARY',\n#   chunk_time => '0.222363',\n#   db => 'rxdb_utf8',\n#   lower_boundary => '1013979962',\n#   master_cnt => '822',\n#   master_crc => '5f44645',\n#   tbl => 'NPI_individuals',\n#   this_cnt => '822',\n#   this_crc => '5f44645',\n#   ts => '2012-01-03 12:41:39',\n#   upper_boundary => '1013989615'\n# };\n#\n# SchemaIterator:4551 27739 Will resume from or after `rxdb_utf8`.`NPI_individuals`\n# SchemaIterator:4598 27739 Filter ignore-databases value: test\n# SchemaIterator:4598 27739 Filter ignore-databases value: information_schema\n# SchemaIterator:4598 27739 Filter ignore-databases value: wc_process_monitor\n# SchemaIterator:4598 27739 Filter ignore-databases value: rxdb_v1\n# SchemaIterator:4598 27739 Filter ignore-databases value: mie\n# SchemaIterator:4598 27739 Filter ignore-databases value: rxdb_utf8\n# SchemaIterator:4594 27739 Filter ignore-tables value: mie table_checksum\n# SchemaIterator:4598 27739 Filter ignore-engines value: mrg_myisam\n# SchemaIterator:4598 27739 Filter ignore-engines value: federated\n# SchemaIterator:4618 27739 Schema object filters: $VAR1 = {\n#   'ignore-databases' => {\n#     information_schema => 1,\n#     mie => 1,\n#     rxdb_utf8 => 1,\n#     rxdb_v1 => 1,\n#     test => 1,\n#     wc_process_monitor => 1\n#   },\n#   'ignore-engines' => {\n#     federated => 1,\n#     mrg_myisam => 1\n#   },\n#   'ignore-tables' => {\n#     table_checksum => 'mie'\n#   }\n# };\n#\n# SchemaIterator:4730 27739 Getting next schema object from dbh DBI::db=HASH(0x1440288)\n# SchemaIterator:4734 27739 SHOW DATABASES\n# SchemaIterator:4811 27739 Database information_schema is a system database, ignoring\n# SchemaIterator:4816 27739 Database mie is in --ignore-databases list\n# SchemaIterator:4816 27739 Database rxdb_utf8 is in --ignore-databases list\n# SchemaIterator:4816 27739 Database rxdb_v1 is in --ignore-databases list\n# SchemaIterator:4816 27739 Database test is in --ignore-databases list\n# SchemaIterator:4816 27739 Database wc_process_monitor is in --ignore-databases list\n# SchemaIterator:4737 27739 Found 361 databases\nUse of uninitialized value $db in string eq at ./pt-table-checksum line 4919, <STDIN> line 1.\n# Cxn:1514 27739 Disconnecting dbh DBI::db=HASH(0x143df08) undef\n# Cxn:1514 27739 Disconnecting dbh DBI::db=HASH(0x1440288) undef", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/911385/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum v2 fails when --resume + --ignore-database is used", 
"title": "Bug #911385 in Percona Toolkit: \"pt-table-checksum v2 fails when --resume + --ignore-database is used\"", 
"date_confirmed": "2012-01-16T16:24:49.408680+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/911385", 
"date_left_new": "2012-01-16T16:24:49.408680+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/911385", 
"milestone_link": null, 
"http_etag": "\"f485911b5b063f098962da0440cc84c7468578df-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/911385", 
"date_created": "2012-01-03T18:06:22.356838+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"filters", 
"pt-table-checksum", 
"resume"
]
}, 
{
"date_closed": "2012-02-08T15:29:39.048669+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-19T20:06:32.772332+00:00", 
"bug_id": 915598, 
"date_in_progress": "2012-01-19T20:06:32.772332+00:00", 
"bug_description": "A number of pt-* utilities in version 2.0.2 installed from the .deb package in your web site seem to ignore the *--ask-pass* option to ask for the user's password. I tried mostly the pt-config-diff using --ask-pass in different positions in the list of options:\n\nHere are a few examples:\ngerry@server-01:~$ pt-config-diff /etc/mysql/my.cnf --ask-pass --user=root h=localhost\nDBI connect(';host=localhost;mysql_read_default_group=client','root',...) failed: Access denied for user 'root'@'localhost' (using password: NO) at /usr/bin/pt-config-diff line 1261\ngerry@server-01:~$ pt-config-diff --ask-pass /etc/mysql/my.cnf --user=root h=localhost\nDBI connect(';host=localhost;mysql_read_default_group=client','root',...) failed: Access denied for user 'root'@'localhost' (using password: NO) at /usr/bin/pt-config-diff line 1261\ngerry@server-01:~$ pt-config-diff /etc/mysql/my.cnf --user=root h=localhost --ask-pass\nDBI connect(';host=localhost;mysql_read_default_group=client','root',...) failed: Access denied for user 'root'@'localhost' (using password: NO) at /usr/bin/pt-config-diff line 1261\n\n\nOS info:\nuname -a; cat /etc/issue\nLinux server-01 3.0.0-14-server #23-Ubuntu SMP Mon Nov 21 20:49:05 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\nUbuntu 11.10 \\n \\l\n\nMySQL server info:\nmysqladmin  Ver 8.42 Distrib 5.1.58, for debian-linux-gnu on x86_64\nCopyright 2000-2008 MySQL AB, 2008 Sun Microsystems, Inc.\nThis software comes with ABSOLUTELY NO WARRANTY. This is free software,\nand you are welcome to modify and redistribute it under the GPL license\n\nServer version\t\t5.1.58-1ubuntu1-log\nProtocol version\t10\nConnection\t\tLocalhost via UNIX socket\nUNIX socket\t\t/var/run/mysqld/mysqld.sock\nUptime:\t\t\t1 hour 42 min 52 sec\n\nThreads: 1  Questions: 3578  Slow queries: 0  Opens: 408  Flush tables: 1  Open tables: 64  Queries per second avg: 0.579\n\nAll other relevant packages are up to date.\n\nCheers,\nG", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/915598/related_tasks", 
"date_assigned": "2012-01-19T20:06:42.462709+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-config-diff ignores --ask-pass option", 
"title": "Bug #915598 in Percona Toolkit: \"pt-config-diff ignores --ask-pass option\"", 
"date_confirmed": "2012-01-16T16:11:11.617827+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/915598", 
"date_left_new": "2012-01-16T16:11:11.617827+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/915598", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"9b4ff92f6fb5fd39cd8eb40a4a6fc642858c7eeb-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~gnarvaja", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-19T20:06:32.772332+00:00", 
"date_fix_released": "2012-02-08T15:29:39.048669+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/915598", 
"date_created": "2012-01-12T20:19:12.975602+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-config-diff"
]
}, 
{
"date_closed": "2012-08-10T18:13:32.063313+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-20T23:05:16.439617+00:00", 
"bug_id": 916168, 
"date_in_progress": "2012-07-20T23:05:16.439617+00:00", 
"bug_description": "If percona.checksum table exists, privileges check fails with the following error:\n\n01-13T12:21:20 User does not have all privileges on --replicate table `percona`.`checksums`.\n\nHere's the PTDEBUG output:\n\n# pt_table_checksum:6995 6643 Checking --replicate table `percona`.`checksums`\n# pt_table_checksum:7000 6643 SHOW DATABASES LIKE 'percona'\n# pt_table_checksum:7098 6643 use_repl_db\n# pt_table_checksum:7119 6643 USE `percona`\n# TableParser:1952 6643 Checking `percona`.`checksums`\n# TableParser:1956 6643 SHOW TABLES FROM `percona` LIKE 'checksums'\n# TableParser:1970 6643 Table exists; no privs to check\n# pt_table_checksum:7033 6643 --replicate table `percona`.`checksums` already exists\n# TableParser:1952 6643 Checking `percona`.`checksums`\n# TableParser:1956 6643 SHOW TABLES FROM `percona` LIKE 'checksums'\n# TableParser:1970 6643 Table exists; no privs to check\n# TableParser:1974 6643 SHOW FULL COLUMNS FROM `percona`.`checksums`\n# TableParser:1989 6643 DELETE FROM `percona`.`checksums` LIMIT 0\n# TableParser:1995 6643 User privs on `percona`.`checksums` : select delete\n# TableParser:2000 6643 User does not have all privs\n01-13T12:21:20 User does not have all privileges on --replicate table `percona`.`checksums`.\n# Cxn:1514 6643 Disconnecting dbh DBI::db=HASH(0xffdb2c0) undef\n# Cxn:1514 6643 Disconnecting dbh DBI::db=HASH(0x1038c830) undef\n\nWhen I drop the table, everything starts up just fine. I have created the following privileges:\n\ngrant select, replication slave, replication client, super, process on *.* to 'u'@'10.0.0.0/255.255.255.0' identified by 'p';\ngrant all on percona.* to 'u'@'10.0.0.0/255.255.255.0';\ncreate database percona;\n\nAnd I run check as:\n\nperl pt-table-checksum h=10.0.0.1,u=u,p=p\n\nOn 5.5.14-55-log Percona Server (GPL), Release rel20.5, Revision 149\n\n\nAurimas", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916168/related_tasks", 
"date_assigned": "2012-07-20T23:05:17.687005+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum privilege check fails on MySQL 5.5", 
"title": "Bug #916168 in Percona Toolkit: \"pt-table-checksum privilege check fails on MySQL 5.5\"", 
"date_confirmed": "2012-01-16T16:09:47.490426+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/916168", 
"date_left_new": "2012-01-16T16:09:47.490426+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/916168", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"68bf3ca4995d037e95cfbb06e676354ce0b87be0-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~aurimas-mikalauskas", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-21T16:47:41.653900+00:00", 
"date_fix_released": "2012-08-10T18:13:32.063313+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916168", 
"date_created": "2012-01-13T18:48:57.918131+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"mysql-bug", 
"privs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-03-19T16:57:45.610053+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-17T23:48:25.275383+00:00", 
"bug_id": 916999, 
"date_in_progress": "2012-03-01T21:54:20.388228+00:00", 
"bug_description": "pt-table-checksum 2.0.2 (MySQL 5.1.53) fails on all tables that require checksumming. Errors show an incorrect numbers of bound parameters in explains. Below is a representative case on our dataset with a table containing ~300K rows.\n\nI've redacted the slave detection, table, and database filtering portion of PTDEBUG as it's got some sensitive information and doesn't appear relevant. I'm happy to clean this up and add if needed.\n\n\nshow create table user_rename;\nCREATE TABLE `user_rename` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `user_id` int(11) NOT NULL,\n  `old_username` varchar(32) DEFAULT NULL,\n  `new_username` varchar(32) DEFAULT NULL,\n  `user_created` int(11) DEFAULT NULL,\n  `date_created` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `user_id` (`user_id`),\n  KEY `user_created` (`user_created`),\n  KEY `old_username` (`old_username`),\n  CONSTRAINT `user_rename_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`),\n  CONSTRAINT `user_rename_ibfk_2` FOREIGN KEY (`user_created`) REFERENCES `user` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=653945 DEFAULT CHARSET=utf8;\n\n\n./mysql/percona-toolkit/bin/pt-table-checksum \\\n  --databases=percona_test \\\n  --no-check-replication-filters \\\n  --replicate=percona_test.checksums \\\n  --tables=user_rename \\\n  h=localhost.localdomain,u=testuser,p=testpass\n01-16T01:14:28 Error executing EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/: DBD::mysql::st execute failed: called with 2 bind variables when 6 are needed [for Statement \"EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/\" with ParamValues: 0=Null!, 1=Null!, 2=Null!, 3=Null!, 4=Null!, 5=Null!] at ./mysql/percona-toolkit/bin/pt-table-checksum line 7181.\n\n01-16T01:14:28 Aborting percona_test.user_rename because 1 cannot be nibbled safely.\n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n01-16T01:14:28      2      0        0       0       0   0.067 percona_test.user_rename\n\n\n# /usr/bin/perl 5.008008\n# Linux localhost.localdomain 2.6.18-274.17.1.el5 #1 SMP Wed Jan 4 22:45:44 EST 2012 x86_64 x86_64 x86_64 GNU/Linux\n# Arguments: _[--databases=percona_test]_ _[--no-check-replication-filters]_ _[--replicate=percona_test.checksums]_ _[--tables=user_rename]_ _[h=localhost.localdomain,u=testuser,p=testpass]_\n# OptionParser:548 23464 Option rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:557 23464 =item --ask-pass\n# OptionParser:584 23464 Short help: Prompt for a password when connecting to MySQL\n# OptionParser:557 23464 =item --check-interval\n# OptionParser:584 23464 Short help: Sleep time between checks for --max-lag\n# OptionParser:557 23464 =item --[no]check-replication-filters\n# OptionParser:584 23464 Short help: Do not checksum if any replication filters are set on any replicas\n# OptionParser:557 23464 =item --check-slave-lag\n# OptionParser:584 23464 Short help: Pause checksumming until this replica's lag is less than --max-lag\n# OptionParser:557 23464 =item --chunk-index\n# OptionParser:584 23464 Short help: Prefer this index for chunking tables\n# OptionParser:557 23464 =item --chunk-size\n# OptionParser:584 23464 Short help: Number of rows to select for each checksum query\n# OptionParser:557 23464 =item --chunk-size-limit\n# OptionParser:584 23464 Short help: Do not checksum chunks this much larger than the desired chunk size\n# OptionParser:557 23464 =item --chunk-time\n# OptionParser:584 23464 Short help: Adjust the chunk size dynamically so each checksum query takes this long to execute\n# OptionParser:557 23464 =item --columns\n# OptionParser:584 23464 Short help: Checksum only this comma-separated list of columns\n# OptionParser:557 23464 =item --config\n# OptionParser:584 23464 Short help: Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:557 23464 =item --[no]create-replicate-table\n# OptionParser:584 23464 Short help: Create the --replicate database and table if they do not exist\n# OptionParser:557 23464 =item --databases\n# OptionParser:584 23464 Short help: Only checksum this comma-separated list of databases\n# OptionParser:557 23464 =item --databases-regex\n# OptionParser:584 23464 Short help: Only checksum databases whose names match this Perl regex\n# OptionParser:557 23464 =item --defaults-file\n# OptionParser:584 23464 Short help: Only read mysql options from the given file\n# OptionParser:557 23464 =item --[no]empty-replicate-table\n# OptionParser:584 23464 Short help: Delete previous checksums for each table before checksumming the table\n# OptionParser:557 23464 =item --engines\n# OptionParser:584 23464 Short help: Only checksum tables which use these storage engines\n# OptionParser:557 23464 =item --explain\n# OptionParser:584 23464 Short help: Show, but do not execute, checksum queries (disables --[no]empty-replicate-table)\n# OptionParser:557 23464 =item --float-precision\n# OptionParser:584 23464 Short help: Precision for FLOAT and DOUBLE number-to-string conversion\n# OptionParser:557 23464 =item --function\n# OptionParser:584 23464 Short help: Hash function for checksums (FNV1A_64, MURMUR_HASH, SHA1, MD5, CRC32, etc)\n# OptionParser:557 23464 =item --help\n# OptionParser:584 23464 Short help: Show help and exit\n# OptionParser:557 23464 =item --host\n# OptionParser:584 23464 Short help: Host to connect to\n# OptionParser:557 23464 =item --ignore-columns\n# OptionParser:584 23464 Short help: Ignore this comma-separated list of columns when calculating the checksum\n# OptionParser:557 23464 =item --ignore-databases\n# OptionParser:584 23464 Short help: Ignore this comma-separated list of databases\n# OptionParser:557 23464 =item --ignore-databases-regex\n# OptionParser:584 23464 Short help: Ignore databases whose names match this Perl regex\n# OptionParser:557 23464 =item --ignore-engines\n# OptionParser:584 23464 Short help: Ignore this comma-separated list of storage engines\n# OptionParser:557 23464 =item --ignore-tables\n# OptionParser:584 23464 Short help: Ignore this comma-separated list of tables\n# OptionParser:557 23464 =item --ignore-tables-regex\n# OptionParser:584 23464 Short help: Ignore tables whose names match the Perl regex\n# OptionParser:557 23464 =item --lock-wait-timeout\n# OptionParser:584 23464 Short help: Set the session value of the innodb_lock_wait_timeout variable on the master host\n# OptionParser:557 23464 =item --max-lag\n# OptionParser:584 23464 Short help: Pause checksumming until all replicas' lag is less than this value\n# OptionParser:557 23464 =item --max-load\n# OptionParser:584 23464 Short help: Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than the threshold\n# OptionParser:557 23464 =item --password\n# OptionParser:584 23464 Short help: Password to use when connecting\n# OptionParser:557 23464 =item --pid\n# OptionParser:584 23464 Short help: Create the given PID file\n# OptionParser:557 23464 =item --port\n# OptionParser:584 23464 Short help: Port number to use for connection\n# OptionParser:557 23464 =item --progress\n# OptionParser:584 23464 Short help: Print progress reports to STDERR\n# OptionParser:557 23464 =item --quiet\n# OptionParser:584 23464 Short help: Print only the most important information (disables --progress)\n# OptionParser:557 23464 =item --recurse\n# OptionParser:584 23464 Short help: Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:557 23464 =item --recursion-method\n# OptionParser:584 23464 Short help: Preferred recursion method for discovering replicas\n# OptionParser:557 23464 =item --replicate\n# OptionParser:584 23464 Short help: Write checksum results to this table\n# OptionParser:557 23464 =item --[no]replicate-check\n# OptionParser:584 23464 Short help: Check replicas for data differences after finishing each table\n# OptionParser:557 23464 =item --replicate-check-only\n# OptionParser:576 23464 Option has no attributes\n# OptionParser:584 23464 Short help: Check replicas for consistency without executing checksum queries\n# OptionParser:557 23464 =item --replicate-database\n# OptionParser:584 23464 Short help: USE only this database\n# OptionParser:557 23464 =item --resume\n# OptionParser:576 23464 Option has no attributes\n# OptionParser:584 23464 Short help: Resume checksumming from the last completed chunk (disables --[no]empty-replicate-table)\n# OptionParser:557 23464 =item --retries\n# OptionParser:584 23464 Short help: Retry a chunk this many times when there is a nonfatal error\n# OptionParser:557 23464 =item --separator\n# OptionParser:584 23464 Short help: The separator character used for CONCAT_WS()\n# OptionParser:557 23464 =item --set-vars\n# OptionParser:584 23464 Short help: Set these MySQL variables\n# OptionParser:557 23464 =item --socket\n# OptionParser:584 23464 Short help: Socket file to use for connection\n# OptionParser:557 23464 =item --tables\n# OptionParser:584 23464 Short help: Checksum only this comma-separated list of tables\n# OptionParser:557 23464 =item --tables-regex\n# OptionParser:584 23464 Short help: Checksum only tables whose names match this Perl regex\n# OptionParser:557 23464 =item --trim\n# OptionParser:576 23464 Option has no attributes\n# OptionParser:584 23464 Short help: Add TRIM() to VARCHAR columns (helps when comparing 4.1 to >= 5.0)\n# OptionParser:557 23464 =item --user\n# OptionParser:584 23464 Short help: User for login if not current user\n# OptionParser:557 23464 =item --version\n# OptionParser:584 23464 Short help: Show version and exit\n# OptionParser:557 23464 =item --where\n# OptionParser:584 23464 Short help: Do only rows matching this WHERE clause\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => ask-pass desc => Prompt for a password when connecting to MySQL\n# OptionParser:661 23464 ask-pass type: undef\n# OptionParser:623 23464 Parsing opt spec: group => Throttle spec => check-interval=m desc => Sleep time between checks for --max-lag (default 1)\n# OptionParser:661 23464 check-interval type: m\n# OptionParser:668 23464 check-interval default: 1\n# OptionParser:623 23464 Parsing opt spec: group => Safety spec => check-replication-filters! desc => Do not checksum if any replication filters are set on any replicas (default yes)\n# OptionParser:661 23464 check-replication-filters type: undef\n# OptionParser:668 23464 check-replication-filters default: yes\n# OptionParser:623 23464 Parsing opt spec: group => Throttle spec => check-slave-lag=s desc => Pause checksumming until this replica's lag is less than --max-lag\n# OptionParser:661 23464 check-slave-lag type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => chunk-index=s desc => Prefer this index for chunking tables\n# OptionParser:661 23464 chunk-index type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => chunk-size=z desc => Number of rows to select for each checksum query (default 1000)\n# OptionParser:661 23464 chunk-size type: z\n# OptionParser:668 23464 chunk-size default: 1000\n# OptionParser:623 23464 Parsing opt spec: group => Safety spec => chunk-size-limit=f desc => Do not checksum chunks this much larger than the desired chunk size (default 2.0)\n# OptionParser:661 23464 chunk-size-limit type: f\n# OptionParser:668 23464 chunk-size-limit default: 2.0\n# OptionParser:623 23464 Parsing opt spec: group => default spec => chunk-time=f desc => Adjust the chunk size dynamically so each checksum query takes this long to execute (default 0.5)\n# OptionParser:661 23464 chunk-time type: f\n# OptionParser:668 23464 chunk-time default: 0.5\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => columns|c=a desc => Checksum only this comma-separated list of columns\n# OptionParser:661 23464 columns type: a\n# OptionParser:623 23464 Parsing opt spec: group => Config spec => config=A desc => Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:661 23464 config type: A\n# OptionParser:623 23464 Parsing opt spec: group => default spec => create-replicate-table! desc => Create the --replicate database and table if they do not exist (default yes)\n# OptionParser:661 23464 create-replicate-table type: undef\n# OptionParser:668 23464 create-replicate-table default: yes\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => databases|d=h desc => Only checksum this comma-separated list of databases\n# OptionParser:661 23464 databases type: h\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => databases-regex=s desc => Only checksum databases whose names match this Perl regex\n# OptionParser:661 23464 databases-regex type: s\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => defaults-file|F=s desc => Only read mysql options from the given file\n# OptionParser:661 23464 defaults-file type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => empty-replicate-table! desc => Delete previous checksums for each table before checksumming the table (default yes)\n# OptionParser:661 23464 empty-replicate-table type: undef\n# OptionParser:668 23464 empty-replicate-table default: yes\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => engines|e=h desc => Only checksum tables which use these storage engines\n# OptionParser:661 23464 engines type: h\n# OptionParser:623 23464 Parsing opt spec: group => Output spec => explain+ desc => Show, but do not execute, checksum queries (disables --[no]empty-replicate-table) (default 0)\n# OptionParser:661 23464 explain type: undef\n# OptionParser:668 23464 explain default: 0\n# OptionParser:677 23464 Deferring check of disables rule for HASH(0xafe1a00) disables --[no]empty-replicate-table) (default 0)\n# OptionParser:623 23464 Parsing opt spec: group => default spec => float-precision=i desc => Precision for FLOAT and DOUBLE number-to-string conversion\n# OptionParser:661 23464 float-precision type: i\n# OptionParser:623 23464 Parsing opt spec: group => default spec => function=s desc => Hash function for checksums (FNV1A_64, MURMUR_HASH, SHA1, MD5, CRC32, etc)\n# OptionParser:661 23464 function type: s\n# OptionParser:623 23464 Parsing opt spec: group => Help spec => help desc => Show help and exit\n# OptionParser:661 23464 help type: undef\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => host|h=s desc => Host to connect to (default localhost)\n# OptionParser:661 23464 host type: s\n# OptionParser:668 23464 host default: localhost\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-columns=H desc => Ignore this comma-separated list of columns when calculating the checksum\n# OptionParser:661 23464 ignore-columns type: H\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-databases=H desc => Ignore this comma-separated list of databases\n# OptionParser:661 23464 ignore-databases type: H\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-databases-regex=s desc => Ignore databases whose names match this Perl regex\n# OptionParser:661 23464 ignore-databases-regex type: s\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-engines=H desc => Ignore this comma-separated list of storage engines (default FEDERATED,MRG_MyISAM)\n# OptionParser:661 23464 ignore-engines type: H\n# OptionParser:668 23464 ignore-engines default: FEDERATED,MRG_MyISAM\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-tables=H desc => Ignore this comma-separated list of tables\n# OptionParser:661 23464 ignore-tables type: H\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => ignore-tables-regex=s desc => Ignore tables whose names match the Perl regex\n# OptionParser:661 23464 ignore-tables-regex type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => lock-wait-timeout=i desc => Set the session value of the innodb_lock_wait_timeout variable on the master host (default 1)\n# OptionParser:661 23464 lock-wait-timeout type: i\n# OptionParser:668 23464 lock-wait-timeout default: 1\n# OptionParser:623 23464 Parsing opt spec: group => Throttle spec => max-lag=m desc => Pause checksumming until all replicas' lag is less than this value (default 1s)\n# OptionParser:661 23464 max-lag type: m\n# OptionParser:668 23464 max-lag default: 1s\n# OptionParser:623 23464 Parsing opt spec: group => Throttle spec => max-load=A desc => Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than the threshold (default Threads_running=25)\n# OptionParser:661 23464 max-load type: A\n# OptionParser:668 23464 max-load default: Threads_running=25\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => password|p=s desc => Password to use when connecting\n# OptionParser:661 23464 password type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => pid=s desc => Create the given PID file\n# OptionParser:661 23464 pid type: s\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => port|P=i desc => Port number to use for connection\n# OptionParser:661 23464 port type: i\n# OptionParser:623 23464 Parsing opt spec: group => default spec => progress=a desc => Print progress reports to STDERR (default time,30)\n# OptionParser:661 23464 progress type: a\n# OptionParser:668 23464 progress default: time,30\n# OptionParser:623 23464 Parsing opt spec: group => default spec => quiet|q+ desc => Print only the most important information (disables --progress) (default 0)\n# OptionParser:661 23464 quiet type: undef\n# OptionParser:668 23464 quiet default: 0\n# OptionParser:677 23464 Deferring check of disables rule for HASH(0xaffc6c0) disables --progress) (default 0)\n# OptionParser:623 23464 Parsing opt spec: group => default spec => recurse=i desc => Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:661 23464 recurse type: i\n# OptionParser:623 23464 Parsing opt spec: group => default spec => recursion-method=s desc => Preferred recursion method for discovering replicas\n# OptionParser:661 23464 recursion-method type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => replicate=s desc => Write checksum results to this table (default percona.checksums)\n# OptionParser:661 23464 replicate type: s\n# OptionParser:668 23464 replicate default: percona.checksums\n# OptionParser:623 23464 Parsing opt spec: group => default spec => replicate-check! desc => Check replicas for data differences after finishing each table (default yes)\n# OptionParser:661 23464 replicate-check type: undef\n# OptionParser:668 23464 replicate-check default: yes\n# OptionParser:623 23464 Parsing opt spec: group => default spec => replicate-check-only desc => Check replicas for consistency without executing checksum queries\n# OptionParser:661 23464 replicate-check-only type: undef\n# OptionParser:623 23464 Parsing opt spec: group => default spec => replicate-database=s desc => USE only this database\n# OptionParser:661 23464 replicate-database type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => resume desc => Resume checksumming from the last completed chunk (disables --[no]empty-replicate-table)\n# OptionParser:661 23464 resume type: undef\n# OptionParser:677 23464 Deferring check of disables rule for HASH(0xaffc4c0) disables --[no]empty-replicate-table)\n# OptionParser:623 23464 Parsing opt spec: group => default spec => retries=i desc => Retry a chunk this many times when there is a nonfatal error (default 2)\n# OptionParser:661 23464 retries type: i\n# OptionParser:668 23464 retries default: 2\n# OptionParser:623 23464 Parsing opt spec: group => default spec => separator=s desc => The separator character used for CONCAT_WS() (default #)\n# OptionParser:661 23464 separator type: s\n# OptionParser:668 23464 separator default: #\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => set-vars=s desc => Set these MySQL variables (default wait_timeout=10000)\n# OptionParser:661 23464 set-vars type: s\n# OptionParser:668 23464 set-vars default: wait_timeout=10000\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => socket|S=s desc => Socket file to use for connection\n# OptionParser:661 23464 socket type: s\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => tables|t=h desc => Checksum only this comma-separated list of tables\n# OptionParser:661 23464 tables type: h\n# OptionParser:623 23464 Parsing opt spec: group => Filter spec => tables-regex=s desc => Checksum only tables whose names match this Perl regex\n# OptionParser:661 23464 tables-regex type: s\n# OptionParser:623 23464 Parsing opt spec: group => default spec => trim desc => Add TRIM() to VARCHAR columns (helps when comparing 4.1 to >= 5.0)\n# OptionParser:661 23464 trim type: undef\n# OptionParser:623 23464 Parsing opt spec: group => Connection spec => user|u=s desc => User for login if not current user\n# OptionParser:661 23464 user type: s\n# OptionParser:623 23464 Parsing opt spec: group => Help spec => version desc => Show version and exit\n# OptionParser:661 23464 version type: undef\n# OptionParser:623 23464 Parsing opt spec: group => default spec => where=s desc => Do only rows matching this WHERE clause\n# OptionParser:661 23464 where type: s\n# OptionParser:683 23464 Parsing rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:739 23464 Participants for This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details. :\n# OptionParser:715 23464 Strict mode disabled by rule\n# OptionParser:739 23464 Participants for disables --[no]empty-replicate-table) : empty-replicate-table\n# OptionParser:725 23464 Option resume disables empty-replicate-table\n# OptionParser:739 23464 Participants for disables --progress) (default 0) : progress\n# OptionParser:725 23464 Option quiet disables progress\n# OptionParser:739 23464 Participants for disables --[no]empty-replicate-table) (default 0) : empty-replicate-table\n# OptionParser:725 23464 Option explain disables empty-replicate-table\n# OptionParser:467 23464 Parsing DSN OPTIONS\n# OptionParser:557 23464 =item * A\n# OptionParser:584 23464 Short help: Default character set\n# OptionParser:557 23464 =item * D\n# OptionParser:584 23464 Short help: DSN table database\n# OptionParser:557 23464 =item * F\n# OptionParser:584 23464 Short help: Only read default options from the given file\n# OptionParser:557 23464 =item * h\n# OptionParser:584 23464 Short help: Connect to host\n# OptionParser:557 23464 =item * p\n# OptionParser:584 23464 Short help: Password to use when connecting\n# OptionParser:557 23464 =item * P\n# OptionParser:584 23464 Short help: Port number to use for connection\n# OptionParser:557 23464 =item * S\n# OptionParser:584 23464 Short help: Socket file to use for connection\n# OptionParser:557 23464 =item * t\n# OptionParser:584 23464 Short help: DSN table table\n# OptionParser:557 23464 =item * u\n# OptionParser:584 23464 Short help: User for login if not current user\n# DSNParser:50 23464 DSN option: copy=1, dsn=charset, desc=Default character set, key=A\n# DSNParser:50 23464 DSN option: copy=, dsn=undef, desc=DSN table database, key=D\n# DSNParser:50 23464 DSN option: copy=, dsn=mysql_read_default_file, desc=Only read default options from the given file, key=F\n# DSNParser:50 23464 DSN option: copy=1, dsn=host, desc=Connect to host, key=h\n# DSNParser:50 23464 DSN option: copy=1, dsn=password, desc=Password to use when connecting, key=p\n# DSNParser:50 23464 DSN option: copy=1, dsn=port, desc=Port number to use for connection, key=P\n# DSNParser:50 23464 DSN option: copy=, dsn=mysql_socket, desc=Socket file to use for connection, key=S\n# DSNParser:50 23464 DSN option: copy=, dsn=undef, desc=DSN table table, key=t\n# DSNParser:50 23464 DSN option: copy=1, dsn=user, desc=User for login if not current user, key=u\n# OptionParser:511 23464 pt-table-checksum 2.0.2\n# OptionParser:823 23464 Cannot open /etc/percona-toolkit/percona-toolkit.conf: No such file or directory\n#\n# OptionParser:823 23464 Cannot open /etc/percona-toolkit/pt-table-checksum.conf: No such file or directory\n#\n# OptionParser:823 23464 Cannot open /home/mysql/.percona-toolkit.conf: No such file or directory\n#\n# OptionParser:823 23464 Cannot open /home/mysql/.pt-table-checksum.conf: No such file or directory\n#\n# OptionParser:791 23464 Got option databases = percona_test\n# OptionParser:791 23464 Got option check-replication-filters = 0\n# OptionParser:791 23464 Got option replicate = percona_test.checksums\n# OptionParser:791 23464 Got option tables = user_rename\n# OptionParser:1011 23464 Nothing to validate for option ignore-tables-regex type s value undef\n# OptionParser:1001 23464 Parsing option chunk-size as a size value\n# OptionParser:1011 23464 Nothing to validate for option recursion-method type s value undef\n# OptionParser:1011 23464 Nothing to validate for option ignore-databases-regex type s value undef\n# OptionParser:1011 23464 Nothing to validate for option check-slave-lag type s value undef\n# OptionParser:1011 23464 Nothing to validate for option chunk-index type s value undef\n# OptionParser:1011 23464 Nothing to validate for option password type s value undef\n# OptionParser:1011 23464 Nothing to validate for option pid type s value undef\n# OptionParser:1011 23464 Nothing to validate for option replicate type s value percona_test.checksums\n# OptionParser:1011 23464 Nothing to validate for option float-precision type i value undef\n# OptionParser:1011 23464 Nothing to validate for option user type s value undef\n# OptionParser:1011 23464 Nothing to validate for option chunk-time type f value 0.5\n# OptionParser:1011 23464 Nothing to validate for option set-vars type s value wait_timeout=10000\n# OptionParser:1011 23464 Nothing to validate for option port type i value undef\n# OptionParser:1011 23464 Nothing to validate for option socket type s value undef\n# OptionParser:1011 23464 Nothing to validate for option lock-wait-timeout type i value 1\n# OptionParser:962 23464 Parsing option check-interval as a time value\n# OptionParser:967 23464 No suffix given; using s for check-interval (value: 1 )\n# OptionParser:976 23464 Setting option check-interval to 1\n# OptionParser:1011 23464 Nothing to validate for option recurse type i value undef\n# OptionParser:1011 23464 Nothing to validate for option columns type a value undef\n# OptionParser:962 23464 Parsing option max-lag as a time value\n# OptionParser:976 23464 Setting option max-lag to 1\n# OptionParser:1011 23464 Nothing to validate for option replicate-database type s value undef\n# OptionParser:1011 23464 Nothing to validate for option engines type h value undef\n# OptionParser:1011 23464 Nothing to validate for option retries type i value 2\n# OptionParser:1011 23464 Nothing to validate for option function type s value undef\n# OptionParser:1011 23464 Nothing to validate for option databases-regex type s value undef\n# OptionParser:1011 23464 Nothing to validate for option tables-regex type s value undef\n# OptionParser:1011 23464 Nothing to validate for option chunk-size-limit type f value 2.0\n# OptionParser:1011 23464 Nothing to validate for option where type s value undef\n# OptionParser:1011 23464 Nothing to validate for option defaults-file type s value undef\n# OptionParser:1011 23464 Nothing to validate for option host type s value localhost\n# OptionParser:1011 23464 Nothing to validate for option separator type s value #\n# DSNParser:66 23464 Setting set-vars property\n# OptionParser:1085 23464 Getting description and usage from SYNOPSIS in ./mysql/percona-toolkit/bin/pt-table-checksum\n# OptionParser:1338 23464 Parsing SYNOPSIS in ./mysql/percona-toolkit/bin/pt-table-checksum\n# OptionParser:1351 23464 Raw SYNOPSIS text: Usage: pt-table-checksum [OPTION...] [DSN]\n#\n#  pt-table-checksum performs an online replication consistency check by executing\n# checksum queries on the master, which produces different results on replicas\n# that are inconsistent with the master.  The optional DSN specifies the master\n# host.  The tool's exit status is nonzero if any differences are found, or if any\n# warnings or errors occur.\n#\n#\n# OptionParser:1089 23464 Description: pt-table-checksum performs an online replication consistency check by executing checksum queries on the master, which produces different results on replicas that are inconsistent with the master.  The optional DSN specifies the master host.  The tool's exit status is nonzero if any differences are found, or if any warnings or errors occur.\n# Usage: pt-table-checksum [OPTION...] [DSN]\n# DSNParser:137 23464 DSN string made from options: h=localhost,t=HASH(0xaffbdf0)\n# DSNParser:78 23464 Parsing h=localhost,t=HASH(0xaffbdf0)\n# DSNParser:96 23464 Finding value for S\n# DSNParser:106 23464 Copying value for S from defaults\n# DSNParser:96 23464 Finding value for F\n# DSNParser:106 23464 Copying value for F from defaults\n# DSNParser:96 23464 Finding value for A\n# DSNParser:106 23464 Copying value for A from defaults\n# DSNParser:96 23464 Finding value for P\n# DSNParser:106 23464 Copying value for P from defaults\n# DSNParser:96 23464 Finding value for p\n# DSNParser:106 23464 Copying value for p from defaults\n# DSNParser:96 23464 Finding value for u\n# DSNParser:106 23464 Copying value for u from defaults\n# DSNParser:96 23464 Finding value for h\n# DSNParser:96 23464 Finding value for D\n# DSNParser:106 23464 Copying value for D from defaults\n# DSNParser:96 23464 Finding value for t\n# DSNParser:78 23464 Parsing h=localhost.localdomain,u=testuser,p=testpass\n# DSNParser:96 23464 Finding value for S\n# DSNParser:106 23464 Copying value for S from defaults\n# DSNParser:96 23464 Finding value for F\n# DSNParser:106 23464 Copying value for F from defaults\n# DSNParser:96 23464 Finding value for A\n# DSNParser:106 23464 Copying value for A from defaults\n# DSNParser:96 23464 Finding value for P\n# DSNParser:106 23464 Copying value for P from defaults\n# DSNParser:96 23464 Finding value for p\n# DSNParser:96 23464 Finding value for u\n# DSNParser:96 23464 Finding value for h\n# DSNParser:96 23464 Finding value for D\n# DSNParser:106 23464 Copying value for D from defaults\n# DSNParser:96 23464 Finding value for t\n# DSNParser:106 23464 Copying value for t from defaults\n# DSNParser:189 23464 DBI:mysql:;host=localhost.localdomain;mysql_read_default_group=client\n# DSNParser:235 23464 DBI:mysql:;host=localhost.localdomain;mysql_read_default_group=client   testuser   testpass mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:244 23464 DBI::db=HASH(0xb161ed0) SELECT @@SQL_MODE\n# DSNParser:251 23464 DBI::db=HASH(0xb161ed0) SET @@SQL_QUOTE_SHOW_CREATE = 1/*!40101, @@SQL_MODE='NO_AUTO_VALUE_ON_ZERO'*/\n# DSNParser:270 23464 DBI::db=HASH(0xb161ed0) : SET wait_timeout=10000\n# DSNParser:296 23464 DBH info:  DBI::db=HASH(0xb161ed0) $VAR1 = {\n#   '@@hostname' => 'localhost.localdomain',\n#   'CONNECTION_ID()' => '1944371640',\n#   'DATABASE()' => undef,\n#   'VERSION()' => '5.1.53-rel11.7-log'\n# };\n#  Connection info: localhost.localdomain via TCP/IP Character set info: $VAR1 = [\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_client'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_connection'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_database'\n#   },\n#   {\n#     Value => 'binary',\n#     Variable_name => 'character_set_filesystem'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_results'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_server'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_system'\n#   },\n#   {\n#     Value => '/home/mysql/Percona-Server-5.1.53-rel11.7-151-Linux-x86_64/share/mysql/charsets/',\n#     Variable_name => 'character_sets_dir'\n#   }\n# ];\n#  $DBD::mysql::VERSION: 4.014 $DBI::VERSION: 1.616\n# Cxn:1461 23464 DBI::db=HASH(0xb161ed0) Connected dbh to undef\n# Cxn:1474 23464 DBI::db=HASH(0xb161ed0) Setting dbh\n# Cxn:1479 23464 DBI::db=HASH(0xb161ed0) SELECT @@hostname, @@server_id\n# Cxn:1481 23464 DBI::db=HASH(0xb161ed0) hostname: localhost.localdomain 1\n# pt_table_checksum:5886 23464 DBI::db=HASH(0xb161ed0) /*!50108 SET @@binlog_format := \"STATEMENT\"*/\n# pt_table_checksum:5900 23464 DBI::db=HASH(0xb161ed0) SET SESSION TRANSACTION ISOLATION LEVEL REPEATABLE READ\n# pt_table_checksum:5918 23464 DBI::db=HASH(0xb161ed0) SHOW SESSION VARIABLES LIKE \"innodb_lock_wait_timeout\"\n# pt_table_checksum:5920 23464 innodb_lock_wait_timeout 50\n# pt_table_checksum:5924 23464 DBI::db=HASH(0xb161ed0) SET SESSION innodb_lock_wait_timeout=1\n# MasterSlave:2456 23464 Slave recursion method: undef\n# MasterSlave:2504 23464 Connected to h=localhost.localdomain,p=...,t=HASH(0xaffbdf0),u=testuser\n# MasterSlave:2513 23464 SELECT @@SERVER_ID\n# MasterSlave:2515 23464 Working on server ID 1\n# MasterSlave:2559 23464 Looking for slaves on h=localhost.localdomain,p=...,t=HASH(0xaffbdf0),u=testuser using methods processlist hosts\n#\n#\n#\n# [redacted - happy to include as needed - jbyers]\n#\n#\n#\n# SchemaIterator:4774 23464 SHOW TABLE STATUS FROM `percona_test` LIKE 'user_rename'\n# SchemaIterator:4776 23464 $VAR1 = {\n#   auto_increment => '653941',\n#   avg_row_length => '65',\n#   check_time => undef,\n#   checksum => undef,\n#   collation => 'utf8_general_ci',\n#   comment => '',\n#   create_options => '',\n#   create_time => '2010-12-23 00:00:20',\n#   data_free => '4194304',\n#   data_length => '19447808',\n#   engine => 'InnoDB',\n#   index_length => '26787840',\n#   max_data_length => '0',\n#   name => 'user_rename',\n#   row_format => 'Compact',\n#   rows => '295341',\n#   update_time => undef,\n#   version => '10'\n# };\n#\n# TableParser:1778 23464 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:1783 23464 DBI::db=HASH(0xb161ed0) USE `percona_test`\n# TableParser:1787 23464 SHOW CREATE TABLE `percona_test`.`user_rename`\n# TableParser:1797 23464 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# TableParser:1802 23464 This table is a base table\n# TableParser:2011 23464 Storage engine: InnoDB\n# TableParser:1832 23464 Table cols: `id`, `user_id`, `old_username`, `new_username`, `user_created`, `date_created`\n# TableParser:2011 23464 Storage engine: InnoDB\n# TableParser:2027 23464 Parsed key: PRIMARY KEY (`id`),\n# TableParser:2053 23464 PRIMARY key cols: `id`\n# TableParser:2075 23464 This key is the clustered key\n# TableParser:2027 23464 Parsed key: KEY `user_id` (`user_id`),\n# TableParser:2053 23464 user_id key cols: `user_id`\n# TableParser:2027 23464 Parsed key: KEY `user_created` (`user_created`),\n# TableParser:2053 23464 user_created key cols: `user_created`\n# TableParser:2027 23464 Parsed key: KEY `old_username` (`old_username`),\n# TableParser:2053 23464 old_username key cols: `old_username`\n# SchemaIterator:4655 23464 Next schema object: percona_test user_rename\n# RowChecksum:3224 23464 Checksum strat: $VAR1 = {\n#   crc_type => 'int',\n#   crc_width => 16,\n#   func => 'CRC32',\n#   opt_slice => undef\n# };\n#\n# RowChecksum:3206 23464 Row checksum: CRC32(CONCAT_WS('#', `id`, `user_id`, `old_username`, `new_username`, `user_created`, `date_created`, CONCAT(ISNULL(`old_username`), ISNULL(`new_username`), ISNULL(`user_created`), ISNULL(`date_created`))))\n# RowChecksum:3245 23464 Chunk checksum: COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `id`, `user_id`, `old_username`, `new_username`, `user_created`, `date_created`, CONCAT(ISNULL(`old_username`), ISNULL(`new_username`), ISNULL(`user_created`), ISNULL(`date_created`)))) AS UNSIGNED)), 10, 16)), 0) AS crc\n# NibbleIterator:3955 23464 No WHERE clause, using table status for row estimate\n# NibbleIterator:3534 23464 One nibble: no\n# NibbleIterator:3886 23464 Auto-selecting best index\n# TableParser:1893 23464 Indexes sorted best-first: PRIMARY, user_id, old_username, user_created\n# NibbleIterator:3919 23464 Best index: PRIMARY\n# TableNibbler:2202 23464 Will ascend index PRIMARY\n# TableNibbler:2209 23464 Will ascend columns id\n# TableNibbler:2220 23464 Will ascend, in ordinal position: 0\n# NibbleIterator:3590 23464 Ascend params: $VAR1 = {\n#   boundaries => {\n#     '<' => '((`id` < ?))',\n#     '<=' => '((`id` <= ?))',\n#     '>' => '((`id` > ?))',\n#     '>=' => '((`id` >= ?))'\n#   },\n#   cols => [\n#     'id',\n#     'user_id',\n#     'old_username',\n#     'new_username',\n#     'user_created',\n#     'date_created'\n#   ],\n#   index => 'PRIMARY',\n#   scols => [\n#     'id'\n#   ],\n#   slice => [\n#     0\n#   ],\n#   where => '((`id` > ?))'\n# };\n#\n# NibbleIterator:3603 23464 First lower boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) ORDER BY `id` LIMIT 1 /*first lower boundary*/\n# NibbleIterator:3628 23464 Last upper boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) ORDER BY `id` DESC LIMIT 1 /*last upper boundary*/\n# NibbleIterator:3639 23464 Upper boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/\n# NibbleIterator:3651 23464 Nibble statement: REPLACE INTO `percona_test`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `id`, `user_id`, `old_username`, `new_username`, `user_created`, `date_created`, CONCAT(ISNULL(`old_username`), ISNULL(`new_username`), ISNULL(`user_created`), ISNULL(`date_created`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) AND ((`id` <= ?)) /*checksum chunk*/\n# NibbleIterator:3663 23464 Explain nibble statement: EXPLAIN SELECT COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `id`, `user_id`, `old_username`, `new_username`, `user_created`, `date_created`, CONCAT(ISNULL(`old_username`), ISNULL(`new_username`), ISNULL(`user_created`), ISNULL(`date_created`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) AND ((`id` <= ?)) /*explain checksum chunk*/\n# NibbleIterator:3666 23464 Initial chunk size (LIMIT): 999\n# OobNibbleIterator:4182 23464 Past lower statement: REPLACE INTO `percona_test`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*), '0' FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` < ?)) ORDER BY `id` /*past lower chunk*/\n# OobNibbleIterator:4192 23464 Past lower statement: EXPLAIN SELECT  COUNT(*), '0' FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` < ?)) ORDER BY `id` /*explain past lower chunk*/\n# OobNibbleIterator:4199 23464 Past upper statement: REPLACE INTO `percona_test`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*), '0' FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` > ?)) ORDER BY `id` /*past upper chunk*/\n# OobNibbleIterator:4209 23464 Past upper statement: EXPLAIN SELECT  COUNT(*), '0' FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` > ?)) ORDER BY `id` /*explain past upper chunk*/\n# OobNibbleIterator:4225 23464 Nibble past lower upper\n# OobNibbleIterator:4251 23464 Preparing out-of-bound statement handles\n# NibbleIterator:3962 23464 Preparing statement handles\n# NibbleIterator:3990 23464 First lower boundary: $VAR1 = [\n#   '9'\n# ];\n#\n# NibbleIterator:4006 23464 Next lower boundary: $VAR1 = [\n#   '9'\n# ];\n#\n# NibbleIterator:4014 23464 Last upper boundary: $VAR1 = [\n#   '653939'\n# ];\n#\n# pt_table_checksum:7098 23464 use_repl_db\n# pt_table_checksum:7119 23464 USE `percona_test`\n# pt_table_checksum:6341 23464 DELETE FROM `percona_test`.`checksums` WHERE db = ? AND tbl = ?\n# pt_table_checksum:7098 23464 use_repl_db\n# pt_table_checksum:7119 23464 USE `percona_test`\n# NibbleIterator:3717 23464 init callback returned 1\n# pt_table_checksum:7180 23464 EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/ params: 9 1000\n01-16T00:46:58 Error executing EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/: DBD::mysql::st execute failed: called with 2 bind variables when 6 are needed [for Statement \"EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `id` FROM `percona_test`.`user_rename` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= ?)) ORDER BY `id` LIMIT ?, 2 /*next chunk boundary*/\" with ParamValues: 0=Null!, 1=Null!, 2=Null!, 3=Null!, 4=Null!, 5=Null!] at ./mysql/percona-toolkit/bin/pt-table-checksum line 7181.\n\n# pt_table_checksum:7190 23464 EXPLAIN plan: $VAR1 = undef;\n#\n# pt_table_checksum:6380 23464 Cannot nibble next chunk, aborting table\n01-16T00:46:58 Aborting percona_test.user_rename because 1 cannot be nibbled safely.\n# NibbleIterator:4058 23464 next_boundaries callback returned 0\n# NibbleIterator:3758 23464 Done nibbling\n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n01-16T00:46:58      2      0        0       0       0   0.013 percona_test.user_rename\n# OobNibbleIterator:4300 23464 Finish nibble_sth\n# OobNibbleIterator:4300 23464 Finish ub_sth\n# OobNibbleIterator:4300 23464 Finish past_lower_sth\n# OobNibbleIterator:4300 23464 Finish explain_past_lower_sth\n# OobNibbleIterator:4300 23464 Finish explain_past_upper_sth\n# OobNibbleIterator:4300 23464 Finish explain_nibble_sth\n# OobNibbleIterator:4300 23464 Finish explain_ub_sth\n# OobNibbleIterator:4300 23464 Finish past_upper_sth\n# SchemaIterator:4730 23464 Getting next schema object from dbh DBI::db=HASH(0xb161ed0)\n# SchemaIterator:4795 23464 No more tables in database percona_test\n# SchemaIterator:4730 23464 Getting next schema object from dbh DBI::db=HASH(0xb161ed0)\n# SchemaIterator:4745 23464 Next database: undef\n# pt_table_checksum:6756 23464 Exit status 1 oktorun 1\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xb21bff0) undef\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xb2169e0) undef\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xb216150) undef\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xad70d50) undef\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xad718c0) undef\n# Cxn:1514 23464 Disconnecting dbh DBI::db=HASH(0xb161ed0) undef", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916999/related_tasks", 
"date_assigned": "2012-01-16T15:52:50.516213+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum error: DBD::mysql::st execute failed: called with 2 bind variables when 6 are needed", 
"title": "Bug #916999 in Percona Toolkit: \"pt-table-checksum error: DBD::mysql::st execute failed: called with 2 bind variables when 6 are needed\"", 
"date_confirmed": "2012-01-16T15:52:43.195623+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/916999", 
"date_left_new": "2012-01-16T15:52:43.195623+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/916999", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"5a04d5adf18254499ba4cbd0ee9496003b757961-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~jbyers", 
"date_left_closed": "2012-02-26T14:47:23.600944+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T15:59:14.281340+00:00", 
"date_fix_released": "2012-03-19T16:57:45.610053+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/916999", 
"date_created": "2012-01-16T01:16:32.290555+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"dbd-mysql", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-08-30T20:58:10.012709+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 917770, 
"date_in_progress": null, 
"bug_description": "$ pt-config-diff --version\npt-config-diff 2.0.1\n\nBelow is my.cnf file on this server:\n\n[mysqld]\n\n  server-id            = 98765\n\n  pid-file             = /var/lib/mysql/mysql.pid\n  socket               = /var/lib/mysql/mysql.sock\n  port                 = 3306\n\n  datadir              = /var/lib/mysql/\n  innodb_data_home_dir = /var/lib/mysql/\n\n  log-error            = mysqld.err\n  log-slow-queries     = slave-slow.log\n\n  # Replication\n  log_bin              = mysql-bin\n  relay-log            = relay-bin\n  expire-logs-days     = 14\n  log-slave-updates\n  skip-slave-start\n  old_passwords=1\n\n  tmpdir = /dev/shm\n\n  # InnoDB\n  innodb_log_file_size            = 32M\n  innodb_buffer_pool_size         = 256M\n\n  read-only\n\n  max_allowed_packet              = 16M\n  table_cache                     = 4096\n  default-character-set           = utf8\n  max-connections = 200\n  ft_min_word_len                 = 3\n  net_read_timeout                = 7200\n  net_write_timeout               = 7200\n\n  key_buffer_size                 = 4086M\n  query_cache_size = 0\n  query_cache_type = 0\n  thread_cache_size               = 4\n  group_concat_max_len            = 8192\n  long-query-time                 = 2000000\n  skip-name-resolve\n\n  innodb_flush_method             = O_DIRECT\n  innodb_log_buffer_size          = 4M\n  innodb_flush_log_at_trx_commit  = 2\n  innodb_file_per_table           = 1\n  innodb_open_files               = 256\n\n[mysql.server]\nuser=mysql\n#basedir=/var/lib\n\n[mysqld_safe]\nlog-error            = mysqld.err\npid-file=/var/run/mysqld/mysqld.pid", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917770/related_tasks", 
"date_assigned": "2012-08-13T14:44:53.338478+00:00", 
"bug_information_type": "Public", 
"bug_title": "Use of uninitialized value in substitution (s///) at pt-config-diff line 1996", 
"title": "Bug #917770 in Percona Toolkit: \"Use of uninitialized value in substitution (s///) at pt-config-diff line 1996\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/917770", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/917770", 
"milestone_link": null, 
"http_etag": "\"8b2d0c7b35d8841520944b21a76c9c899cbcb69d-d1f1b92321f0027823c2e4bbd0ebe241467e70a1\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917770", 
"date_created": "2012-01-17T17:32:37.074223+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-config-diff"
]
}, 
{
"date_closed": "2012-08-23T17:44:01.396908+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 918056, 
"date_in_progress": null, 
"bug_description": "If I try to use pt-table-sync on the employees database (https://launchpad.net/test-db/) to correct some mistakes I receive this error message:\n\n# pt-table-sync --print --replicate percona.checksums u=root,p=msandbox,h=127.0.0.1,P=26165\nCannot nibble table `employees`.`dept_emp` because MySQL chose no index instead of the `PRIMARY` index at /usr/bin/pt-table-sync line 4748.  while doing employees.dept_emp on SBslave1\nCannot nibble table `employees`.`salaries` because MySQL chose no index instead of the `PRIMARY` index at /usr/bin/pt-table-sync line 4748.  while doing employees.salaries on SBslave1\nCannot nibble table `employees`.`dept_emp` because MySQL chose no index instead of the `PRIMARY` index at /usr/bin/pt-table-sync line 4748.  while doing employees.dept_emp on SBslave2\nCannot nibble table `employees`.`salaries` because MySQL chose no index instead of the `PRIMARY` index at /usr/bin/pt-table-sync line 4748.  while doing employees.salaries on SBslave2\n\nslave1 [localhost] {msandbox} (employees) > show create table dept_emp\\G\n*************************** 1. row ***************************\n       Table: dept_emp\nCreate Table: CREATE TABLE `dept_emp` (\n  `emp_no` int(11) NOT NULL,\n  `dept_no` char(4) NOT NULL,\n  `from_date` date NOT NULL,\n  `to_date` date NOT NULL,\n  PRIMARY KEY (`emp_no`,`dept_no`),\n  KEY `emp_no` (`emp_no`),\n  KEY `dept_no` (`dept_no`)\n) ENGINE=MyISAM DEFAULT CHARSET=latin1\n\nslave1 [localhost] {msandbox} (employees) > show create table salaries\\G\n*************************** 1. row ***************************\n       Table: salaries\nCreate Table: CREATE TABLE `salaries` (\n  `emp_no` int(11) NOT NULL,\n  `salary` int(11) NOT NULL,\n  `from_date` date NOT NULL,\n  `to_date` date NOT NULL,\n  PRIMARY KEY (`emp_no`,`from_date`),\n  KEY `emp_no` (`emp_no`)\n) ENGINE=MyISAM DEFAULT CHARSET=latin1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918056/related_tasks", 
"date_assigned": "2012-08-13T14:47:26.682751+00:00", 
"bug_information_type": "Public", 
"bug_title": "\"Cannot nibble table\" when running pt-table-sync", 
"title": "Bug #918056 in Percona Toolkit: \"\"Cannot nibble table\" when running pt-table-sync\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/918056", 
"date_left_new": "2012-01-18T15:30:14.856029+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/918056", 
"milestone_link": null, 
"http_etag": "\"0f47245f11527da5d8ddb42748231a143276c604-4b3a3ad0d9a9e0cd286c87acc64fc9efbe901d8d\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918056", 
"date_created": "2012-01-18T08:14:44.443651+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-01-31T16:07:39.814339+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 918775, 
"date_in_progress": null, 
"bug_description": "The documentation for this tool needs to include the minimum necessary privileges to run the queries on a master with no  replicas attached, as well as the privileges that might be needed on the  replicas to inspect their status.  It would be nice if this documentation were broken out by functional area, so that if someone creates the checksum table manually, and wants to run the tool without the create table privilege, the documentation guides them and how they can do that.\n\n In addition, we need to document that the tool works with all storage engines.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918775/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum docs needed", 
"title": "Bug #918775 in Percona Toolkit: \"pt-table-checksum docs needed\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/918775", 
"date_left_new": "2012-01-31T16:07:39.814339+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/918775", 
"milestone_link": null, 
"http_etag": "\"8e7e9ea452bdf94c9ac2a245617625104487a940-9e0fc54672c8f416c80bec12b0b3ce1a8c2181e6\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918775", 
"date_created": "2012-01-19T16:19:52.413762+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-02-08T15:29:33.982881+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-02-01T19:12:11.978811+00:00", 
"bug_id": 919352, 
"date_in_progress": "2012-02-01T19:12:11.978811+00:00", 
"bug_description": "pt-table-checksum currently changes the session binlog_format to statement no matter what it currently is set to. This requires the super privilege on mysql 5.1.29+.\n\nFrom http://dev.mysql.com/doc/refman/5.1/en/replication-options-binary-log.html#sysvar_binlog_format\n\nYou must have the SUPER privilege to set the global binlog_format value. Starting with MySQL 5.1.29, you must have the SUPER privilege to set either the global or session binlog_format value. (Bug #39106)\n\npt-table-checksum should check to see the current value of binlog_format before attempting to change it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919352/related_tasks", 
"date_assigned": "2012-01-24T01:59:18.152365+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum changes binlog_format even if already set to statement", 
"title": "Bug #919352 in Percona Toolkit: \"pt-table-checksum changes binlog_format even if already set to statement\"", 
"date_confirmed": "2012-01-24T01:59:03.849638+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/919352", 
"date_left_new": "2012-01-24T01:59:03.849638+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/919352", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"5e4146bce5bfb33089f41f3f7536e4ff27fdcdf8-981c94873ae836b2f3753fe90329149694b09e6b\"", 
"owner_link": "https://api.launchpad.net/devel/~kormoc", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-02T20:37:48.718364+00:00", 
"date_fix_released": "2012-02-08T15:29:33.982881+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919352", 
"date_created": "2012-01-20T19:01:55.702122+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"privs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-02-08T15:29:28.870496+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-31T18:49:31.061734+00:00", 
"bug_id": 921700, 
"date_in_progress": "2012-01-31T18:49:31.061734+00:00", 
"bug_description": "When pt-table-checksum is run with --where and the result is that the range of rows is smaller than the current chunk size, it checks the replicas to see if the same chunk would be oversized there. The problem is, it checks replicas with 1=1 instead of the --where.  Details to reproduce this are visible in https://answers.launchpad.net/percona-toolkit/+question/185734", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/921700/related_tasks", 
"date_assigned": "2012-01-31T18:49:35.674261+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't add --where to chunk size test on replicas", 
"title": "Bug #921700 in Percona Toolkit: \"pt-table-checksum doesn't add --where to chunk size test on replicas\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/921700", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/921700", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"eab519b2aa47e7ed7d9248f894a934f6682420bc-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T19:47:34.404374+00:00", 
"date_fix_released": "2012-02-08T15:29:28.870496+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/921700", 
"date_created": "2012-01-25T17:40:12.691919+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-02-08T15:28:55.660615+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-31T16:57:15.462473+00:00", 
"bug_id": 921802, 
"date_in_progress": "2012-01-31T16:57:15.462473+00:00", 
"bug_description": "pt-table-checksum 2.0.1 has a bug when trying to specify --recursion-method=processlist\n\nProcesslist is misspelled, as well as \"Recursion\" when trying to report the error\n\nAround line 2457:    if ( !$method || $method =~ m/proocesslist|hosts/i ) {\n\nThen the error reporting an invalid method around line 2487:   die \"Invalid --recusion-method: $method.  Valid values are: \"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0. \"dsn=DSN, hosts, or processlist.\\n\";\n\nNote \"recursion\" is spelled \"recusion\"..", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/921802/related_tasks", 
"date_assigned": "2012-01-31T16:24:41.020964+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum does not recognize --recursion-method=processlist", 
"title": "Bug #921802 in Percona Toolkit: \"pt-table-checksum does not recognize --recursion-method=processlist\"", 
"date_confirmed": "2012-01-26T12:36:50.964033+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/921802", 
"date_left_new": "2012-01-26T12:36:50.964033+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/921802", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"c847fc7afe4817fb81ddbb5bd453ac0eef222c6e-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~9-mikes", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T16:57:15.462473+00:00", 
"date_fix_released": "2012-02-08T15:28:55.660615+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/921802", 
"date_created": "2012-01-25T20:15:06.563979+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"typo"
]
}, 
{
"date_closed": "2012-06-19T20:02:35.745351+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-30T18:54:59.863892+00:00", 
"bug_id": 923896, 
"date_in_progress": "2012-05-30T18:55:03.458353+00:00", 
"bug_description": "pt-kill frequently, about once or twice daily, exits operation after encountering uninitialized variables. Script should properly check all processlist fields and skip execution if any of the fields it requires are \"undef\".\n\nDebug output:\n# Processlist:2161 28382 Checking query $VAR1 = {\n#   Command => 'Sleep',\n#   Host => '<FQDN>:<PORT>',\n#   Id => '182564144',\n#   Info => undef,\n#   State => undef,\n#   Time => undef,\n#   User => '<USER>',\n#   db => undef\n# };\n#\n# MasterSlave:2937 28382 Not system user\n# MasterSlave:2954 28382 Matches all replication thread: no ; match: 0\nUse of uninitialized value in numeric lt (<) at /usr/local/bin/pt-kill line 2180.\n\nIn this case it is barfing on the \"Time\" field.\nLine 2179:      if ( $find_spec{idle_time} && ($query->{Command} || '') eq 'Sleep' ) {\nLine 2180:          if ( $query->{Time} < $find_spec{idle_time} ) {\n\n\nThanks,\nAtle", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/923896/related_tasks", 
"date_assigned": "2012-05-25T15:36:38.173103+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-kill: uninitialized value causes script to exit", 
"title": "Bug #923896 in Percona Toolkit: \"pt-kill: uninitialized value causes script to exit\"", 
"date_confirmed": "2012-01-31T17:28:14.411997+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/923896", 
"date_left_new": "2012-01-31T17:28:14.411997+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/923896", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"03f8db8b46c123848fb25bb06ce95f55e70992e9-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~atlev", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:55:03.458353+00:00", 
"date_fix_released": "2012-06-19T20:02:35.745351+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/923896", 
"date_created": "2012-01-30T18:57:13.469704+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-kill"
]
}, 
{
"date_closed": "2012-08-10T18:13:37.917506+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-11T20:52:07.789391+00:00", 
"bug_id": 924950, 
"date_in_progress": "2012-07-11T20:52:07.789391+00:00", 
"bug_description": "Jay encountered a bug when using pt-query-digest and --group-by db: the profile report crashed,\n\nsub metrics {\n\u00a0\u00a0\u00a0my ( $self, %args ) = @_;\n\u00a0\u00a0\u00a0foreach my $arg ( qw(attrib where) ) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0die \"I need a $arg argument\" unless $args{$arg};\n\u00a0\u00a0\u00a0}\n\nbecause where was \"\" (blank string).  This was probably due to queries with no default db (e.g. admin commands).  Jay was using pt-query-digest 2.0.2, but the bug probably exists in all older versions too.\n\nChanging the die line to \"unless defined\" fixed the problem in the field.\n\nBecause this bug crashes a report, it causes this infinite loop: https://bugs.launchpad.net/percona-toolkit/+bug/888114", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/924950/related_tasks", 
"date_assigned": "2012-07-10T21:35:57.447549+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --group-by db may crash profile report", 
"title": "Bug #924950 in Percona Toolkit: \"pt-query-digest --group-by db may crash profile report\"", 
"date_confirmed": "2012-02-01T16:14:24.634261+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/924950", 
"date_left_new": "2012-02-01T16:14:24.634261+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/924950", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"4f183664a67b342fb52403ea765bd2c729dca09d-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-11T21:52:29.168785+00:00", 
"date_fix_released": "2012-08-10T18:13:37.917506+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/924950", 
"date_created": "2012-02-01T16:13:57.621717+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"infinite-loop", 
"pt-query-digest", 
"risk"
]
}, 
{
"date_closed": "2012-02-08T15:29:00.143967+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 925007, 
"date_in_progress": null, 
"bug_description": "t/pt-online-schema-change/basics.t causes errors:\n\nok 12 - Exit status 0\nUse of uninitialized value $tables{\"old_table\"} in concatenation (.) or string at /home/daniel/p/2.0/bin/pt-online-schema-change line 4328.\nok 13 - Exit status 0 (rebuild_constraints method)\nok 14 - Old table dropped (rebuild_constraints method)\nok 15 - Updated child table foreign key constraint (rebuild_constraints method)\nUse of uninitialized value $tables{\"old_table\"} in concatenation (.) or string at /home/daniel/p/2.0/bin/pt-online-schema-change line 4328.\nok 16 - Exit status 0 (drop_old_table method)\nok 17 - Old table dropped (drop_old_table method)\nok 18 - Updated child table foreign key constraint (drop_old_table method)\n\nCause: code uses key \"old_tbl\" instead of \"old_table\" now.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925007/related_tasks", 
"date_assigned": "2012-02-01T17:54:33.570596+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change Use of uninitialized value $tables{\"old_table\"} in concatenation (.) or string at line 4330", 
"title": "Bug #925007 in Percona Toolkit: \"pt-online-schema-change Use of uninitialized value $tables{\"old_table\"} in concatenation (.) or string at line 4330\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/925007", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/925007", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"6d7cf82c0d9eefb8c170aa402f4277e11c600921-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-01T18:05:11.381594+00:00", 
"date_fix_released": "2012-02-08T15:29:00.143967+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925007", 
"date_created": "2012-02-01T17:54:33.292441+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-02-08T15:29:04.232930+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-02-02T16:31:25.956199+00:00", 
"bug_id": 925477, 
"date_in_progress": "2012-02-02T16:31:25.956199+00:00", 
"bug_description": "Everywhere in http://www.percona.com/doc/percona-toolkit/2.0/pt-ioprofile.html the tool is called pt-iostats.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925477/related_tasks", 
"date_assigned": "2012-02-02T16:10:11.436010+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-ioprofile docs refer to pt-iostats", 
"title": "Bug #925477 in Percona Toolkit: \"pt-ioprofile docs refer to pt-iostats\"", 
"date_confirmed": "2012-02-02T15:59:13.318734+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/925477", 
"date_left_new": "2012-02-02T15:59:13.318734+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/925477", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"8cc2e5d0058dee5b2102e4bf4a5000deb76d5443-fe8b0db9e13dbfae47a744236c904d55c114b621\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-02T16:31:25.956199+00:00", 
"date_fix_released": "2012-02-08T15:29:04.232930+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925477", 
"date_created": "2012-02-02T13:48:52.696590+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-ioprofile"
]
}, 
{
"date_closed": "2012-02-08T15:29:08.441541+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-03T16:12:05.361990+00:00", 
"bug_id": 925855, 
"date_in_progress": "2012-02-03T16:12:05.361990+00:00", 
"bug_description": "When using pt-table-checksum to verify replication between a master and slave, I found that there were certain tables that were not being checksummed with the following message:\n\nAborting <table> because <index> cannot be nibbled safely.\n\nCuriously, this table did have a UNIQUE index (in fact, the one in use here), but it was still being skipped. I output a trace and ran pt-table-checksum again to see which index was failing, and it turned out to have been the right one:\n\nAborting <table> because <index> cannot be nibbled safely.ID ne id\n\nSo it seems that when an EXPLAIN is run on a query, it grabs the index in whatever case it's in, but at some point during the initialization/execution of the nibble iterator, the index is lowercased. Then, when verifying the next nibble, the string comparison done is case-sensitive, so \"ID\" does not match \"id\" even though (a) it's the same index and (b) MySQL indexes are case-insensitive anyway. \n\nThere was another point later on that would verify the right index was used that had the same issue; I patched that as well.\n\nThe enclosed patch fixes the issue for me.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925855/related_tasks", 
"date_assigned": "2012-02-03T16:12:01.021059+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum index check is case-sensitive", 
"title": "Bug #925855 in Percona Toolkit: \"pt-table-checksum index check is case-sensitive\"", 
"date_confirmed": "2012-02-03T16:12:05.361990+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/925855", 
"date_left_new": "2012-02-03T16:12:05.361990+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/925855", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"e542e05ca09a5faa142d4fb0b54b062789411247-cbb049e5ea293b9a2b7bb37e6514b1e23130d1cd\"", 
"owner_link": "https://api.launchpad.net/devel/~zcarlson", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-06T18:05:05.040325+00:00", 
"date_fix_released": "2012-02-08T15:29:08.441541+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925855", 
"date_created": "2012-02-03T04:10:49.189613+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-03-19T16:57:58.000448+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-07T17:11:46.523754+00:00", 
"bug_id": 926598, 
"date_in_progress": "2012-03-01T21:54:14.095058+00:00", 
"bug_description": "The function that parses the result set to generate table structure used for comparing rows does not return the correct column definition for double/float data types. The definition of double/float column is returned as float|double(SCALE, PRECISION), while it should be float|double(PRECISION, SCALE).\n\nIn the following assignment:\n\n$struct->{size}->{$col}\n         = ($type =~ m/(?:float|double)/)           ? \"($s[$i],$p[$i])\"\n         : ($type =~ m/(?:decimal)/)                ? \"($p[$i],$s[$i])\"\n         : ($type =~ m/(?:char|varchar)/ && $p[$i]) ? \"($p[$i])\"\n\nThe line \n= ($type =~ m/(?:float|double)/)           ? \"($s[$i],$p[$i])\"\n\nshould be changed to \n= ($type =~ m/(?:float|double)/)           ? \"($p[$i],$s[$i])\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/926598/related_tasks", 
"date_assigned": "2012-02-07T17:11:33.805186+00:00", 
"bug_information_type": "Public", 
"bug_title": "DBD::mysql bug causes pt-upgrade to use wrong precision (M) and scale (D)", 
"title": "Bug #926598 in Percona Toolkit: \"DBD::mysql bug causes pt-upgrade to use wrong precision (M) and scale (D)\"", 
"date_confirmed": "2012-02-07T17:11:46.523754+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/926598", 
"date_left_new": "2012-02-07T17:11:46.523754+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/926598", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"c5eed5f6ba7692f3b65ebd0871c0fea9ebe56539-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~ovais-tariq", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T18:20:42.410163+00:00", 
"date_fix_released": "2012-03-19T16:57:58.000448+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/926598", 
"date_created": "2012-02-04T11:08:43.457083+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"dbd-mysql", 
"percona-21471", 
"pt-upgrade", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-02-21T17:54:46.944427+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-02-21T17:54:46.944427+00:00", 
"bug_id": 927866, 
"date_in_progress": "2012-02-21T17:54:46.944427+00:00", 
"bug_description": "On http://www.percona.com/doc/percona-toolkit/2.0/pt-diskstats.html#output we have this:\n\n=== snip ===\n\n#ts\n\nThis column\u2019s contents vary depending on the tool\u2019s aggregation\n\n=== snip ===\n\nThe second paragraph really needs to be indented so it's clear that it's a definition list.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927866/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats documentation lists aren't indented", 
"title": "Bug #927866 in Percona Toolkit: \"pt-diskstats documentation lists aren't indented\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/927866", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/927866", 
"milestone_link": null, 
"http_etag": "\"a9ff4158492fe618eff4cc2a22c165678915bfc9-402234df5576802f3164f5e61b285f0c6b0ead3b\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-21T17:54:46.944427+00:00", 
"date_fix_released": "2012-02-21T17:54:46.944427+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927866", 
"date_created": "2012-02-06T20:33:10.191362+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"online-docs"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 927955, 
"date_in_progress": null, 
"bug_description": "In this documentation page,\n\nhttp://www.percona.com/doc/percona-toolkit/2.0/pt-diskstats.html#kernel-documentation\n\nthis link is rendered badly:\n\nThis documentation supplements the official documentation|http://www.kernel.org/doc/Documentation/iostats.txt", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927955/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "bad pod2rst transformation", 
"title": "Bug #927955 in Percona Toolkit: \"bad pod2rst transformation\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/927955", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/927955", 
"milestone_link": null, 
"http_etag": "\"694096fb5b1c31db0f50940778efb1b1fa759eb4-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/927955", 
"date_created": "2012-02-06T23:19:55.614152+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs", 
"online-docs"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 928225, 
"date_in_progress": null, 
"bug_description": "pt-upgrade hasn't forgotten about Maatkit yet.  This doesn't cause any problems, but it would be nicer if all of the tables it creates, etc were pt-prefixed.  To verify,\n\n$ grep mk pt-upgrade \n   my $left_tbl  = \"`$db`.`mk_upgrade_left`\";\n   my $right_tbl = \"`$db`.`mk_upgrade_right`\";\n      left_tbl   => 'mk_upgrade_left',\n      right_tbl  => 'mk_upgrade_right',\n         tbl => 'mk_upgrade_left',\n         tbl => 'mk_upgrade_right',\nL<\"--temp-database\"> called C<mk_upgrade_clear_warnings>.\nDo C<CREATE TEMPORARY TABLE `mk_upgrade` AS query> then\nC<CHECKSUM TABLE `mk_upgrade`>.  This method is fast and simple but in\ntype: string; default: mk_upgrade", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928225/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade has Maatkit legacy values", 
"title": "Bug #928225 in Percona Toolkit: \"pt-upgrade has Maatkit legacy values\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/928225", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928225", 
"milestone_link": null, 
"http_etag": "\"edee260bc99249ce0da3805f55a2f2cbc796c817-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928225", 
"date_created": "2012-02-07T13:03:35.310203+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-upgrade"
]
}, 
{
"date_closed": "2012-03-19T16:58:01.140982+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-02T20:08:12.775599+00:00", 
"bug_id": 928226, 
"date_in_progress": "2012-03-02T20:08:12.775599+00:00", 
"bug_description": "When I ran pt-diskstats for the first time I got the following output.\n\n/pt-diskstats\n\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  {1} sda        3.5    22.7     0.1     0%    0.0     4.0  1601.2     6.1     9.5    25%    0.2     0.1  24%      0  1604.6    0.0   0.1\n  {1} sda3       3.5    22.7     0.1     0%    0.0     4.0  1601.2     6.1     9.5    25%    0.2     0.1  24%      0  1604.6    0.0   0.1\n  {1} dm-0       0.0     0.0     0.0     0%    0.0     0.0     0.0     0.0     0.0     0%    0.0     0.0   0%      0     0.0    0.0   0.0\n  {1} dm-2       2.3    16.0     0.0     0%    0.0     3.5  2144.1     4.5     9.5     0%    0.3     0.1  24%      0  2146.4    0.0   0.1\nIllegal division by zero at ./pt-diskstats line 2195, <$child_fh> line 84.\n\nI ran it a couple more times and I did not get the same error.\n\n./pt-diskstats --version\npt-diskstats 2.0.3", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928226/related_tasks", 
"date_assigned": "2012-02-21T17:48:43.198150+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats illegal division by zero", 
"title": "Bug #928226 in Percona Toolkit: \"pt-diskstats illegal division by zero\"", 
"date_confirmed": "2012-03-02T20:08:12.775599+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/928226", 
"date_left_new": "2012-03-02T20:08:12.775599+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928226", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"aa080f37ef35446ffeaacba13eb978c1caba4271-989eda047158191ed97527157400888e40f47b87\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:24:16.328799+00:00", 
"date_fix_released": "2012-03-19T16:58:01.140982+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928226", 
"date_created": "2012-02-07T13:07:24.991980+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-diskstats"
]
}, 
{
"date_closed": "2012-03-19T16:58:04.963227+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-16T18:57:30.024871+00:00", 
"bug_id": 928415, 
"date_in_progress": "2012-02-16T18:57:30.024871+00:00", 
"bug_description": "There is one example of how to use the --function variable that is not correct:\n\n--trigger processlist --variable State \\\n  --match statistics --threshold 10\n\nShould be:\n\n--function processlist --variable State \\\n  --match statistics --threshold 10", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928415/related_tasks", 
"date_assigned": "2012-02-16T18:25:51.616767+00:00", 
"bug_information_type": "Public", 
"bug_title": "Typo in pt-stalk doc: --trigger should be --function", 
"title": "Bug #928415 in Percona Toolkit: \"Typo in pt-stalk doc: --trigger should be --function\"", 
"date_confirmed": "2012-02-08T21:30:00.690694+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/928415", 
"date_left_new": "2012-02-08T21:30:00.690694+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928415", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"13b59cff146ea095e2c957edd2f154c59a1b3bd7-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-16T18:57:30.024871+00:00", 
"date_fix_released": "2012-03-19T16:58:04.963227+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928415", 
"date_created": "2012-02-07T18:34:50.039093+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 929046, 
"date_in_progress": null, 
"bug_description": "This query:\n\nselect * from t where id in (select id from t where col = 2010-20-12)\n\nOnly triggers these rules:\n\nCOL.001 LIT.002\n\nIt should also trigger SUB.001.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929046/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor only finds 2 out of 3 problems", 
"title": "Bug #929046 in Percona Toolkit: \"pt-query-advisor only finds 2 out of 3 problems\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/929046", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/929046", 
"milestone_link": null, 
"http_etag": "\"8baae87a26ab66a3625f1badaca49c5e548b1857-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929046", 
"date_created": "2012-02-08T19:14:52.390156+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 929124, 
"date_in_progress": null, 
"bug_description": "The pt-collect documentation is now gone in release 2.0.3:\n\nhttp://www.percona.com/doc/percona-toolkit/2.0/pt-collect.html\n\nThis is a 404 error.  We need one of:\n\n1. Redirect to pt-stalk.html\n2. Redirect to a page explaining which tools were removed or added\n3. Keep the old documentation and mention that the tool was removed in 2.0.3\n4. Replace the old documentation page with something mentioning that it was removed in 2.0.3\n\nI favor option 3.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929124/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-collect documentation is gone", 
"title": "Bug #929124 in Percona Toolkit: \"pt-collect documentation is gone\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/929124", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/929124", 
"milestone_link": null, 
"http_etag": "\"0ee5387f50f6ca57744c78efbb33a4ece7f29513-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929124", 
"date_created": "2012-02-08T21:28:25.275980+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs", 
"online-docs", 
"pt-collect"
]
}, 
{
"date_closed": "2012-02-09T23:22:50.946304+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 929878, 
"date_in_progress": null, 
"bug_description": "We need to document the privileges that pt-table-checksum needs.  Here is a start, which might not be correct:\n\nIt requires SELECT on all the tables and databases, and requires\nINSERT, UPDATE, and DELETE on the table mentioned in --replicate if\nyou're using that.  If you want it to auto-create the --replicate\ntable, naturally it needs that permission, but you can just create it\nyourself too.\n\nAnother report:\n\nOn the master (where mk-table-checksum is run):\n\nPROCESS\nSUPER\nSELECT on relevant tables to check\nINSERT, UPDATE, DELETE, SELECT on table specified with --replicate\n\nOn the slave:\n\nPROCESS\nREPLICATION CLIENT\nREPLICATION SLAVE\nSELECT on table specified with --replicate", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929878/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Document the privileges that pt-table-checksum needs", 
"title": "Bug #929878 in Percona Toolkit: \"Document the privileges that pt-table-checksum needs\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/929878", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/929878", 
"milestone_link": null, 
"http_etag": "\"95f1a127744ab9f9fe0e7aae7539ef421c0e3bfa-9e0fc54672c8f416c80bec12b0b3ce1a8c2181e6\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929878", 
"date_created": "2012-02-09T23:08:30.501106+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-03-19T16:58:34.405320+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-21T17:38:42.740046+00:00", 
"bug_id": 930317, 
"date_in_progress": "2012-02-21T17:38:42.740046+00:00", 
"bug_description": "the documentation of pt-archiver refers to a tool that wasn't migrate from Maatkit : pt-query-profiler.\n\n[...]\nEven better, profile pt-archiver with pt-query-profiler and make sure it is not scanning the whole table every query.\n[...]", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930317/related_tasks", 
"date_assigned": "2012-02-21T17:38:56.475891+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-archiver doc refers to nonexistent pt-query-profiler", 
"title": "Bug #930317 in Percona Toolkit: \"pt-archiver doc refers to nonexistent pt-query-profiler\"", 
"date_confirmed": "2012-02-21T17:38:42.740046+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/930317", 
"date_left_new": "2012-02-21T17:38:42.740046+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/930317", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"a8aa37473811f34c9d675ab02bfcf71d5e7d8b83-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-21T17:38:42.740046+00:00", 
"date_fix_released": "2012-03-19T16:58:34.405320+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930317", 
"date_created": "2012-02-10T18:21:33.841484+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-archiver"
]
}, 
{
"date_closed": "2012-03-19T16:58:38.548109+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-02T20:32:25.308753+00:00", 
"bug_id": 930533, 
"date_in_progress": "2012-03-02T20:32:25.308753+00:00", 
"bug_description": "[viiin@vox pt-stalk]$ pt-sift .\nFetching pt-align\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  6940  100  6940    0     0   7920      0 --:--:-- --:--:-- --:--:-- 15595\n\n  2012_02_11_12_52_01  2012_02_11_12_57_31  2012_02_11_13_03_06\n  2012_02_11_13_08_18\n\nSelect a timestamp from the list [2012_02_11_13_08_18] \n======== hive-dvmh-web-01 at 2012_02_11_13_08_18 DEFAULT (4 of 4) ========\n--diskstats--\n  #ts device rd_mb_s rd_cnc   rd_rt wr_mb_s wr_cnc   wr_rt busy in_prg\n {28} dm-1       0.0    0.0    36.8     0.1    0.4    12.2   5%      0\n dm-1  0% . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n--vmstat--\n r b swpd    free  buff   cache si so bi bo  in   cs us sy id wa\n10 0   80 2750312 51668 2353268  0  0 91 12  60  127 30 15 54  0\n 6 0   80 2748460 51672 2353572  0  0  8  0 247 1193 34 56 10  0\nwa 0%\n--innodb--\n    txns: 1xnot (0s)\n    0 queries inside InnoDB, 0 queries in queue\n    Main thread: waiting for server activity, pending reads 0, writes 0, flush 0\n    Log: lsn = 0, chkp = 0, chkp age = 0\n    Threads are waiting at:\n    Threads are waiting on:\n--processlist--\n    State\nawk: cmd. line:1: fatal: cannot open file `./2012_02_11_13_08_18-processlist1' for reading (No such file or directory)\n    Command\nawk: cmd. line:1: fatal: cannot open file `./2012_02_11_13_08_18-processlist1' for reading (No such file or directory)\n--stack traces--\nawk: cmd. line:2: fatal: cannot open file `./2012_02_11_13_08_18-stacktrace' for reading (No such file or directory)\n--oprofile--\n    No opreport file exists\n\n[viiin@vox pt-stalk]$ pt-sift --version\nError: --version doesn't look like a directory, file, or file prefix\n[viiin@vox pt-stalk]$ head -n 10 ~/bin/pt-sift\n#!/usr/bin/env bash\n\n# This program is part of Percona Toolkit: http://www.percona.com/software/\n# See \"COPYRIGHT, LICENSE, AND WARRANTY\" at the end of this file for legal\n# notices and disclaimers.\n\nusage() {\n   if [ \"${OPT_ERR}\" ]; then\n      echo \"${OPT_ERR}\" >&2\n   fi\n\n[viiin@vox pt-stalk]$ tail -n 10 ~/bin/pt-sift\nthis program; if not, write to the Free Software Foundation, Inc., 59 Temple\nPlace, Suite 330, Boston, MA  02111-1307  USA.\n\n=head1 VERSION\n\npt-sift 2.0.3\n\n=cut\n\nDOCUMENTATION\n[viiin@vox pt-stalk]$", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930533/related_tasks", 
"date_assigned": "2012-03-02T19:43:49.060546+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift looking for *-processlist1; broken compatibility with pt-stalk", 
"title": "Bug #930533 in Percona Toolkit: \"pt-sift looking for *-processlist1; broken compatibility with pt-stalk\"", 
"date_confirmed": "2012-02-21T17:24:52.435871+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/930533", 
"date_left_new": "2012-02-21T17:24:52.435871+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/930533", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"cd2a24e5dcbf8a6e283409455d3b30730f736a33-9c90afca1f7f684aad487a8b3eaa180be2f7e105\"", 
"owner_link": "https://api.launchpad.net/devel/~revin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T20:32:25.308753+00:00", 
"date_fix_released": "2012-03-19T16:58:38.548109+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930533", 
"date_created": "2012-02-11T04:13:20.160667+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift"
]
}, 
{
"date_closed": "2012-09-26T21:17:06.474711+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-16T19:17:19.311773+00:00", 
"bug_id": 930693, 
"date_in_progress": "2012-08-16T19:17:19.311773+00:00", 
"bug_description": "I was having trouble syncing some tables with text columns, some of which are just whitespace.\n\npt-table-sync recognised that rows in the two databases were different, but the UPDATE command it was generating was setting the text column to '' (the empty string) when it should have been ' ' or \"\\r\\n\" (crlf).\n\nThe problem appears to be in this section of code ...\n\n            if (    $self->{hex_blob}\n                 && $tbl_struct->{type_for}->{$col} =~ m/blob|text|binary/ ) {\n              $col = \"IF(`$col`='', '', CONCAT('0x', HEX(`$col`))) AS `$col`\";\n            }\n\n... where the IF condition is satisfied more often than I expected (note: MySQL really isn't my thing) ...\n\nmysql> SHOW VARIABLES LIKE 'version%';\n+-------------------------+------------------------------------------------------------+\n| Variable_name           | Value                                                      |\n+-------------------------+------------------------------------------------------------+\n| version                 | 5.0.77-log                                                 |\n| version_bdb             | Sleepycat Software: Berkeley DB 4.1.24: (January 29, 2009) |\n| version_comment         | Source distribution                                        |\n| version_compile_machine | i686                                                       |\n| version_compile_os      | redhat-linux-gnu                                           |\n+-------------------------+------------------------------------------------------------+\n5 rows in set (0.00 sec)\n\nmysql> DESCRIBE the_table;\n+-------------+--------------+------+-----+---------+----------------+\n| Field       | Type         | Null | Key | Default | Extra          |\n+-------------+--------------+------+-----+---------+----------------+\n| id          | int(11)      | NO   | PRI | NULL    | auto_increment |\n:                                                                    :\n| message     | text         | NO   |     | NULL    |                |\n:                                                                    :\n+-------------+--------------+------+-----+---------+----------------+\n11 rows in set (0.00 sec)\n\nmysql> SELECT id,message,LENGTH(message),HEX(message),IF(message='','empty','not-empty') FROM the_table WHERE id=24169;\n+-------+---------+-----------------+--------------+------------------------------------+\n| id    | message | LENGTH(message) | HEX(message) | IF(message='','empty','not-empty') |\n+-------+---------+-----------------+--------------+------------------------------------+\n| 24169 |         |               1 | 20           | empty                              |\n+-------+---------+-----------------+--------------+------------------------------------+\n1 row in set (0.00 sec)\n\n(note that this is a stock CentOS 5.7 box.)\n\nThis patch fixed things for me ...\n\n-               $col = \"IF(`$col`='', '', CONCAT('0x', HEX(`$col`))) AS `$col`\";\n+               $col = \"IF(LENGTH(`$col`)=0, '', CONCAT('0x', HEX(`$col`))) AS `$col`\";\n\n... but assumes that LENGTH() does something sensible for blob and binary columns (which it probably does, I just haven't tested it.)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930693/related_tasks", 
"date_assigned": "2012-08-13T04:17:58.801876+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync and text columns with just whitespace", 
"title": "Bug #930693 in Percona Toolkit: \"pt-table-sync and text columns with just whitespace\"", 
"date_confirmed": "2012-03-08T14:28:29.062480+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/930693", 
"date_left_new": "2012-03-08T14:28:29.062480+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/930693", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"c4df1a67f254d75282f591a19e6562a5eb9c886a-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~robtinsley", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:08:04.696443+00:00", 
"date_fix_released": "2012-09-26T21:17:06.474711+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930693", 
"date_created": "2012-02-11T16:53:35.398177+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-sync", 
"whitespace"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-06T16:41:31.691101+00:00", 
"bug_id": 932327, 
"date_in_progress": "2012-03-06T16:41:31.691101+00:00", 
"bug_description": "CentOS 5.6, Perl 5.8.8:\n\nnot ok 46 - Serialize [\u30cb\\,\u00e8,a][!!!!__!*`,`\\]\n#   Failed test 'Serialize [\u30cb\\,\u00e8,a][!!!!__!*`,`\\]'\n#   in lib/Quoter.t at line 197.\n#     Structures begin differing at:\n#          $got->[0] = '\u00e3\u0083\u008b\\,\u00c3\u00a8,a'\n#     $expected->[0] = '\u30cb\\,\u00e8,a'\n\nThat's the test with UTF8 data.  Maybe it's a false-positive due to how Perl 5.8 or CentOS 5.6 handles UTF8, but in any case the test is failing.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932327/related_tasks", 
"date_assigned": "2012-02-14T20:47:50.478935+00:00", 
"bug_information_type": "Public", 
"bug_title": "Quoter (de)serialize UTF8 data fails on CentOS 5.6", 
"title": "Bug #932327 in Percona Toolkit: \"Quoter (de)serialize UTF8 data fails on CentOS 5.6\"", 
"date_confirmed": "2012-02-21T17:18:24.988251+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932327", 
"date_left_new": "2012-02-21T17:18:24.988251+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932327", 
"milestone_link": null, 
"http_etag": "\"5da19d28b32653ec456a1ac60ad544795c8c2c93-8101a417cc347c39df1fef63daa964f6d7fb2e08\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932327", 
"date_created": "2012-02-14T20:47:50.233954+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"all-tools", 
"charset", 
"dbd-mysql"
]
}, 
{
"date_closed": "2012-03-19T16:58:42.107003+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-16T18:58:58.098066+00:00", 
"bug_id": 932331, 
"date_in_progress": "2012-03-01T21:54:08.808444+00:00", 
"bug_description": "pt-stalk has --[no]collect, but it can't do the reverse: collect without stalking.  If there's a problem happening NOW(), but the tool isn't running, one has to trick the tool into collecting immediately (e.g. --variable Uptime --threshold 1).  As Jay notes, \"Ya can't take away our pt-collect and not give us a replacement!\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932331/related_tasks", 
"date_assigned": "2012-02-16T18:59:03.890191+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk cannot collect without stalking", 
"title": "Bug #932331 in Percona Toolkit: \"pt-stalk cannot collect without stalking\"", 
"date_confirmed": "2012-02-14T20:57:36.378738+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932331", 
"date_left_new": "2012-02-14T20:57:36.378738+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932331", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"a990c102ee8fe744812124652872acaea1ec80db-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T16:20:54.278064+00:00", 
"date_fix_released": "2012-03-19T16:58:42.107003+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932331", 
"date_created": "2012-02-14T20:56:06.323613+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": "2012-03-19T16:58:44.112344+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-02-21T20:19:04.455167+00:00", 
"bug_id": 932442, 
"date_in_progress": "2012-02-21T20:19:04.455167+00:00", 
"bug_description": "This is my table:\n\nCREATE TABLE `bedrijven2011_20110329` (\n `BEDRIJF-ID` int(10) DEFAULT NULL,\n `AJB Vermelding-ID` int(10) NOT NULL AUTO_INCREMENT,\n `Afval  Jaarboek` varchar(20) DEFAULT NULL,\n `Vet` tinyint(1) NOT NULL,\n[trimmed for brevity]\n PRIMARY KEY (`AJB Vermelding-ID`)\n) ENGINE=MyISAM AUTO_INCREMENT=1419 DEFAULT CHARSET=latin1\n\nThis is the error:\n\nError checksumming table afval.bedrijven_import: Error executing checksum query: DBD::mysql::st execute failed: Unknown column 'afval jaarboek' in 'field list' [for Statement \"REPLACE INTO `maatkit`.`pt_checksum` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(MURMUR_HASH(CONCAT_WS('#', `bedrijf-id`, `ajb vermelding-id`, `afval jaarboek`, `vet`, `logo`, `logo_yes_no`, `ajb bedrijf`, `ajb postadres`, `ajb pc en plaats`, `ajb land`, `ajb telefoon`, `ajb telefax`, `ajb e-mail`, `ajb internet`, `certificaten`, `merken`, `informatie`, `foto`, `gem provincie`, `huishoudens`, `inzameldienst`, `diftar`, `actief`, `status`, `modifier`, `modification`, `creator`, `creation`, CONCAT(ISNULL(`bedrijf-id`), ISNULL(`afval jaarboek`), ISNULL(`logo`), ISNULL(`ajb bedrijf`), ISNULL(`ajb postadres`), ISNULL(`ajb pc en plaats`), ISNULL(`ajb land`), ISNULL(`ajb telefoon`), ISNULL(`ajb telefax`), ISNULL(`ajb e-mail`), ISNULL(`ajb internet`), ISNULL(`certificaten`), ISNULL(`merken`), ISNULL(`informatie`), ISNULL(`foto`), ISNULL(`gem provincie`), ISNULL(`huishoudens`), ISNULL(`inzameldienst`), ISNULL(`diftar`), ISNULL(`actief`), ISNULL(`modifier`), ISNULL(`modification`), ISNULL(`creator`), ISNULL(`creation`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `afval`.`bedrijven_import` /*checksum table*/\" with ParamValues: 0='afval', 1='bedrijven_import', 2=1, 3=undef, 4=undef, 5=undef] at /usr/bin/pt-table-checksum line 6865.\n\nThere are two spaces in the column definition of 'Afval  Jaarboek', but there is only one in the resulting REPLACE INTO query.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932442/related_tasks", 
"date_assigned": "2012-02-21T18:12:00.762426+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum error when column name has two spaces", 
"title": "Bug #932442 in Percona Toolkit: \"pt-table-checksum error when column name has two spaces\"", 
"date_confirmed": "2012-02-21T20:19:04.455167+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932442", 
"date_left_new": "2012-02-21T20:19:04.455167+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932442", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"1f6a5b0b40b3b26307a9431c812c28b78355fa7f-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-02-21T20:23:58.670981+00:00", 
"date_fix_released": "2012-03-19T16:58:44.112344+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932442", 
"date_created": "2012-02-14T23:58:07.055020+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"whitespace"
]
}, 
{
"date_closed": "2012-06-09T21:46:16.396873+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-21T04:49:33.089996+00:00", 
"bug_id": 933859, 
"date_in_progress": "2012-03-21T04:49:33.089996+00:00", 
"bug_description": "The output I got is:\n\n# Mounted Filesystems ########################################\nlocal: 1229: %5s: bad variable name\n  Filesystem\n\nI gies the \"bad variable name\" is not intended to be there...\nRunning version 2.03", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933859/related_tasks", 
"date_assigned": "2012-03-21T04:47:46.526748+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary error: %5s: bad variable name", 
"title": "Bug #933859 in Percona Toolkit: \"pt-summary error: %5s: bad variable name\"", 
"date_confirmed": "2012-03-08T04:08:39.018702+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933859", 
"date_left_new": "2012-03-08T04:08:39.018702+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933859", 
"milestone_link": null, 
"http_etag": "\"716e2b6176a3335e09da55cbf8fb238cb31a1ac3-f9b20f4ec43619ad3609723fd5b9ed4bcf6ea2d9\"", 
"owner_link": "https://api.launchpad.net/devel/~giunta-gaetano", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-09T21:46:16.396873+00:00", 
"date_fix_released": "2012-06-09T21:46:16.396873+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933859", 
"date_created": "2012-02-16T23:11:55.955257+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-summary", 
"syntax-error"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 934463, 
"date_in_progress": null, 
"bug_description": "It seems like there is partial code in pt-table-sync for this to work but it's not all there\n\nThere I get is:\n# pt-table-sync --print --recursion-method=dsn=D=percona,t=dsns --replicate percona.checksums h=localhost \nCan't locate object method \"_find_slaves_by_dsn=D=percona,t=dsns\" via package \"MasterSlave\" at /usr/bin/pt-table-sync line 5977.\nIssuing rollback() for database handle being DESTROY'd without explicit disconnect().\nIssuing rollback() for database handle being DESTROY'd without explicit disconnect().\n\n\npt-table-sync has a get_slaves method like pt-table-checksum but it's not called any where\n\nCan someone connect the dots and make this work ?\n\nIn the meantime what is a work around so I can you --replicate and specify a username/password for the slave hosts ?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934463/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "--recursion-method=dsn does not work in several tools", 
"title": "Bug #934463 in Percona Toolkit: \"--recursion-method=dsn does not work in several tools\"", 
"date_confirmed": "2012-02-17T23:31:29.786799+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/934463", 
"date_left_new": "2012-02-17T23:31:29.786799+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/934463", 
"milestone_link": null, 
"http_etag": "\"d365aa143cc22a844795df171cabe91853af0f7e-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~williamt-sonic", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934463", 
"date_created": "2012-02-17T20:09:42.094614+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-heartbeat", 
"pt-slave-find", 
"pt-slave-restart", 
"pt-table-sync"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 937221, 
"date_in_progress": null, 
"bug_description": "JOI.003 does not apply to this query:\n\nselect f FROM t1\n  inner join t2 using (c)\n  left outer join t2 as aliased using(c)\nwhere t2.id = f.id\n\nThat is because the WHERE is against the t2 table, not the \"aliased\" table which is left joined.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937221/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor gives false JOI.003", 
"title": "Bug #937221 in Percona Toolkit: \"pt-query-advisor gives false JOI.003\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/937221", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/937221", 
"milestone_link": null, 
"http_etag": "\"11b4ebf736e3bb13c77896acef772527a168f962-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937221", 
"date_created": "2012-02-20T20:23:21.805165+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": "2012-08-10T18:13:47.072374+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-02T18:09:24.749832+00:00", 
"bug_id": 937225, 
"date_in_progress": "2012-08-02T18:09:24.749832+00:00", 
"bug_description": "This is a documentation bug. When people enter a query with LEFT JOIN and the advice says OUTER JOIN is defeated, many of them don't understand that LEFT/RIGHT joins are a shortcut for saying LEFT/RIGHT OUTER JOIN.  The advice needs to explain this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937225/related_tasks", 
"date_assigned": "2012-08-02T18:09:24.751259+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor OUTER JOIN advice in JOI.003 is confusing", 
"title": "Bug #937225 in Percona Toolkit: \"pt-query-advisor OUTER JOIN advice in JOI.003 is confusing\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/937225", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/937225", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"f31e0c29763c0d92b716a6cb5ab626bf50c366d7-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:09:24.749832+00:00", 
"date_fix_released": "2012-08-10T18:13:47.072374+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937225", 
"date_created": "2012-02-20T20:24:57.693711+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 937234, 
"date_in_progress": null, 
"bug_description": "This query doesn't have anything nondeterministic in it, but it triggers RES.001:\n\nselect NULL, 1, foo as field2\nfrom t1\ngroup by field2", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937234/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor issues wrong RES.001", 
"title": "Bug #937234 in Percona Toolkit: \"pt-query-advisor issues wrong RES.001\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/937234", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/937234", 
"milestone_link": null, 
"http_etag": "\"37b2191f70b358366e38428a5c80976129d1693f-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937234", 
"date_created": "2012-02-20T20:31:02.840216+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T23:31:27.904174+00:00", 
"bug_id": 938068, 
"date_in_progress": null, 
"bug_description": "If you use pt-table-checksum in --replicate mode on a replication topology like A --> B --> C, then pt-table-checksum will correctly change the binlog_format on A, but B will binlog the checksum queries in row format, which can lead to either false confidence thta C is checksummed correctly, or a break in replication between B and C.\n\nPerhaps pt-table-checksum should, if changing the binlog_format, also check whether any path-length-1 slaves have path-length-2 slaves, and error if this is the case, unless the user passes an option to say they acknowledge this problem exists.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/938068/related_tasks", 
"date_assigned": "2012-08-23T17:11:44.043832+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't warn if binlog_format=row or mixed on slaves", 
"title": "Bug #938068 in Percona Toolkit: \"pt-table-checksum doesn't warn if binlog_format=row or mixed on slaves\"", 
"date_confirmed": "2012-04-17T23:31:27.904174+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/938068", 
"date_left_new": "2012-04-17T23:31:27.904174+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/938068", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"310c09a3a15652bbef685d874db35f9b39e93097-84bd898ae7bb00a4fca9b95682f53aafde9e950f\"", 
"owner_link": "https://api.launchpad.net/devel/~maxb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/938068", 
"date_created": "2012-02-21T19:13:52.088976+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"binlog-format", 
"breaks-replication", 
"mysql-bug", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 938660, 
"date_in_progress": null, 
"bug_description": "pt-table-cheumsum 2.0.3 seems to find a --chunk-size-limit of 0 not special:\n\nI get lots of\n\n02-22T03:50:09 Aborting table afval.hs_file at chunk 1 because it is not safe to chunk.  Chunking should use the PRIMARY index, but MySQL EXPLAIN reports that no index will be used.\n02-22T03:50:09 Aborting table afval.hs_itemfile at chunk 1 because it is not safe to chunk.  Chunking should use the PRIMARY index, but MySQL EXPLAIN reports that no index will be used.\n\nwhich I did not have yesterday with chunk-size-limit on 5, but most tellingly:\n\n02-22T03:50:42 Skipping table afval.mg_newsletter_section because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  1 rows on erika.ii.nl\n  1 rows on piro.ii.nl\nThe current chunk size limit is 0 rows (chunk size=2805 * chunk size limit=0).\n\nMy invocation (bash script)\n\nignore_tables=$(mysql -e 'SELECT CONCAT(`database`,\".\",`table`) FROM `ignore_tables`' --skip-column-names maatkit | tr '\\n' ',' | sed 's/,$//')\nignore_databases=$(mysql --skip-column-names -e \"show master status\"|cut -f4)\n\neval pt-table-checksum --recursion-method dsn=h=127.0.0.1,P=3306,D=maatkit,t=pt_check_slave_delay_dsns --function MURMUR_HASH --replicate maatkit.pt_checksum --ignore-tables \"$ignore_tables,security_log\" --ignore-databases \"$ignore_databases,mysql,maatkit\" --no-check-replication-filters --chunk-size-limit 0 --quiet --max-lag 600 h=127.0.0.1,P=3306\n\n\nThe chunk-size-limit of 5 was not high enough (I think I even tried 10) to guarantee that all tables would be checksummed, I think the 'too many rows on the slave' test is too sensitive. InnoDB's guesstimated row count varies just too much (I've ran an ANALYZE table on all tables the day before this).", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/938660/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum chunk-size-limit of 0 does not disable chunk size limit checking", 
"title": "Bug #938660 in Percona Toolkit: \"pt-table-checksum chunk-size-limit of 0 does not disable chunk size limit checking\"", 
"date_confirmed": "2012-02-22T16:19:44.729368+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/938660", 
"date_left_new": "2012-02-22T16:19:44.729368+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/938660", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"b625b2ef3e16a15d8fa6ced841e564512fb1288f-d5ac48ecf52af6857c4b90dd0c28e53572a44782\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/938660", 
"date_created": "2012-02-22T13:19:13.767210+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-08-16T19:21:55.964974+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 940421, 
"date_in_progress": null, 
"bug_description": "Command:\n./pt-table-sync -uroot -pXXX --print -d test --sync-to-master devmysql02\n\nVersion:\npt-table-sync 2.0.2\n\nMySQL version:\nServer version: 5.5.9-enterprise-commercial-advanced-log MySQL Enterprise Server - Advanced Edition (Commercial)\n\nOutput:\n[rowagn@devmysql01]/sso/sfw/percona/bin% ./pt-table-sync -uroot -pXXX --print -d test --sync-to-master devmysql02\nUser root@% does not have all necessary privileges on `test`.`A` at ./pt-table-sync line 8519.  while doing test.A on devmysql02\nUser root@% does not have all necessary privileges on `test`.`B` at ./pt-table-sync line 8519.  while doing test.B on devmysql02\n\nNote this is the root user, and has full privileges on all databases.\n\nI will attach debug output.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940421/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync dies with User <user> does not have all necessary privileges on <table> at ./pt-table-sync line 8519", 
"title": "Bug #940421 in Percona Toolkit: \"pt-table-sync dies with User <user> does not have all necessary privileges on <table> at ./pt-table-sync line 8519\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940421", 
"date_left_new": "2012-02-24T16:56:55.110961+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940421", 
"milestone_link": null, 
"http_etag": "\"c3b73df889132ff839c216aaf62723aa58f39713-5ecddbd2c44a6db9f4d990ce93553de37f81772a\"", 
"owner_link": "https://api.launchpad.net/devel/~rjwagner-dba", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940421", 
"date_created": "2012-02-24T16:18:46.510384+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"privs", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-03-19T16:58:46.624632+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 940503, 
"date_in_progress": null, 
"bug_description": "On 64-bit platforms, awk '{printf(\"%d\", 94409664*1024)}' yields 96,675,495,936.  On 32-bit platforms it yields 2,147,483,647; i.e. the 32bit signed limit.  Therefore, lines like\n\nlocal free_bytes=$(cat \"$file\" | awk '/^\\//{printf(\"%d\",$4 * 1024)}');\n\nin collect.sh return the wrong value because hard drives these days tend to have much more than 2^31 bytes of storage.\n\nSolution: use Perl.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940503/related_tasks", 
"date_assigned": "2012-02-24T18:12:03.671129+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk disk space checks wrong on 32bit platforms", 
"title": "Bug #940503 in Percona Toolkit: \"pt-stalk disk space checks wrong on 32bit platforms\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940503", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940503", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"1abce66ed0e594bb83410b2be537d63112edb329-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T16:11:10.312990+00:00", 
"date_fix_released": "2012-03-19T16:58:46.624632+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940503", 
"date_created": "2012-02-24T18:02:33.624959+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"32-bit", 
"pt-stalk", 
"wrong-output"
]
}, 
{
"date_closed": "2012-08-10T18:13:52.139070+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T16:55:51.709527+00:00", 
"bug_id": 940733, 
"date_in_progress": "2012-08-01T16:55:51.709527+00:00", 
"bug_description": "If pt-ioprofile exits with an error (i.e. strace isn't installed), it never cleans up its temp directory.  This might affect other tools too.\n\nWhat we should probably do is use this standard shell-scripting idiom:\n\nTMPDIR=$(mktemp....)\ntrap 'rm -rf \"${TMPDIR}\" >/dev/null 2>&1' EXIT\n\nThis can get a little bit fancier as well; I've seen some places online where subsequent creations of other temp files will add the filename to a list that the trap command is supposed to remove, etc.  We might not need this level of fanciness.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940733/related_tasks", 
"date_assigned": "2012-08-01T16:56:00.291427+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-ioprofile leaves behind temp directory", 
"title": "Bug #940733 in Percona Toolkit: \"pt-ioprofile leaves behind temp directory\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940733", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940733", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"6bc1a43394c01c4b8a9272ea28ef4ed0ab70572b-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:46:01.020761+00:00", 
"date_fix_released": "2012-08-10T18:13:52.139070+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940733", 
"date_created": "2012-02-25T01:42:19.920471+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-ioprofile"
]
}, 
{
"date_closed": "2012-06-19T20:02:31.711354+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-06-11T17:59:40.510563+00:00", 
"bug_id": 941064, 
"date_in_progress": "2012-06-11T17:59:40.510563+00:00", 
"bug_description": "It hangs forever, and I see this in SHOW ENGINE INNODB STATUS:\n\n---TRANSACTION 2900, not started\nMySQL thread id 44, OS thread handle 0xaf0f1b90, query id 1452 localhost 127.0.0.1 msandbox Waiting for table metadata lock\nDROP TABLE test.make_deadlock\n---TRANSACTION 28FF, ACTIVE 2184 sec\n3 lock struct(s), heap size 320, 2 row lock(s), undo log entries 2\nMySQL thread id 43, OS thread handle 0xaf05eb90, query id 1451 localhost msandbox\n\nMeanwhile, in processlist:\n\n*************************** 4. row ***************************\n     Id: 43\n   User: msandbox\n   Host: localhost\n     db: test\nCommand: Sleep\n   Time: 2263\n  State: \n   Info: NULL\n*************************** 5. row ***************************\n     Id: 44\n   User: msandbox\n   Host: localhost:39804\n     db: test\nCommand: Query\n   Time: 2263\n  State: Waiting for table metadata lock\n   Info: DROP TABLE test.make_deadlock", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941064/related_tasks", 
"date_assigned": "2012-06-11T21:26:33.452370+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-deadlock-logger can't clear deadlocks on 5.5", 
"title": "Bug #941064 in Percona Toolkit: \"pt-deadlock-logger can't clear deadlocks on 5.5\"", 
"date_confirmed": "2012-04-17T23:30:28.006405+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/941064", 
"date_left_new": "2012-04-17T23:30:28.006405+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/941064", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"3edeb9d4fd94edcc483761053d23c6ea77f4215a-0e1e7bed5e6b05115bee0b55520726c3e7665bf1\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T17:59:40.510563+00:00", 
"date_fix_released": "2012-06-19T20:02:31.711354+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/941064", 
"date_created": "2012-02-25T19:02:04.248327+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-deadlock-logger"
]
}, 
{
"date_closed": "2012-09-26T21:17:34.159335+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T23:26:25.877575+00:00", 
"bug_id": 942114, 
"date_in_progress": "2012-08-17T20:39:00.691782+00:00", 
"bug_description": "When running like:\n\nkolita@lilith:/tmp$ ./pt-stalk --log=/tmp/pt-stalk-21884.log --pid=/tmp/pt-stalk-21884.pid --dest=/tmp/pt-stalk-collected-21884 --function=/tmp/slow-query-detect.sh   for every iteration it shows:\n\n...\n2012_02_27_15_30_49 Check results: Threads_running=0, matched=no, cycles_true=0\nfind: warning: you have specified the -depth option after a non-option argument -type, but options are not positional (-depth affects tests specified before it as well as those specified after it).  Please specify options before other arguments.\n\n2012_02_27_15_30_50 Check results: Threads_running=0, matched=no, cycles_true=0\nfind: warning: you have specified the -depth option after a non-option argument -type, but options are not positional (-depth affects tests specified before it as well as those specified after it).  Please specify options before other arguments.\n...\n\n\nlilith:/tmp$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 10.10\nRelease:        10.10\nCodename:       maverick\n\nlilith:/tmp$ uname -a\nLinux lilith 2.6.35-22-generic #35-Ubuntu SMP Sat Oct 16 20:45:36 UTC 2010 x86_64 GNU/Linux\n\n\nlilith:/tmp$ ./pt-stalk --version\npt-stalk 2.0.3\n\nlilith:/tmp$ perl --version\nThis is perl, v5.10.1 (*) built for x86_64-linux-gnu-thread-multi\n(with 40 registered patches, see perl -V for more detail)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/942114/related_tasks", 
"date_assigned": "2012-08-13T04:05:22.468474+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk warns about bad \"find\" usage", 
"title": "Bug #942114 in Percona Toolkit: \"pt-stalk warns about bad \"find\" usage\"", 
"date_confirmed": "2012-04-17T23:26:25.877575+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/942114", 
"date_left_new": "2012-04-17T23:26:25.877575+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/942114", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"73972e8a29c14e2fef7f06253b0363f795cd1089-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~marcos-albe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-27T16:12:47.114552+00:00", 
"date_fix_released": "2012-09-26T21:17:34.159335+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/942114", 
"date_created": "2012-02-27T17:33:29.443777+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk", 
"wrong-option"
]
}, 
{
"date_closed": "2012-03-19T16:58:48.534744+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 944420, 
"date_in_progress": null, 
"bug_description": "Daemon.pm checks -t STDIN and closes it if it's a terminal, but the -t check isn't reliable.  Since there really isn't a need to keep STDIN open, particularly since the goal is to daemonize, the code can simply always close STDIN.  This has actually already been done: http://bazaar.launchpad.net/~percona-toolkit-dev/percona-toolkit/2.0/revision/189.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/944420/related_tasks", 
"date_assigned": "2012-03-01T23:00:13.158027+00:00", 
"bug_information_type": "Public", 
"bug_title": "--daemonize doesn't always close STDIN", 
"title": "Bug #944420 in Percona Toolkit: \"--daemonize doesn't always close STDIN\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/944420", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/944420", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"a8b765d763d4df6fafc07dc3562ccc9c19ef83c2-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": "2012-03-19T16:58:48.534744+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/944420", 
"date_created": "2012-03-01T23:00:12.746421+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"all-tools"
]
}, 
{
"date_closed": "2012-03-19T16:58:50.788884+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-06T16:26:41.866178+00:00", 
"bug_id": 945834, 
"date_in_progress": "2012-03-06T16:26:41.866178+00:00", 
"bug_description": "pt-sift invokes pt-diskstats with the -g parameter, while it seems this has been replaced by --group-by in pt-diskstats:\n\n--diskstats--\nUnknown option: g\nor try 'perldoc /usr/bin/pt-diskstats' for complete documentation.\n\nUnknown option: g\nUnknown option: g", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945834/related_tasks", 
"date_assigned": "2012-03-04T22:36:05.492658+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift invokes pt-diskstats with deprecated argument", 
"title": "Bug #945834 in Percona Toolkit: \"pt-sift invokes pt-diskstats with deprecated argument\"", 
"date_confirmed": "2012-03-04T22:36:00.831559+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/945834", 
"date_left_new": "2012-03-04T22:36:00.831559+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/945834", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"ea0b037f3e8eb58b37b28208e72968aaaf439f61-9c90afca1f7f684aad487a8b3eaa180be2f7e105\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:05:43.670359+00:00", 
"date_fix_released": "2012-03-19T16:58:50.788884+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945834", 
"date_created": "2012-03-03T20:22:49.055086+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"wrong-option"
]
}, 
{
"date_closed": "2012-03-19T16:59:17.246349+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-06T16:34:27.699374+00:00", 
"bug_id": 945836, 
"date_in_progress": "2012-03-06T16:34:27.699374+00:00", 
"bug_description": "This is printed if pt-stalk is set up to not collect gdb stack traces: \n\n--stack traces--\nawk: cannot open ./2012_03_03_14_58_14-stacktrace (No such file or directory)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945836/related_tasks", 
"date_assigned": "2012-03-04T22:35:47.318065+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift prints awk error if there are no stack traces to aggregate", 
"title": "Bug #945836 in Percona Toolkit: \"pt-sift prints awk error if there are no stack traces to aggregate\"", 
"date_confirmed": "2012-03-04T22:35:41.388148+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/945836", 
"date_left_new": "2012-03-04T22:35:41.388148+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/945836", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"ee9b2431d32b626c95fd6c804af6d2c54c7d4c3e-9c90afca1f7f684aad487a8b3eaa180be2f7e105\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:05:50.488569+00:00", 
"date_fix_released": "2012-03-19T16:59:17.246349+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945836", 
"date_created": "2012-03-03T20:24:21.702304+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift"
]
}, 
{
"date_closed": "2012-03-19T16:59:20.505003+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-06T16:33:16.491713+00:00", 
"bug_id": 945842, 
"date_in_progress": "2012-03-06T16:33:16.491713+00:00", 
"bug_description": "pt-stalk collects 10 processlist snapshots, but pt-sift seems not aware of this, and calculates the sum of thread states including all the repetitions. \n\nFor example, for a capture round in which no processlist snapshot has more than 19 rows returned, pt-sift reports 60 threads in 'Connect' state", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945842/related_tasks", 
"date_assigned": "2012-03-04T22:35:55.404689+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift generates wrong state sum during processlist analysis", 
"title": "Bug #945842 in Percona Toolkit: \"pt-sift generates wrong state sum during processlist analysis\"", 
"date_confirmed": "2012-03-04T22:30:03.224304+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/945842", 
"date_left_new": "2012-03-04T22:30:03.224304+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/945842", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"98b62cd842f39caf488faeb934f389e589ec810c-9c90afca1f7f684aad487a8b3eaa180be2f7e105\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:06:24.994532+00:00", 
"date_fix_released": "2012-03-19T16:59:20.505003+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945842", 
"date_created": "2012-03-03T20:30:17.369963+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift", 
"wrong-output"
]
}, 
{
"date_closed": "2012-03-19T16:59:22.629062+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-06T16:26:58.414317+00:00", 
"bug_id": 946438, 
"date_in_progress": "2012-03-06T16:26:58.414317+00:00", 
"bug_description": "Right now pt-query-digest prints a perl error if an unsupported/non existing log type is used: \n\nroot@someserver:~/percona# ./pt-query-digest --type wronglog /var/lib/pt-stalk/2012_03_04_10_50_05-tcpdump \nFailed to load wronglog module: Can't locate object method \"new\" via package \"wronglog\" (perhaps you forgot to load \"wronglog\"?) at ./pt-query-digest line 12346.\n\n\nI have seen this cause confusion for users when they mistype a log format (i.e. tpcdump) and think the tool should print a more friendly message, perhaps listing the supported types.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946438/related_tasks", 
"date_assigned": "2012-03-04T19:26:31.916558+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest should print a better message when an unsupported log format is specified", 
"title": "Bug #946438 in Percona Toolkit: \"pt-query-digest should print a better message when an unsupported log format is specified\"", 
"date_confirmed": "2012-03-04T19:26:37.733630+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/946438", 
"date_left_new": "2012-03-04T19:26:37.733630+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/946438", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"4959fb82aed1aa11cba189f12869cd8ee42a860e-9c90afca1f7f684aad487a8b3eaa180be2f7e105\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:06:33.592168+00:00", 
"date_fix_released": "2012-03-19T16:59:22.629062+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946438", 
"date_created": "2012-03-04T16:12:36.260180+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"error-message", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-19T20:02:27.145681+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-05T19:09:48.415157+00:00", 
"bug_id": 946707, 
"date_in_progress": "2012-06-05T19:09:48.415157+00:00", 
"bug_description": "I am unsure of the cause, but the new pt-diskstats seems to cause the 'read' command to fail in pt-sift.  The error message is 'resource temporarily unavailable' and the code in question is here:\n\n\n446       # Capture and handle the interactive key-strokes.\n447       KEY=\"\"\n448       read -n 1 -s KEY\n\nNote that I have committed a patch to work around this in the fix for bug 945834 so you won't see the problem unless you invoke pt-diskstats correctly and don't catch an error in 'read'.  Thus my suspicion that pt-diskstats does something with STDIN and makes it unavailable to pt-sift afterwards.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946707/related_tasks", 
"date_assigned": "2012-03-04T23:08:55.365146+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift loses STDIN after pt-diskstats", 
"title": "Bug #946707 in Percona Toolkit: \"pt-sift loses STDIN after pt-diskstats\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/946707", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/946707", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"ba9ab081418d12907a426865d8fbdc68d38e84ef-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:04:33.809435+00:00", 
"date_fix_released": "2012-06-19T20:02:27.145681+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946707", 
"date_created": "2012-03-04T23:08:54.971275+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"pt-sift"
]
}, 
{
"date_closed": "2012-03-19T16:59:24.827058+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-06T18:56:36.989981+00:00", 
"bug_id": 946776, 
"date_in_progress": "2012-03-06T18:56:36.989981+00:00", 
"bug_description": "Line 5940-5949:\n\n$sql = 'SHOW SESSION VARIABLES LIKE \"innodb_lock_wait_timeout\"';\n      PTDEBUG && _d($dbh, $sql);\n      my (undef, $lock_wait_timeout) = $dbh->selectrow_array($sql);\n      PTDEBUG && _d('innodb_lock_wait_timeout', $lock_wait_timeout);\n      if ( ($lock_wait_timeout || 0) > $o->get('lock-wait-timeout') ) {\n         $sql = 'SET SESSION innodb_lock_wait_timeout=1';\n         eval {\n            PTDEBUG && _d($dbh, $sql);\n            $dbh->do($sql);\n         };\n\n\nSo  if you set, --lock-wait-timeout to a value less than the current innodb_lock_wait_timeout, then the session variable innodb_lock_wait_timeout will be set to 1\n\nIf you want to use the existing innodb_lock_wait_timeout value, you need to set --lock-wait-timeout to value that is equal or greater than the existing innodb_lock_wait_timeout", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946776/related_tasks", 
"date_assigned": "2012-03-05T17:58:25.422443+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum ignores --lock-wait-timeout", 
"title": "Bug #946776 in Percona Toolkit: \"pt-table-checksum ignores --lock-wait-timeout\"", 
"date_confirmed": "2012-03-05T17:58:03.310156+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/946776", 
"date_left_new": "2012-03-05T17:58:03.310156+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/946776", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"22dd1e16300fa7325a7ed68bc29ad105aa0aa2f0-ae1877f3313ea34d923b987f63db9a3ccf3a9029\"", 
"owner_link": "https://api.launchpad.net/devel/~jssicam", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-06T21:06:40.494248+00:00", 
"date_fix_released": "2012-03-19T16:59:24.827058+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/946776", 
"date_created": "2012-03-05T01:27:32.332429+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 949961, 
"date_in_progress": null, 
"bug_description": "If innodb-plugin is enabled in MySQL 5.1.x, pt-variable-advisor give a note abot the variable \"innodb_max_dirty_pages_pct\" too low.\nIf innodb-plugin is enabled this variable has a different default than with internal innodb storage.\n\nhttp://dev.mysql.com/doc/refman/5.1/en/innodb-parameters.html#sysvar_innodb_max_dirty_pages_pct\n\nMaybe other parameters have different defaults too.\n\n---------------------\n$ pt-variable-advisor h=host,u=root --ask-pass                                                    \nEnter password: \n# NOTE innodb_max_dirty_pages_pct: The innodb_max_dirty_pages_pct is lower than the default.\n\nOn server I am using MySQL 5.1.61\n\n  Giovanni", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949961/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor does not consider innodb-plugin", 
"title": "Bug #949961 in Percona Toolkit: \"pt-variable-advisor does not consider innodb-plugin\"", 
"date_confirmed": "2012-03-08T17:38:48.050734+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/949961", 
"date_left_new": "2012-03-08T17:38:48.050734+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/949961", 
"milestone_link": null, 
"http_etag": "\"defba287d435c099bb894f6eb4789d6883ee867d-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~bigionews", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949961", 
"date_created": "2012-03-08T14:21:48.582288+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": "2012-08-10T18:14:03.241613+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T16:40:13.633379+00:00", 
"bug_id": 950294, 
"date_in_progress": "2012-08-01T16:40:13.633379+00:00", 
"bug_description": "When pt-table-checksum is run on a master which already has the percona schema, the following won't be run:\n\n   - CREATE DATABASE percona\n   - CREATE TABLE dsns\n   - CREATE TABLE checksums\n\nHowever if a slave doesn't have the schema, replication will break with \"Table 'percona.checksums' doesn't exist\".\n\nIf by default the schema is always created when checksumming, then we guarantee that the schema will be everywhere and replication is happy.\n\nNote that this will need to happen along with (https://bugs.launchpad.net/percona-toolkit/+bug/950290) seeing as the above queries need an IF NOT EXISTS to make sure we don't run into other problems.\n\nOn a further note, Baron mentioned that some people might not want to, or not even be able to create the schema given restricted privileges. I don't think this is an issue seeing as --nocreate-replicate-table exists. It might just need to be documented.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/950294/related_tasks", 
"date_assigned": "2012-07-19T12:55:32.740010+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum should always create schema and tables with IF NOT EXISTS", 
"title": "Bug #950294 in Percona Toolkit: \"pt-table-checksum should always create schema and tables with IF NOT EXISTS\"", 
"date_confirmed": "2012-03-08T21:34:03.705592+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/950294", 
"date_left_new": "2012-03-08T21:34:03.705592+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/950294", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"a2cc5269277846a984b8fcaedaa3cb2b4056c1df-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~alfiejohn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T16:40:13.633379+00:00", 
"date_fix_released": "2012-08-10T18:14:03.241613+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/950294", 
"date_created": "2012-03-08T21:06:46.576988+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"breaks-replication", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-09-26T21:17:35.000042+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-24T21:00:20.575668+00:00", 
"bug_id": 952722, 
"date_in_progress": "2012-08-24T21:00:20.575668+00:00", 
"bug_description": "I'd like pt-summary show information of Fusion-io cards.\n\n\nYou can get one by running command:\nfio-status -a\n\nThere is status about Fusion-io ioDrive Duo:\n\n============\nFound 2 ioDrives in this system with 1 ioDrive Duo\nFusion-io driver version: 2.3.1 build 123\n\nAdapter: ioDrive Duo\n        Fusion-io ioDrive Duo 640GB, Product Number:FS3-202-321-CS SN:40123\n        ioDrive Duo HL, PN:00190000003, Mfr:003, Date:20100621\n        External Power Override: ON\n        External Power: NOT connected\n        Powerloss protection: available\n        PCIE Bus voltage: avg 12.04V, min 12.00V, max 12.27V\n        PCIE Bus current: avg 1.49A, max 2.81A\n        PCIE Bus power: avg 15.07W, max 33.77W\n        PCIE Power limit threshold: 24.75W\n        PCIE slot available power: unavailable\n        PCIE bus errors: correctable, unsupported request\n        PCIE negotiated link: 8 lanes at 5.00 Gbits/sec each, 4000 MBytes/sec total\n        Connected ioDimm modules:\n          fct0: Fusion-io ioDrive Duo 640GB, Product Number:FS3-202-321-CS SN:06665\n          fct1: Fusion-io ioDrive Duo 640GB, Product Number:FS3-202-321-CS SN:06478\n\nfct0    Attached as 'fioa' (block device)\n        Fusion-io ioDrive Duo 640GB, Product Number:FS3-202-321-CS SN:06665\n        ioDIMM3, PN:00119401203, Mfr:003, Date:20100621\n        Located in slot 0 Upper of ioDrive Duo SN:40123\n        Powerloss protection: protected\n        PCI:0b:00.0\n        Vendor:1aed, Device:1005, Sub vendor:1aed, Sub device:1010\n        Firmware v5.0.7, rev 101971\n        322.55 GBytes block device size, 396 GBytes physical device size\n        Format: block, v300, 78,748,288 sectors, 4096 bytes per sector\n        Error correction: 11 bits per 240 bytes\n        FPGA ID:0 Format UID:000000001a090132b60d001c77abcc03\n        PCIE slot available power: 25.00W\n        PCIE negotiated link: 4 lanes at 2.50 Gbits/sec each, 1000 MBytes/sec total\n        Internal temperature: 47.7 degC, max 48.2 degC\n        Board temperature: 42 degC\n        Internal voltage: avg 1.025V, max 1.028V\n        Aux voltage: avg 2.464V, max 2.467V\n        Media status: Healthy; Reserves: 100.00%, warn at 10.00%\n        Lifetime data volumes:\n           Physical bytes written: 275,933,273,649,736\n           Physical bytes read   : 226,433,727,856,720\n        RAM usage:\n           Current: 284,895,232 bytes\n           Peak   : 284,895,232 bytes\n\nfct1    Attached as 'fiob' (block device)\n        Fusion-io ioDrive Duo 640GB, Product Number:FS3-202-321-CS SN:06478\n        ioDIMM3, PN:00119401203, Mfr:003, Date:20100621\n        Located in slot 1 Lower of ioDrive Duo SN:40123\n        Powerloss protection: protected\n        PCI:0c:00.0\n        Vendor:1aed, Device:1005, Sub vendor:1aed, Sub device:1010\n        Firmware v5.0.7, rev 101971\n        322.55 GBytes block device size, 396 GBytes physical device size\n        Format: block, v300, 78,748,288 sectors, 4096 bytes per sector\n        Error correction: 11 bits per 240 bytes\n        FPGA ID:0 Format UID:00000000194e0132b60d001c77abcc03\n        PCIE slot available power: 25.00W\n        PCIE negotiated link: 4 lanes at 2.50 Gbits/sec each, 1000 MBytes/sec total\n        Internal temperature: 42.8 degC, max 47.7 degC\n        Board temperature: 35 degC\n        Internal voltage: avg 1.008V, max 1.011V\n        Aux voltage: avg 2.461V, max 2.461V\n        Media status: Healthy; Reserves: 100.00%, warn at 10.00%\n        Lifetime data volumes:\n           Physical bytes written: 189,256,225,503,040\n           Physical bytes read   : 166,909,962,030,960\n        RAM usage:\n           Current: 52,754,432 bytes\n           Peak   : 52,754,432 bytes\n===========\n\nThere is output of single card:\n\n======\nfio-status -a\n\nFound 1 ioDrive in this system\nFusion-io driver version: 2.3.1 build 123\n\nAdapter: ioDrive\n        Fusion-io ioDrive 720GB, Product Number:FS1-003-721-CS SN:122210\n        Pseudo Low-Profile ioDIMM Adapter, PN:00119200000, Mfr:000, Date:20101222\n        External Power: NOT connected\n        Powerloss protection: available\n        PCIE Bus voltage: avg 11.90V, min 11.77V, max 11.93V\n        PCIE Bus current: avg 0.40A, max 1.60A\n        PCIE Bus power: avg 4.80W, max 18.80W\n        PCIE Power limit threshold: 24.75W\n        PCIE slot available power: unavailable\n        Sufficient power available: Unknown\n        PCIE negotiated link: 4 lanes at 2.50 Gbits/sec each, 1000 MBytes/sec total\n        Connected ioDimm module:\n          fct0: Fusion-io ioDrive 720GB, Product Number:FS1-003-721-CS SN:122210\n\nfct0    Attached as 'fioa' (block device)\n        Fusion-io ioDrive 720GB, Product Number:FS1-003-721-CS SN:122210\n        ioDrive 720GB, PN:00214102701, Mfr:004, Date:20101222\n        Located in slot 0 Upper of ioDrive SN:122210\n        Powerloss protection: protected\n        PCI:0a:00.0\n        Vendor:1aed, Device:1005, Sub vendor:1aed, Sub device:1010\n        Firmware v5.0.5, rev 43674\n        720.00 GBytes block device size, 812 GBytes physical device size\n        Format: block, v300, 1,406,251,904 sectors, 512 bytes per sector\n        Error correction: 39 bits per 960 bytes\n        FPGA ID:0 Format UID:00000001dd620132b86600330bcab400\n        PCIE slot available power: unavailable\n        Sufficient power available: Unknown\n        PCIE negotiated link: 4 lanes at 2.50 Gbits/sec each, 1000 MBytes/sec total\n        Internal temperature: 53.2 degC, max 62.5 degC\n        Board temperature: 38 degC\n        Internal voltage: avg 0.996V, max 0.999V\n        Aux voltage: avg 2.461V, max 2.464V\n        Media status: Healthy; Reserves: 100.00%, warn at 10.00%\n        Lifetime data volumes:\n           Physical bytes written: 395,271,132,925,136\n           Physical bytes read   : 407,978,357,472,336\n        RAM usage:\n           Current: 244,996,096 bytes\n           Peak   : 244,996,096 bytes\n\n============", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/952722/related_tasks", 
"date_assigned": "2012-08-23T19:08:29.529196+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary should show information about Fusion-io cards", 
"title": "Bug #952722 in Percona Toolkit: \"pt-summary should show information about Fusion-io cards\"", 
"date_confirmed": "2012-03-12T12:22:10.529359+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/952722", 
"date_left_new": "2012-03-12T12:22:10.529359+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/952722", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"a7ee00bb5284574af969303bb57c6b8eb85af512-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~vadim-tk", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-27T18:40:14.000325+00:00", 
"date_fix_released": "2012-09-26T21:17:35.000042+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/952722", 
"date_created": "2012-03-12T04:36:25.017571+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary"
]
}, 
{
"date_closed": "2012-06-19T20:02:23.077157+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-30T18:20:04.535134+00:00", 
"bug_id": 952727, 
"date_in_progress": "2012-03-30T18:20:04.535134+00:00", 
"bug_description": "iostat -dxm 5 shows:\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await  svctm  %util\nsda               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nsdb               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nscd0              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nfioa              0.00     0.00    0.00 7765.00     0.00   121.32    32.00     0.00    4.02   0.00   0.00\nfiob              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await  svctm  %util\nsda               0.00     0.20    0.00    0.60     0.00     0.00    10.67     0.00    0.00   0.00   0.00\nsdb               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nscd0              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nfioa              0.00     0.00    0.00 7540.40     0.00   117.82    32.00     0.00    4.00   0.00   0.00\nfiob              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await  svctm  %util\nsda               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nsdb               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nscd0              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nfioa              0.00     0.00    0.00 7500.20     0.00   117.18    32.00     0.00    3.98   0.00   0.00\nfiob              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await  svctm  %util\nsda               0.00     0.20    0.00    0.60     0.00     0.00    10.67     0.00    0.00   0.00   0.00\nsdb               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nscd0              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nfioa              0.00     0.00    0.00 7452.80     0.00   116.44    32.00    20.08    4.03   0.02  15.94\nfiob              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n\nDevice:         rrqm/s   wrqm/s     r/s     w/s    rMB/s    wMB/s avgrq-sz avgqu-sz   await  svctm  %util\nsda               6.20     0.00    0.80    0.20     0.03     0.00    57.60     0.03   31.80  22.00   2.20\nsdb               0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nscd0              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\nfioa              0.00     0.00    0.00 7450.40     0.00   116.41    32.00    20.22    4.02   0.02  15.92\nfiob              0.00     0.00    0.00    0.00     0.00     0.00     0.00     0.00    0.00   0.00   0.00\n\n\npt-diskstat shows\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n{160} fioa       0.1     4.0     0.0     0%    0.0    26.6 30924.6     6.0   181.5     0%  777.5    25.1  47%      0 30924.6   23.3   0.0\n{161} fioa       0.1     4.0     0.0     0%    0.0    26.6 30778.5     6.0   181.1     0%  772.9    25.1  47%      0 30778.6   23.2   0.0\n{162} fioa       0.1     4.0     0.0     0%    0.0    26.6 30634.3     6.0   180.7     0%  768.3    25.1  46%      0 30634.4   23.2   0.0\n{163} fioa       0.1     4.0     0.0     0%    0.0    26.6 30492.0     6.1   180.3     0%  763.7    25.0  46%      0 30492.1   23.1   0.0\n{164} fioa       0.1     4.0     0.0     0%    0.0    26.6 30352.7     6.1   179.9     0%  759.2    25.0  46%      0 30352.8   23.1   0.0\n\n\nwhile sysbench is:\n[ 280s] reads: 0.00 MB/s writes: 120.01 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 290s] reads: 0.00 MB/s writes: 116.24 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 300s] reads: 0.00 MB/s writes: 121.96 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 310s] reads: 0.00 MB/s writes: 118.33 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 320s] reads: 0.00 MB/s writes: 114.20 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 330s] reads: 0.00 MB/s writes: 118.77 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n[ 340s] reads: 0.00 MB/s writes: 119.28 MB/s fsyncs: 0.00/s response time: 0.045ms (95%)\n\n\nso device is doing close to 120 MB/s,\nwhile \npt-diskstats shows 180\n\nI am using async io mode in sysbench", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/952727/related_tasks", 
"date_assigned": "2012-03-12T12:26:17.024745+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats shows incorrect wr_mb_s", 
"title": "Bug #952727 in Percona Toolkit: \"pt-diskstats shows incorrect wr_mb_s\"", 
"date_confirmed": "2012-03-16T01:22:09.510305+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/952727", 
"date_left_new": "2012-03-16T01:22:09.510305+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/952727", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"a0fbc074ad66b4012e0ea8808c87aa78576e7683-0e1e7bed5e6b05115bee0b55520726c3e7665bf1\"", 
"owner_link": "https://api.launchpad.net/devel/~vadim-tk", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-09T13:54:16.110784+00:00", 
"date_fix_released": "2012-06-19T20:02:23.077157+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/952727", 
"date_created": "2012-03-12T04:53:58.840413+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"wrong-output"
]
}, 
{
"date_closed": "2012-08-10T18:14:18.633370+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-19T17:17:15.819674+00:00", 
"bug_id": 953141, 
"date_in_progress": "2012-08-01T20:49:44.823245+00:00", 
"bug_description": "Here is the invocation: \n\n./pt-table-checksum --ask-pass --lock-wait-time=120 u=<user>\n\nThe servers are 5.0 (5.0.84sp1-enterprise-gpl-log)\n\nThe master's slaves are discovered properly, but when it tries to discover the slaves of the first found slave, it attempts to run SHOW SLAVE HOSTS (some output edited to remove user names and IP addresses): \n\n# MasterSlave:2559 8866 Looking for slaves on h=localhost,p=...,u=<user> using methods processlist hosts\n# MasterSlave:2566 8866 Finding slaves with _find_slaves_by_processlist\n# VersionParser:1677 8866 5.0.84sp1-enterprise-gpl-log parses to 005000084\n# VersionParser:1677 8866 4.1.2 parses to 004001002\n# VersionParser:1688 8866 005000084 ge 4.1.2 : 1\n# MasterSlave:2633 8866 DBI::db=HASH(0x12d98a50) SHOW GRANTS FOR CURRENT_USER()\n# MasterSlave:2663 8866 DBI::db=HASH(0x12d98a50) SHOW PROCESSLIST\n# DSNParser:78 8866 Parsing h=<Slave84>\n# DSNParser:96 8866 Finding value for S\n# DSNParser:106 8866 Copying value for S from defaults\n# DSNParser:96 8866 Finding value for F\n# DSNParser:106 8866 Copying value for F from defaults\n# DSNParser:96 8866 Finding value for A\n# DSNParser:106 8866 Copying value for A from defaults\n# DSNParser:96 8866 Finding value for P\n# DSNParser:106 8866 Copying value for P from defaults\n# DSNParser:96 8866 Finding value for p\n# DSNParser:102 8866 Copying value for p from previous DSN\n# DSNParser:96 8866 Finding value for u\n# DSNParser:102 8866 Copying value for u from previous DSN\n# DSNParser:96 8866 Finding value for h\n# DSNParser:96 8866 Finding value for D\n# DSNParser:106 8866 Copying value for D from defaults\n# DSNParser:96 8866 Finding value for t\n...\n(more output supressed)\n...\n# MasterSlave:2571 8866 Found 6 slaves\n# MasterSlave:2537 8866 Recursing from h=localhost,p=...,u=<user> to h=<Slave84>,p=...,u=<user>\n...\n(more output supressed)\n...\n# MasterSlave:2559 8866 Looking for slaves on h=<Slave84>,p=...,u=<user> using methods processlist hosts\n# MasterSlave:2566 8866 Finding slaves with _find_slaves_by_processlist\n# VersionParser:1677 8866 5.0.84sp1-enterprise-gpl-log parses to 005000084\n# VersionParser:1677 8866 4.1.2 parses to 004001002\n# VersionParser:1688 8866 005000084 ge 4.1.2 : 1\n# MasterSlave:2633 8866 DBI::db=HASH(0x129db960) SHOW GRANTS FOR CURRENT_USER()\n# MasterSlave:2663 8866 DBI::db=HASH(0x129db960) SHOW PROCESSLIST\n# MasterSlave:2566 8866 Finding slaves with _find_slaves_by_hosts\n# MasterSlave:2600 8866 DBI::db=HASH(0x129db960) SHOW SLAVE HOSTS\nDBD::mysql::db selectall_arrayref failed: Access denied; you need the REPLICATION SLAVE privilege for this operation [for Statement \"SHOW SLAVE HOSTS\"] at ./pt-table-checksum line 2601, <STDIN> line 1.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953141/related_tasks", 
"date_assigned": "2012-03-19T17:32:02.864471+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum ignores its default and explicit --recursion-method", 
"title": "Bug #953141 in Percona Toolkit: \"pt-table-checksum ignores its default and explicit --recursion-method\"", 
"date_confirmed": "2012-03-19T17:17:15.819674+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/953141", 
"date_left_new": "2012-03-19T17:17:15.819674+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/953141", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"48bb1f7360601de0a1c3cee7df184dce500d54d3-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:02:26.908778+00:00", 
"date_fix_released": "2012-08-10T18:14:18.633370+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953141", 
"date_created": "2012-03-12T15:54:41.293844+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"all-tools", 
"percona-22055", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-09-26T21:17:38.209879+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-13T20:21:07.213843+00:00", 
"bug_id": 954588, 
"date_in_progress": "2012-08-13T20:21:07.213843+00:00", 
"bug_description": "The documentation implies that if --check-slave-lag is used, pt-table-checksum will only check the lag for the specified slave. \nHowever, the tool still tries to recurse down the replication hierarchy. \n\nIs this expected behavior? \nI understand --check-slave-lag as meaning \"I only care about lag on this one slave, please just monitor that one\", is that wrong?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/954588/related_tasks", 
"date_assigned": "2012-08-11T16:47:35.082930+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --check-slave-lag docs aren't clear", 
"title": "Bug #954588 in Percona Toolkit: \"pt-table-checksum --check-slave-lag docs aren't clear\"", 
"date_confirmed": "2012-03-14T11:22:13.524662+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/954588", 
"date_left_new": "2012-03-14T11:22:13.524662+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/954588", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"2926084fa1161235d0719deebc7a872e39df096d-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-14T14:50:44.451094+00:00", 
"date_fix_released": "2012-09-26T21:17:38.209879+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/954588", 
"date_created": "2012-03-13T23:50:21.335029+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-06-21T19:38:23.372629+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-06-21T19:38:23.372629+00:00", 
"bug_id": 957160, 
"date_in_progress": "2012-06-21T19:38:23.372629+00:00", 
"bug_description": "The documentation we have is pretty much zip, nil, nothing. The content from http://aspersa.googlecode.com/svn/html/mysql-summary.html would be good to add to this too.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957160/related_tasks", 
"date_assigned": "2012-03-16T17:07:51.082541+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary isn't really documented", 
"title": "Bug #957160 in Percona Toolkit: \"pt-mysql-summary isn't really documented\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/957160", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/957160", 
"milestone_link": null, 
"http_etag": "\"318e4152e2ebe4622de93c6cdd85b9f46b06e205-be8a291b60799d900efc72013f2a6d65306e43bb\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-21T19:38:23.372629+00:00", 
"date_fix_released": "2012-06-21T19:38:23.372629+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957160", 
"date_created": "2012-03-16T17:07:49.751293+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-mysql-summary"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 957442, 
"date_in_progress": null, 
"bug_description": "See the attached file.  I've just written a filter to extract the \"page number\" from an embedded comment, and custom group-by it. Here is the filter, which I've placed into 'pages.pl' :\n\nuse strict;\nuse warnings FATAL => 'all';\nuse Data::Dumper;\nmy $page = 0;\nif ( $event->{arg} ) {\n   ($page) = $event->{arg} =~ m#/\\*page_(\\d+)\\*/#g;\n}  \n$event->{page} = ($page || 0);\n1\n\nIf I run this command:\n\n $ pt-query-digest --filter pages.pl --group-by=page sample.log \n\nThe result is an infinite loop: pt-query-digest just prints out the following forever:\n\n# 1.6s user time, 520ms system time, 17.32M rss, 2.34G vsz\n# Current date: Fri Mar 16 17:25:56 2012\n# Hostname: Barons-iMac.local\n# Files: sample.log\n# Overall: 7 total, 4 unique, 0 QPS, 0x concurrency ______________________\n# Time range: all events occurred at 2012-03-15 18:01:58\n# Attribute          total     min     max     avg     95%  stddev  median\n# ============     ======= ======= ======= ======= ======= ======= =======\n# Exec time           10ms       0     3ms     1ms     3ms     1ms     1ms\n# Lock time              0       0       0       0       0       0       0\n# Rows sent              0       0       0       0       0       0       0\n# Rows examine           0       0       0       0       0       0       0\n# Query size           667      27     243   95.29  234.30   79.20   28.75\nPipeline process 4 (iteration) caused an error: I need a where argument at /Users/baron/Documents/repos/toolkit/2.0/bin/pt-query-digest line 5298.\n\nNow, if I change the $event->{page} to be a string instead of an integer, like this:\n\nuse strict;\nuse warnings FATAL => 'all';\nuse Data::Dumper;\nmy $page = '';\nif ( $event->{arg} ) {\n   ($page) = $event->{arg} =~ m#/\\*(page_\\d+)\\*/#g;\n}  \n$event->{page} = ($page || 'no page defined');\n1\n\nthe tool produces a report that's grouped by 'page' as I expect.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957442/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest with custom --group-by throws error", 
"title": "Bug #957442 in Percona Toolkit: \"pt-query-digest with custom --group-by throws error\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/957442", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/957442", 
"milestone_link": null, 
"http_etag": "\"6b3a27e45d54c5a1b5608272187df3b41c6a87be-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957442", 
"date_created": "2012-03-16T21:30:09.804514+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest"
]
}, 
{
"date_closed": "2012-04-16T16:34:59.874006+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-30T15:03:23.310262+00:00", 
"bug_id": 963225, 
"date_in_progress": "2012-03-30T15:03:23.310262+00:00", 
"bug_description": "Using current pt-query-digest with the history table defined as specified here:\nhttp://www.percona.com/doc/percona-toolkit/2.0/pt-query-digest.html#cmdoption-pt-query-digest--review-history\n\nDisk_tmp_table_cnt\nDisk_tmp_table_sum\nDisk_filesort_cnt\nDisk_filesort_sum\n\nAnd if I check the slow query logs, I see many lines similar to this:\n\n# Query_time: 18.449333  Lock_time: 0.000067  Rows_sent: 218406  Rows_examined: 16450308  Rows_affected: 0  Rows_read: 213971\n# Bytes_sent: 8136552  Tmp_tables: 1  Tmp_disk_tables: 1  Tmp_table_sizes: 76878912\n# InnoDB_trx_id: 29DC5005A\n# QC_Hit: No  Full_scan: Yes  Full_join: No  Tmp_table: Yes  Tmp_table_on_disk: Yes\n# Filesort: Yes  Filesort_on_disk: Yes  Merge_passes: 10\nSET timestamp=1332279707;\n\nAs you can see, this query is using the ondisk tmp tables and on disk filesorts, and yet the columns are null for the checksum\n\nmysql> SELECT COUNT(0), Disk_tmp_table_cnt FROM query_review_history WHERE checksum = '16760467266904871542' GROUP BY Disk_tmp_table_cnt\\G\n*************************** 1. row ***************************\n          COUNT(0): 34\nDisk_tmp_table_cnt: NULL\n1 row in set (0.00 sec)\n\nmysql> SELECT COUNT(0), Tmp_table_cnt FROM query_review_history WHERE checksum = '16760467266904871542' GROUP BY Tmp_table_cnt\\G\n*************************** 1. row ***************************\n     COUNT(0): 15\nTmp_table_cnt: NULL\n*************************** 2. row ***************************\n     COUNT(0): 2\nTmp_table_cnt: 1\nand so on\n\nThis is very important information that is getting lost in the process", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/963225/related_tasks", 
"date_assigned": "2012-03-30T15:03:21.029702+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest fails to set history columns for disk tmp tables and disk filesort", 
"title": "Bug #963225 in Percona Toolkit: \"pt-query-digest fails to set history columns for disk tmp tables and disk filesort\"", 
"date_confirmed": "2012-03-24T19:34:34.015258+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/963225", 
"date_left_new": "2012-03-24T19:34:34.015258+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/963225", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"2870aea1da089dbea4f2fe5fe57756a21208c759-9a113f41c233a44266b20de8f499b35453fe4555\"", 
"owner_link": "https://api.launchpad.net/devel/~kormoc", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T16:01:58.679603+00:00", 
"date_fix_released": "2012-04-16T16:34:59.874006+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/963225", 
"date_created": "2012-03-23T15:49:31.030895+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 965553, 
"date_in_progress": null, 
"bug_description": "Query:\nINSERT INTO tbl VALUES ( 123 , false, true, 456);\nDistills to\nINSERT INTO tbl VALUES ( ? , false, true, ?);\n\nI believe the true/false literals should distill into ?s\n\nThis is with pt-query-digest 2.0.4", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/965553/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest fails to distill true/false literals correctly", 
"title": "Bug #965553 in Percona Toolkit: \"pt-query-digest fails to distill true/false literals correctly\"", 
"date_confirmed": "2012-03-26T20:52:47.567834+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/965553", 
"date_left_new": "2012-03-26T20:52:47.567834+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/965553", 
"milestone_link": null, 
"http_etag": "\"ca8cef9edbd72904e9877a77600b80e44aebb910-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~kormoc", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/965553", 
"date_created": "2012-03-26T18:09:16.886063+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest"
]
}, 
{
"date_closed": "2012-04-16T16:34:47.679696+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-30T16:33:12.513020+00:00", 
"bug_id": 967451, 
"date_in_progress": "2012-03-30T16:33:12.513020+00:00", 
"bug_description": "\nreceived this error from pt-table-sync:\n\n\n You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'key)) FROM `<database>`.`<column>` ORDER BY `key`' at line 1 [for Statement \"SELECT MAX(LENGTH(key)) FROM `<database>`.`<table>` ORDER BY `key`\"] at line 3316 while doing <database>.<column> on <host>\n\nthe paramater to the 'LENGTH' function needs quoting.\n\nhere is a patch:\n\n\n*** modified/pt-table-sync 2012-03-28 11:00:55.000000000 -0500\n--- original/pt-table-sync        2012-03-07 17:47:53.000000000 -0600\n*************** sub _chunk_char {\n*** 3309,3315 ****\n     PTDEBUG && _d(\"Base\", $base, \"chars:\", @chars);\n  \n  \n!    $sql = \"SELECT MAX(LENGTH(`$chunk_col`)) FROM $db_tbl \"\n          . ($args{where} ? \"WHERE $args{where} \" : \"\") \n          . \"ORDER BY `$chunk_col`\";\n     PTDEBUG && _d($dbh, $sql);\n--- 3309,3315 ----\n     PTDEBUG && _d(\"Base\", $base, \"chars:\", @chars);\n  \n  \n!    $sql = \"SELECT MAX(LENGTH($chunk_col)) FROM $db_tbl \"\n          . ($args{where} ? \"WHERE $args{where} \" : \"\") \n          . \"ORDER BY `$chunk_col`\";\n     PTDEBUG && _d($dbh, $sql);", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/967451/related_tasks", 
"date_assigned": "2012-03-30T15:21:49.883361+00:00", 
"bug_information_type": "Public", 
"bug_title": "Char chunking doesn't quote column name", 
"title": "Bug #967451 in Percona Toolkit: \"Char chunking doesn't quote column name\"", 
"date_confirmed": "2012-03-30T13:39:33.611688+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/967451", 
"date_left_new": "2012-03-30T13:39:33.611688+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/967451", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"224d2243f92ac39ae8383fc35d5e9ee87b43c698-d29d5eda01b317b0ba4af9a975bda3b34e358cae\"", 
"owner_link": "https://api.launchpad.net/devel/~david-delikat", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-30T16:54:09.422501+00:00", 
"date_fix_released": "2012-04-16T16:34:47.679696+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/967451", 
"date_created": "2012-03-28T19:56:50.009322+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"ident-quoting", 
"pt-online-schema-change", 
"pt-table-sync", 
"pt-upgrade"
]
}, 
{
"date_closed": "2012-03-30T14:50:13.106684+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 968599, 
"date_in_progress": null, 
"bug_description": "[baron@localhost ~]$ ./pt-online-schema-change --execute --alter 'add baron int' D=sakila,t=film_actor,P=12345 --alter-foreign-keys-method=auto --chunk-size=100\nNo foreign keys reference the table; ignoring --alter-foreign-keys-method.\nAltering `sakila`.`film_actor`...\nCreating new table...\nCreated new table sakila._film_actor_new OK.\nAltering new table...\nAltered `sakila`.`_film_actor_new` OK.\nCreating triggers...\nCreated triggers OK.\nCopying approximately 5920 rows...\nCopied rows OK.\nI need a child_tables argument at ./pt-online-schema-change line 6183.\nDropping triggers...\nDropped triggers OK.\nNot dropping the new table `sakila`.`_film_actor_new` because --swap-tables failed.  To drop the new table, execute:\nDROP TABLE IF EXISTS `sakila`.`_film_actor_new`;\n`sakila`.`film_actor` was not altered.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968599/related_tasks", 
"date_assigned": "2012-03-29T20:42:41.613000+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change needs child_tables", 
"title": "Bug #968599 in Percona Toolkit: \"pt-online-schema-change needs child_tables\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/968599", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/968599", 
"milestone_link": null, 
"http_etag": "\"f5fb57fec5ce594133ece3602fcc08ae27d63280-d1f1b92321f0027823c2e4bbd0ebe241467e70a1\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968599", 
"date_created": "2012-03-29T20:42:40.952864+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 968639, 
"date_in_progress": null, 
"bug_description": "Here is a scenario pt-query-advisor does not catch:\n\n... user_id IN ('11', '12', 13, 14);\n\nThis will cause a full table scan.  In addition, the following types of queries are extremely unclear -- it is anyone's guess what the precedence of types and operators are:\n\n... user_id between '11' and 12;\n\n... created_timestamp between 1 and '2012-03-29';", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968639/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor should detect mixed data types", 
"title": "Bug #968639 in Percona Toolkit: \"pt-query-advisor should detect mixed data types\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/968639", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/968639", 
"milestone_link": null, 
"http_etag": "\"bcd1c94940c44e56a6c133f6d91a4da5d292425b-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968639", 
"date_created": "2012-03-29T21:24:52.146110+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor"
]
}, 
{
"date_closed": "2012-08-10T18:14:47.189363+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-17T21:34:44.092679+00:00", 
"bug_id": 969669, 
"date_in_progress": "2012-07-19T21:06:52.636573+00:00", 
"bug_description": "[root@poseidon extracted]# pt-duplicate-key-checker --version\npt-duplicate-key-checker 2.0.3\n\n\nTry to use key checks instead of fk checks:\n[root@poseidon extracted]# pt-duplicate-key-checker --key-types=k\nCan't use an undefined value as a HASH reference at /usr/bin/pt-duplicate-key-checker line 3658.\n\nFrom PTDEBUG:\n# SchemaIterator:3360 27373 Getting next schema object from dbh DBI::db=HASH(0x18ae3070)\n# MySQLDump:696 27373 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# MySQLDump:684 27373 DBI::db=HASH(0x18ae3070) USE `mysql`\n# MySQLDump:701 27373 SHOW CREATE TABLE `mysql`.`general_log`\n# MySQLDump:711 27373 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# MySQLDump:715 27373 This table is a base table\n# TableParser:409 27373 Storage engine: CSV\n# TableParser:230 27373 Table cols: `event_time`, `user_host`, `thread_id`, `server_id`, `command_type`, `argument`\n# TableParser:409 27373 Storage engine: CSV\n# SchemaIterator:3289 27373 Next schema object: mysql general_log\n# TableParser:409 27373 Storage engine: CSV\n# TableParser:409 27373 Storage engine: CSV\nCan't use an undefined value as a HASH reference at /usr/bin/pt-duplicate-key-checker line 3658.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969669/related_tasks", 
"date_assigned": "2012-07-19T21:06:50.358364+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-duplicate-key-checker --key-types=k doesn't work", 
"title": "Bug #969669 in Percona Toolkit: \"pt-duplicate-key-checker --key-types=k doesn't work\"", 
"date_confirmed": "2012-04-17T21:34:44.092679+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/969669", 
"date_left_new": "2012-04-17T21:34:44.092679+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/969669", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"be8ea5b053e07f26ec8439cc1627227c4d6c32cf-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~greenlion", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-19T21:38:37.284535+00:00", 
"date_fix_released": "2012-08-10T18:14:47.189363+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969669", 
"date_created": "2012-03-30T22:47:51.099172+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-duplicate-key-checker", 
"wrong-option"
]
}, 
{
"date_closed": "2012-08-10T18:14:52.652521+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-04-17T21:33:58.243021+00:00", 
"bug_id": 969703, 
"date_in_progress": "2012-07-23T22:40:33.653530+00:00", 
"bug_description": "pt-sift defaults to '.'\nAs pt-stalk now stores collected data on /var/lib/pt-stalk by default, I think it would make sense to make this the default for pt-sift too.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969703/related_tasks", 
"date_assigned": "2012-07-23T22:40:31.419900+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift defaults to '.' instead of '/var/lib/pt-talk'", 
"title": "Bug #969703 in Percona Toolkit: \"pt-sift defaults to '.' instead of '/var/lib/pt-talk'\"", 
"date_confirmed": "2012-04-17T21:33:58.243021+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/969703", 
"date_left_new": "2012-04-17T21:33:58.243021+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/969703", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"3533238ee8c42a06ad2f2b5c4d7e71662cc2b352-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-23T22:48:48.250596+00:00", 
"date_fix_released": "2012-08-10T18:14:52.652521+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/969703", 
"date_created": "2012-03-30T23:52:36.141589+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-sift", 
"wrong-default"
]
}, 
{
"date_closed": "2012-06-19T20:02:16.743649+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-04-03T15:52:27.572913+00:00", 
"bug_id": 972399, 
"date_in_progress": "2012-04-03T15:52:27.572913+00:00", 
"bug_description": "http://www.percona.com/doc/percona-toolkit/2.0/pt-table-checksum.html#cmdoption-pt-table-checksum--replicate-database shows the following text:\n\n\nUSE only ... See also <L:option:\u2013[no]check-replication-filters>.\n\nThis is because the source code should have the L outside the brackets, but instead is this:\n\nSee also <L\"--[no]check-replication-filters\">.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/972399/related_tasks", 
"date_assigned": "2012-04-03T14:49:50.089171+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum docs are not rendered right", 
"title": "Bug #972399 in Percona Toolkit: \"pt-table-checksum docs are not rendered right\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/972399", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/972399", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"b794b3fb3b4612bd7c514181fffad4907703d44f-0e1e7bed5e6b05115bee0b55520726c3e7665bf1\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": "2012-04-16T16:34:26.370684+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-04-03T15:52:27.572913+00:00", 
"date_fix_released": "2012-06-19T20:02:16.743649+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/972399", 
"date_created": "2012-04-03T12:51:40.236662+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-05-30T16:31:37.788922+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 974138, 
"date_in_progress": null, 
"bug_description": "With pt-query-digest 2.1.1\n\nFollowing command failed : \n\n$./pt-query-digest --type memcached \u2013-group-by cmd tcpdump.txt\n\u2013-group-by does not exist or is not readable at ./pt-query-digest line 11300.\ncmd does not exist or is not readable at ./pt-query-digest line 11300.\n\nYou can pass anything to group-by, error is the same.\n\n\nIt seems option is treated as a file.\n\nI tried changing arg order with no success : \n./pt-query-digest tcpdump.txt --type memcached \u2013-group-by key_print\n ./pt-query-digest \u2013-group-by cmd tcpdump.txt", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/974138/related_tasks", 
"date_assigned": "2012-05-24T15:02:12.867015+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --group-by value treated as file", 
"title": "Bug #974138 in Percona Toolkit: \"pt-query-digest --group-by value treated as file\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/974138", 
"date_left_new": "2012-04-17T21:31:37.844534+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/974138", 
"milestone_link": null, 
"http_etag": "\"cdb81306c1148e5614e4237adb2ef202fe7868c0-d1f1b92321f0027823c2e4bbd0ebe241467e70a1\"", 
"owner_link": "https://api.launchpad.net/devel/~odoucet", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/974138", 
"date_created": "2012-04-05T10:59:37.713394+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-19T20:02:01.107973+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-07T16:01:04.314342+00:00", 
"bug_id": 976108, 
"date_in_progress": "2012-05-07T16:01:04.314342+00:00", 
"bug_description": "On some servers, checking for foreign keys can be expensive, and the user may know there is no need to do it.  But the tool doesn't allow disabling this check. I propose that instead of adding another command-line option, we make the 'none' value for --alter-foreign-keys-method disable the check.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976108/related_tasks", 
"date_assigned": "2012-05-07T16:01:05.649731+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change doesn't allow to disable foreign key checks", 
"title": "Bug #976108 in Percona Toolkit: \"pt-online-schema-change doesn't allow to disable foreign key checks\"", 
"date_confirmed": "2012-04-17T21:29:46.642946+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/976108", 
"date_left_new": "2012-04-17T21:29:46.642946+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/976108", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"91318e9e5d0ce89e342936c7e4a1151ca1308425-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-07T16:35:53.262159+00:00", 
"date_fix_released": "2012-06-19T20:02:01.107973+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976108", 
"date_created": "2012-04-07T18:09:46.517163+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change", 
"useless-work"
]
}, 
{
"date_closed": "2012-06-19T20:02:05.250553+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-07T16:39:21.037384+00:00", 
"bug_id": 976109, 
"date_in_progress": "2012-05-07T16:39:21.037384+00:00", 
"bug_description": "If we rename a column, it will be equivalent to dropping the old column and adding a new one. The data from the old column won't be copied to the new one.\n\nWe should document this limitation, at a minimum. And I propose that we may parse the ALTER statement in the future and recognize what has changed, and set up the triggers and INSERT/SELECT statement accordingly to copy the column into its renamed column.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976109/related_tasks", 
"date_assigned": "2012-05-07T16:39:23.963567+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change doesn't handle column renames", 
"title": "Bug #976109 in Percona Toolkit: \"pt-online-schema-change doesn't handle column renames\"", 
"date_confirmed": "2012-04-17T21:19:21.004264+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/976109", 
"date_left_new": "2012-04-17T21:19:21.004264+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/976109", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f48a729c5b2c88bd3e59ecb945d8856fddae2857-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-07T16:54:47.825837+00:00", 
"date_fix_released": "2012-06-19T20:02:05.250553+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976109", 
"date_created": "2012-04-07T18:11:40.210855+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:15:01.590077+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:38:13.787909+00:00", 
"bug_id": 977226, 
"date_in_progress": "2012-08-01T17:38:13.787909+00:00", 
"bug_description": "New LSI RAID SAS Control is not detected in pt-summary\n\n[root@xxx /usr/local/bin]# lspci | grep \"RAID bus*\" \n03:00.0 RAID bus controller: LSI Logic / Symbios Logic LSI MegaSAS 9260 (rev 05)\n\nIn parse_raid_controller_lspci() the follow needs to be added:\n\n...\n\nif grep -q \"RAID bus controller: LSI Logic / Symbios Logic MegaRAID SAS\" $file; then\n      echo 'LSI Logic MegaRAID SAS'\nelsif grep -q \"RAID bus controller: LSI Logic / Symbios Logic LSI MegaSAS\" $file; then\n      echo 'LSI Logic MegaRAID SAS'\n\n...", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/977226/related_tasks", 
"date_assigned": "2012-08-01T17:38:21.439077+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary doesn't detect LSI RAID control", 
"title": "Bug #977226 in Percona Toolkit: \"pt-summary doesn't detect LSI RAID control\"", 
"date_confirmed": "2012-04-17T21:18:12.451739+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/977226", 
"date_left_new": "2012-04-17T21:18:12.451739+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/977226", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"212b151529b48e9380cab3d542032db4be308393-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:45:52.228383+00:00", 
"date_fix_released": "2012-08-10T18:15:01.590077+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/977226", 
"date_created": "2012-04-09T13:45:39.561484+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T21:16:28.142901+00:00", 
"bug_id": 978133, 
"date_in_progress": null, 
"bug_description": "pt-query-digest reports an error about 'INSERT' privileges when the problem is missing DELETE privileges (related to bug 940421?)\n\n# TableParser:8321 5635 Checking `maatkit`.`query_review`\n# TableParser:8325 5635 SHOW TABLES FROM `maatkit` LIKE 'query\\_review'\n# TableParser:8339 5635 Table exists; no privs to check\n# TableParser:8343 5635 SHOW FULL COLUMNS FROM `maatkit`.`query_review`\n# TableParser:8358 5635 DELETE FROM `maatkit`.`query_review` LIMIT 0\n# TableParser:8364 5635 User privs on `maatkit`.`query_review` : select,insert,update \n# TableParser:8369 5635 User does not have all privs\nThe query review table `maatkit`.`query_review` does not exist or you do not have INSERT privileges at /usr/bin/pt-query-digest line 12044.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/978133/related_tasks", 
"date_assigned": "2012-08-29T01:53:49.374977+00:00", 
"bug_information_type": "Public", 
"bug_title": "Confusing error with incorrect privileges pt-query-digest", 
"title": "Bug #978133 in Percona Toolkit: \"Confusing error with incorrect privileges pt-query-digest\"", 
"date_confirmed": "2012-04-17T21:16:28.142901+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/978133", 
"date_left_new": "2012-04-17T21:16:28.142901+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/978133", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"1ae92983abc10db05dd809373ddb4bf364d9868e-84bd898ae7bb00a4fca9b95682f53aafde9e950f\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/978133", 
"date_created": "2012-04-10T15:46:27.435925+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"error-message", 
"privs", 
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 984053, 
"date_in_progress": null, 
"bug_description": "A user reported the following:\n\ninsert ignore_bar (id)       values (4029731);\n\nDistills to INSERT. The attached patch is claimed to solve this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984053/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Distill doesn't handle INSERT/REPLACE without INTO", 
"title": "Bug #984053 in Percona Toolkit: \"Distill doesn't handle INSERT/REPLACE without INTO\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/984053", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984053", 
"milestone_link": null, 
"http_etag": "\"cb03166baa7f842fa8c28d41afda5d57205de5c3-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984053", 
"date_created": "2012-04-17T15:04:43.216164+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"distill"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 984057, 
"date_in_progress": null, 
"bug_description": "A user reported the following problem. When the comments field in the review table has newlines, the report is broken. Details are at https://groups.google.com/d/topic/percona-discussion/xPkRlu013ok/discussion\n\nPatch from user is attached.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984057/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest with --review breaks on multiline comments", 
"title": "Bug #984057 in Percona Toolkit: \"pt-query-digest with --review breaks on multiline comments\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/984057", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984057", 
"milestone_link": null, 
"http_etag": "\"ded2dc0c4110be9c21df2e962bbb5f174e91f084-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984057", 
"date_created": "2012-04-17T15:09:26.975364+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"query-review"
]
}, 
{
"date_closed": "2012-08-10T18:15:08.101629+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-07-13T01:45:34.748944+00:00", 
"bug_id": 984915, 
"date_in_progress": "2012-07-13T01:45:34.748944+00:00", 
"bug_description": "in get_dbh()\n\nThere is an eval call that executes several $dbh->do() calls to set variables without checking the return values and gives a false sense of success.\n\nSpecifically with set-vars: \n\nif ( $self->prop('set-vars') ) {\n   $sql = \"SET \" . $self->prop('set-vars');\n   PTDEBUG && _d($dbh, ':', $sql);\n   $dbh->do($sql);  // Check return value here\n}\n\nhow to reproduce, add --set-vars=\"time_zoen='UTC'\" - pt-table-checksum goes about its business without error.\n\nDesired behavior: Fail connection and print error when MySQL is unable to execute set command.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984915/related_tasks", 
"date_assigned": "2012-06-12T01:16:56.348535+00:00", 
"bug_information_type": "Public", 
"bug_title": "DSNParser does not check success of --set-vars", 
"title": "Bug #984915 in Percona Toolkit: \"DSNParser does not check success of --set-vars\"", 
"date_confirmed": "2012-04-18T17:33:05.333234+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/984915", 
"date_left_new": "2012-04-18T17:33:05.333234+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984915", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"0f8c25861f5b18a6e2f13d5287d2b5f75337131f-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-15T03:09:05.949866+00:00", 
"date_fix_released": "2012-08-10T18:15:08.101629+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984915", 
"date_created": "2012-04-18T13:55:12.186735+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"all-tools", 
"error-message"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 985577, 
"date_in_progress": null, 
"bug_description": "select distinct A.id from tab_a A \nleft join tab_b B on A.col_1=B.col_2 \nleft join tab_c C on B.col_3=C.col_4 \nwhere B.col_2='xyz' and C.col_3='111' \ngroup by A.name, A.id\nLIMIT 0,10\n\nThis should give a JOI.003 (outer join defeated), but it doesn't.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/985577/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor doesn't notice JOI.003", 
"title": "Bug #985577 in Percona Toolkit: \"pt-query-advisor doesn't notice JOI.003\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/985577", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/985577", 
"milestone_link": null, 
"http_etag": "\"fd8dfc1ace39d5d8c0f7e4e7782139c2d3124148-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/985577", 
"date_created": "2012-04-19T11:20:19.136737+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": "2012-06-19T20:02:09.531475+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T20:15:09.562293+00:00", 
"bug_id": 986151, 
"date_in_progress": "2012-05-16T18:13:41.138429+00:00", 
"bug_description": "When using pt-stalk on Linux, mktemp throws an error : \n\nmktemp: cannot make temp dir /tmp/pt-stalk.2367.XXXXX: Invalid argument\n\nThen program exits.\n\n\nPTDEBUG=1 does not show anything else :(\n\nAfter stracing process, it appears command line used is the following : \n\nmktemp -d \"/tmp/pt-stalk.2367.XXXXX\"\n\n\nI was able to solve the problem by adding an extra X at the end : \n\nmktemp -d \"/tmp/pt-stalk.2367.XXXXXX\"\n/tmp/pt-stalk.2367.Hi0RXV\n\n\n\nmktemp -V\nmktemp version 1.5\n\n./pt-stalk --version\npt-stalk 2.1.1\n\nLinux XXXX 2.6.36 SMP x86_64", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/986151/related_tasks", 
"date_assigned": "2012-05-16T17:24:08.667372+00:00", 
"bug_information_type": "Public", 
"bug_title": "mktemp error with pt-stalk", 
"title": "Bug #986151 in Percona Toolkit: \"mktemp error with pt-stalk\"", 
"date_confirmed": "2012-05-03T20:15:09.562293+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/986151", 
"date_left_new": "2012-05-03T20:15:09.562293+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/986151", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"000758b4ab5eb6517d7e8979c21e9fd0691ab7b6-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~odoucet", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-16T18:13:41.138429+00:00", 
"date_fix_released": "2012-06-19T20:02:09.531475+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/986151", 
"date_created": "2012-04-20T11:58:17.339040+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-stalk", 
"sys-cmd"
]
}, 
{
"date_closed": "2012-06-19T20:04:24.407092+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T20:22:46.569412+00:00", 
"bug_id": 987393, 
"date_in_progress": "2012-05-08T15:59:30.654748+00:00", 
"bug_description": "Using pt-table-checksum 2.1.1\nIf a database contains some empty tables, they cause the following error:\n04-23T09:27:01 Error checksumming table db.emptytable: Can't use an undefined value as an ARRAY reference at /usr/bin/pt-table-checksum line 6530.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987393/related_tasks", 
"date_assigned": "2012-05-08T16:24:58.467220+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum: Empy tables cause \"undefined value as an ARRAY\" errors ", 
"title": "Bug #987393 in Percona Toolkit: \"pt-table-checksum: Empy tables cause \"undefined value as an ARRAY\" errors \"", 
"date_confirmed": "2012-05-03T20:22:46.569412+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/987393", 
"date_left_new": "2012-05-03T20:22:46.569412+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/987393", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"8b5005c510cc9acbcf152f5e00e0f918a2655a82-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~brainstar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-10T16:25:08.110857+00:00", 
"date_fix_released": "2012-06-19T20:04:24.407092+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987393", 
"date_created": "2012-04-23T16:32:27.919112+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"crash", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:04:15.644784+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-16T23:54:12.678775+00:00", 
"bug_id": 987694, 
"date_in_progress": "2012-05-16T23:54:12.678775+00:00", 
"bug_description": "Hi,\n\nnot sure if this is a bug or if I just cannot find the right command line option. I try to run the new 2.1.1. on Amazon RDS where I don't have access/privileges to access \"SHOW SLAVE HOSTS\". Therefore pt-online-schema-change gives me the error:\n\nDBD::mysql::db selectall_arrayref failed: Access denied; you need (at least one of) the REPLICATION SLAVE privilege(s) for this operation [for Statement \"SHOW SLAVE HOSTS\"] at ./pt-online-schema-change line 3019.\n\nIs there a way to disable this query or to tell the tool not to check for this and just ignore any potential slaves?\n\nThanks a lot\n\nAlex", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987694/related_tasks", 
"date_assigned": "2012-05-16T23:51:09.505504+00:00", 
"bug_information_type": "Public", 
"bug_title": "There is no --recursion-method=none option", 
"title": "Bug #987694 in Percona Toolkit: \"There is no --recursion-method=none option\"", 
"date_confirmed": "2012-05-03T20:37:20.052848+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/987694", 
"date_left_new": "2012-05-03T20:37:20.052848+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/987694", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"efcdb2fd4cc93310f47b739eaea1cffdcff51604-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~alex1910-b", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-17T16:19:06.341766+00:00", 
"date_fix_released": "2012-06-19T20:04:15.644784+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987694", 
"date_created": "2012-04-24T08:06:55.003885+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"privs", 
"pt-online-schema-change", 
"pt-table-checksum", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-06-19T20:04:11.437580+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T20:54:03.614845+00:00", 
"bug_id": 993436, 
"date_in_progress": "2012-05-07T18:29:59.959272+00:00", 
"bug_description": "It appears that the Memory section of pt-summary is incorrectly reporting total memory.  In my case I have an Ubuntu VirtualBox guest with 1024MB RAM so it should say Total 1G but in the Memory section, Total line it reports 1M\n\n# Memory #####################################################\n       Total | 1.0M\n        Free | 81.3M\n        Used | physical = 920.8M, swap allocated = 510.0M, swap used = 41.7M, virtual = 962.5M\n\nroot@michael-VirtualBox:~# free\n             total       used       free     shared    buffers     cached\nMem:       1026080     955496      70584          0     146136     500328\n-/+ buffers/cache:     309032     717048\nSwap:       522236      42392     479844\n\nroot@michael-VirtualBox:~# uname -a\nLinux michael-VirtualBox 3.0.0-12-generic #20-Ubuntu SMP Fri Oct 7 14:50:42 UTC 2011 i686 i686 i386 GNU/Linux\nroot@michael-VirtualBox:~# tail -1 /etc/apt/sources.list\ndeb-src http://repo.percona.com/apt oneiric main\n\nroot@michael-VirtualBox:~# pt-summary --version\nlocal: 1: 2.1.1: bad variable name\npt-summary\n\nFull command output from pt-summary:\n\nroot@michael-VirtualBox:~# PTDEBUG=1; pt-summary \n# Percona Toolkit System Summary Report ######################\n        Date | 2012-05-02 17:54:59 UTC (local TZ: EDT -0400)\n    Hostname | michael-VirtualBox\n      Uptime |  5:53,  3 users,  load average: 1.31, 1.58, 1.22\n      System | innotek GmbH; VirtualBox; v1.2 ()\n Service Tag | 0\n    Platform | Linux\n     Release | Ubuntu 11.10 (oneiric)\n      Kernel | 3.0.0-12-generic\nArchitecture | CPU = 64-bit, OS = 32-bit\n   Threading | NPTL 2.13\n     SELinux | No SELinux detected\n Virtualized | VirtualBox\n# Processor ##################################################\n  Processors | physical = 1, cores = 0, virtual = 1, hyperthreading = no\n      Speeds | 1x2240.377\n      Models | 1xIntel(R) Core(TM) i3 CPU M 350 @ 2.27GHz\n      Caches | 1x6144 KB\n# Memory #####################################################\n       Total | 1.0M\n        Free | 75.2M\n        Used | physical = 926.8M, swap allocated = 510.0M, swap used = 44.2M, virtual = 971.0M\n     Buffers | 142.6M\n      Caches | 481.8M\n       Dirty | 116 kB\n     UsedRSS | 610.3M\n  Swappiness | 60\n DirtyPolicy | 10, 5\n DirtyStatus | 0, 0\n  Locator   Size     Speed             Form Factor   Type          Type Detail\n  ========= ======== ================= ============= ============= ===========\n# Mounted Filesystems ########################################\n  Filesystem  Size Used Type       Opts                                Mountpoint\n  /dev/sda1   7.4G  52% ext4       rw,errors=remount-ro,commit=0       /\n  Downloads    75G  58% vboxsf     rw                                  downloads\n  none        502M   1% tmpfs      rw,noexec,nosuid,nodev,size=5242880 /run/shm\n  none        502M   1% tmpfs      rw,nosuid,nodev                     /run/shm\n  none        502M   1% debugfs    rw                                  /run/shm\n  none        502M   1% securityfs rw                                  /run/shm\n  none        5.0M   0% tmpfs      rw,noexec,nosuid,nodev,size=5242880 /run/lock\n  none        5.0M   0% tmpfs      rw,nosuid,nodev                     /run/lock\n  none        5.0M   0% debugfs    rw                                  /run/lock\n  none        5.0M   0% securityfs rw                                  /run/lock\n  tmpfs       201M   1% tmpfs      rw,noexec,nosuid,size=10%,mode=0755 /run\n  udev        495M   1% devtmpfs   rw,mode=0755                        /dev\n# Disk Schedulers And Queue Size #############################\n         sda | [cfq] 128\n         sr0 | [cfq] 128\n# Disk Partioning ############################################\nDevice       Type      Start        End               Size\n============ ==== ========== ========== ==================\n/dev/sda     Disk                               8589934592\n/dev/sda1    Part       2048   15728639         8052014592\n/dev/sda2    Part   15730686   16775167          534774272\n/dev/sda5    Part   15730688   16775167          534773248\n/dev/sr0     Disk                                 50776064\n# Kernel Inode State #########################################\ndentry-state | 17856\t10199\t45\t0\t0\t0\n     file-nr | 5344\t0\t101176\n    inode-nr | 23866\t11653\n# LVM Volumes ################################################\nUnable to collect information\n# LVM Volume Groups ##########################################\nUnable to collect information\n# RAID Controller ############################################\n  Controller | No RAID controller detected\n# Network Config #############################################\n  Controller | Intel Corporation 82540EM Gigabit Ethernet Controller (rev 02)\n FIN Timeout | 60\n  Port Range | 61000\n# Interface Statistics #######################################\n  interface  rx_bytes rx_packets  rx_errors   tx_bytes tx_packets  tx_errors\n  ========= ========= ========== ========== ========== ========== ==========\n  lo                0          0          0          0          0          0\n  eth0      100000000     125000          0    4000000      70000          0\n# Network Connections ########################################\n  Connections from remote IP addresses\n  Connections to local IP addresses\n  Connections to top 10 local ports\n  States of connections\n    LISTEN              3\n# Top Processes ##############################################\n  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n11165 mysql     20   0  301m  94m 5912 S  9.8  9.5   8:13.34 mysqld\n  199 root      20   0     0    0    0 S  3.9  0.0   3:49.19 jbd2/sda1-8\n11346 root      20   0 14504 8844 2880 S  3.9  0.9   5:37.23 perl\n22824 root      20   0     0    0    0 S  3.9  0.0   0:00.02 kworker/0:1\n    1 root      20   0  3320 1628 1264 S  0.0  0.2   0:00.61 init\n    2 root      20   0     0    0    0 S  0.0  0.0   0:00.00 kthreadd\n    3 root      20   0     0    0    0 S  0.0  0.0   0:01.34 ksoftirqd/0\n    5 root      20   0     0    0    0 S  0.0  0.0   0:00.42 kworker/u:0\n    6 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 migration/0\n# Notable Processes ##########################################\n  PID    OOM    COMMAND\n    ?      ?    sshd doesn't appear to be running\n# Simplified and fuzzy rounded vmstat (wait please) ##########\n  procs  ---swap-- -----io---- ---system---- --------cpu--------\n   r  b    si   so    bi    bo     ir     cs  us  sy  il  wa  st\n   1  0     2    4    20   900    350    700   3   5  69  23    \n   0  0    25    0    25  1500    800   2500  33  27  12  28    \n   0  0     0    0     0  1000    500   1000   4   5  59  32    \n   0  0     0    0     0  1000    450   1000   5   5  60  30    \n   1  0     0    0     0   900    450    900   4   8  26  62    \n# The End ####################################################", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/993436/related_tasks", 
"date_assigned": "2012-05-07T18:30:04.647351+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary Memory: Total reports M instead of G", 
"title": "Bug #993436 in Percona Toolkit: \"pt-summary Memory: Total reports M instead of G\"", 
"date_confirmed": "2012-05-03T20:54:03.614845+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/993436", 
"date_left_new": "2012-05-03T20:54:03.614845+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/993436", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"943db0184b3e7d231291e286b891ecd2a964fcaf-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-07T23:30:51.220998+00:00", 
"date_fix_released": "2012-06-19T20:04:11.437580+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/993436", 
"date_created": "2012-05-02T17:55:52.660020+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": "2012-06-19T20:04:06.429813+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T21:01:29.004371+00:00", 
"bug_id": 994002, 
"date_in_progress": "2012-05-15T21:07:18.575762+00:00", 
"bug_description": "Hi\n I am using pt-online-schema-change 2.1.1 to alter a table \nCreate Table: CREATE TABLE `CityPopularity` (\n  `ufi` int(11) NOT NULL,\n  `guest_language` char(2) NOT NULL,\n  `guest_country` char(2) NOT NULL,\n  `score` int(10) unsigned NOT NULL,\n  PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n  KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1\n\nHere is the complete output:\n\n[root@server-03 app]# PTDEBUG=1 pt-online-schema-change --alter \"add guy char(2)\" --execute D=app,t=CityPopularity\n# /usr/bin/perl 5.008008\n# Linux server-03 2.6.18-238.el5 #1 SMP Thu Jan 13 15:51:15 EST 2011 x86_64 x86_64 x86_64 GNU/Linux \n# Arguments: _[--alter]_ _[add guy char(2)]_ _[--execute]_ _[D=app,t=CityPopularity]_\n# OptionParser:190 14514 Option rule: --dry-run and --execute are mutually exclusive.\n# OptionParser:190 14514 Option rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:199 14514 =item --alter\n# OptionParser:226 14514 Short help: The schema modification, without the ALTER TABLE keywords\n# OptionParser:199 14514 =item --alter-foreign-keys-method\n# OptionParser:226 14514 Short help: How to modify foreign keys so they reference the new table\n# OptionParser:199 14514 =item --ask-pass\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Prompt for a password when connecting to MySQL\n# OptionParser:199 14514 =item --charset\n# OptionParser:226 14514 Short help: Default character set\n# OptionParser:199 14514 =item --check-interval\n# OptionParser:226 14514 Short help: Sleep time between checks for --max-lag\n# OptionParser:199 14514 =item --[no]check-replication-filters\n# OptionParser:226 14514 Short help: Abort if any replication filter is set on any server\n# OptionParser:199 14514 =item --check-slave-lag\n# OptionParser:226 14514 Short help: Pause the data copy until this replica's lag is less than --max-lag\n# OptionParser:199 14514 =item --chunk-index\n# OptionParser:226 14514 Short help: Prefer this index for chunking tables\n# OptionParser:199 14514 =item --chunk-size\n# OptionParser:226 14514 Short help: Number of rows to select for each chunk copied\n# OptionParser:199 14514 =item --chunk-size-limit\n# OptionParser:226 14514 Short help: Do not copy chunks this much larger than the desired chunk size\n# OptionParser:199 14514 =item --chunk-time\n# OptionParser:226 14514 Short help: Adjust the chunk size dynamically so each data-copy query takes this long to execute\n# OptionParser:199 14514 =item --config\n# OptionParser:226 14514 Short help: Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:199 14514 =item --critical-load\n# OptionParser:226 14514 Short help: Examine SHOW GLOBAL STATUS after every chunk, and abort if the load is too high\n# OptionParser:199 14514 =item --defaults-file\n# OptionParser:226 14514 Short help: Only read mysql options from the given file\n# OptionParser:199 14514 =item --[no]drop-old-table\n# OptionParser:226 14514 Short help: Drop the original table after renaming it\n# OptionParser:199 14514 =item --dry-run\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Create and alter the new table, but do not create triggers, copy data, or replace the original table\n# OptionParser:199 14514 =item --execute\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Indicate that you have read the documentation and want to alter the table\n# OptionParser:199 14514 =item --help\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Show help and exit\n# OptionParser:199 14514 =item --host\n# OptionParser:226 14514 Short help: Connect to host\n# OptionParser:199 14514 =item --lock-wait-timeout\n# OptionParser:226 14514 Short help: Set the session value of innodb_lock_wait_timeout\n# OptionParser:199 14514 =item --max-lag\n# OptionParser:226 14514 Short help: Pause the data copy until all replicas' lag is less than this value\n# OptionParser:199 14514 =item --max-load\n# OptionParser:226 14514 Short help: Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than their thresholds\n# OptionParser:199 14514 =item --password\n# OptionParser:226 14514 Short help: Password to use when connecting\n# OptionParser:199 14514 =item --pid\n# OptionParser:226 14514 Short help: Create the given PID file\n# OptionParser:199 14514 =item --port\n# OptionParser:226 14514 Short help: Port number to use for connection\n# OptionParser:199 14514 =item --print\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Print SQL statements to STDOUT\n# OptionParser:199 14514 =item --progress\n# OptionParser:226 14514 Short help: Print progress reports to STDERR while copying rows\n# OptionParser:199 14514 =item --quiet\n# OptionParser:226 14514 Short help: Do not print messages to STDOUT\n# OptionParser:199 14514 =item --recurse\n# OptionParser:226 14514 Short help: Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:199 14514 =item --recursion-method\n# OptionParser:226 14514 Short help: Preferred recursion method for discovering replicas\n# OptionParser:199 14514 =item --retries\n# OptionParser:226 14514 Short help: Retry a chunk this many times when there is a nonfatal error\n# OptionParser:199 14514 =item --set-vars\n# OptionParser:226 14514 Short help: Set these MySQL variables\n# OptionParser:199 14514 =item --socket\n# OptionParser:226 14514 Short help: Socket file to use for connection\n# OptionParser:199 14514 =item --[no]swap-tables\n# OptionParser:226 14514 Short help: Swap the original table and the new, altered table\n# OptionParser:199 14514 =item --user\n# OptionParser:226 14514 Short help: User for login if not current user\n# OptionParser:199 14514 =item --version\n# OptionParser:218 14514 Option has no attributes\n# OptionParser:226 14514 Short help: Show version and exit\n# OptionParser:265 14514 Parsing opt spec: group => default spec => alter=s desc => The schema modification, without the ALTER TABLE keywords\n# OptionParser:303 14514 alter type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => alter-foreign-keys-method=s desc => How to modify foreign keys so they reference the new table\n# OptionParser:303 14514 alter-foreign-keys-method type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => ask-pass desc => Prompt for a password when connecting to MySQL\n# OptionParser:303 14514 ask-pass type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => charset|A=s desc => Default character set\n# OptionParser:303 14514 charset type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => check-interval=m desc => Sleep time between checks for --max-lag (default 1)\n# OptionParser:303 14514 check-interval type: m\n# OptionParser:310 14514 check-interval default: 1\n# OptionParser:265 14514 Parsing opt spec: group => default spec => check-replication-filters! desc => Abort if any replication filter is set on any server (default yes)\n# OptionParser:303 14514 check-replication-filters type: undef\n# OptionParser:310 14514 check-replication-filters default: yes\n# OptionParser:265 14514 Parsing opt spec: group => default spec => check-slave-lag=s desc => Pause the data copy until this replica's lag is less than --max-lag\n# OptionParser:303 14514 check-slave-lag type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => chunk-index=s desc => Prefer this index for chunking tables\n# OptionParser:303 14514 chunk-index type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => chunk-size=z desc => Number of rows to select for each chunk copied (default 1000)\n# OptionParser:303 14514 chunk-size type: z\n# OptionParser:310 14514 chunk-size default: 1000\n# OptionParser:265 14514 Parsing opt spec: group => default spec => chunk-size-limit=f desc => Do not copy chunks this much larger than the desired chunk size (default 4.0)\n# OptionParser:303 14514 chunk-size-limit type: f\n# OptionParser:310 14514 chunk-size-limit default: 4.0\n# OptionParser:265 14514 Parsing opt spec: group => default spec => chunk-time=f desc => Adjust the chunk size dynamically so each data-copy query takes this long to execute (default 0.5)\n# OptionParser:303 14514 chunk-time type: f\n# OptionParser:310 14514 chunk-time default: 0.5\n# OptionParser:265 14514 Parsing opt spec: group => default spec => config=A desc => Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:303 14514 config type: A\n# OptionParser:265 14514 Parsing opt spec: group => default spec => critical-load=A desc => Examine SHOW GLOBAL STATUS after every chunk, and abort if the load is too high (default Threads_running=50)\n# OptionParser:303 14514 critical-load type: A\n# OptionParser:310 14514 critical-load default: Threads_running=50\n# OptionParser:265 14514 Parsing opt spec: group => default spec => defaults-file|F=s desc => Only read mysql options from the given file\n# OptionParser:303 14514 defaults-file type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => drop-old-table! desc => Drop the original table after renaming it (default yes)\n# OptionParser:303 14514 drop-old-table type: undef\n# OptionParser:310 14514 drop-old-table default: yes\n# OptionParser:265 14514 Parsing opt spec: group => default spec => dry-run desc => Create and alter the new table, but do not create triggers, copy data, or replace the original table\n# OptionParser:303 14514 dry-run type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => execute desc => Indicate that you have read the documentation and want to alter the table\n# OptionParser:303 14514 execute type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => help desc => Show help and exit\n# OptionParser:303 14514 help type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => host|h=s desc => Connect to host\n# OptionParser:303 14514 host type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => lock-wait-timeout=i desc => Set the session value of innodb_lock_wait_timeout (default 1)\n# OptionParser:303 14514 lock-wait-timeout type: i\n# OptionParser:310 14514 lock-wait-timeout default: 1\n# OptionParser:265 14514 Parsing opt spec: group => default spec => max-lag=m desc => Pause the data copy until all replicas' lag is less than this value (default 1s)\n# OptionParser:303 14514 max-lag type: m\n# OptionParser:310 14514 max-lag default: 1s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => max-load=A desc => Examine SHOW GLOBAL STATUS after every chunk, and pause if any status variables are higher than their thresholds (default Threads_running=25)\n# OptionParser:303 14514 max-load type: A\n# OptionParser:310 14514 max-load default: Threads_running=25\n# OptionParser:265 14514 Parsing opt spec: group => default spec => password|p=s desc => Password to use when connecting\n# OptionParser:303 14514 password type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => pid=s desc => Create the given PID file\n# OptionParser:303 14514 pid type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => port|P=i desc => Port number to use for connection\n# OptionParser:303 14514 port type: i\n# OptionParser:265 14514 Parsing opt spec: group => default spec => print desc => Print SQL statements to STDOUT\n# OptionParser:303 14514 print type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => progress=a desc => Print progress reports to STDERR while copying rows (default time,30)\n# OptionParser:303 14514 progress type: a\n# OptionParser:310 14514 progress default: time,30\n# OptionParser:265 14514 Parsing opt spec: group => default spec => quiet|q desc => Do not print messages to STDOUT\n# OptionParser:303 14514 quiet type: undef\n# OptionParser:265 14514 Parsing opt spec: group => default spec => recurse=i desc => Number of levels to recurse in the hierarchy when discovering replicas\n# OptionParser:303 14514 recurse type: i\n# OptionParser:265 14514 Parsing opt spec: group => default spec => recursion-method=s desc => Preferred recursion method for discovering replicas\n# OptionParser:303 14514 recursion-method type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => retries=i desc => Retry a chunk this many times when there is a nonfatal error (default 3)\n# OptionParser:303 14514 retries type: i\n# OptionParser:310 14514 retries default: 3\n# OptionParser:265 14514 Parsing opt spec: group => default spec => set-vars=s desc => Set these MySQL variables (default wait_timeout=10000)\n# OptionParser:303 14514 set-vars type: s\n# OptionParser:310 14514 set-vars default: wait_timeout=10000\n# OptionParser:265 14514 Parsing opt spec: group => default spec => socket|S=s desc => Socket file to use for connection\n# OptionParser:303 14514 socket type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => swap-tables! desc => Swap the original table and the new, altered table (default yes)\n# OptionParser:303 14514 swap-tables type: undef\n# OptionParser:310 14514 swap-tables default: yes\n# OptionParser:265 14514 Parsing opt spec: group => default spec => user|u=s desc => User for login if not current user\n# OptionParser:303 14514 user type: s\n# OptionParser:265 14514 Parsing opt spec: group => default spec => version desc => Show version and exit\n# OptionParser:303 14514 version type: undef\n# OptionParser:325 14514 Parsing rule: --dry-run and --execute are mutually exclusive.\n# OptionParser:381 14514 Participants for --dry-run and --execute are mutually exclusive. : dry-run execute\n# OptionParser:333 14514 dry-run execute are mutually exclusive\n# OptionParser:325 14514 Parsing rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:381 14514 Participants for This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details. :\n# OptionParser:357 14514 Strict mode disabled by rule\n# OptionParser:109 14514 Parsing DSN OPTIONS\n# OptionParser:199 14514 =item * A\n# OptionParser:226 14514 Short help: Default character set\n# OptionParser:199 14514 =item * D\n# OptionParser:226 14514 Short help: Database for the old and new table\n# OptionParser:199 14514 =item * F\n# OptionParser:226 14514 Short help: Only read default options from the given file\n# OptionParser:199 14514 =item * h\n# OptionParser:226 14514 Short help: Connect to host\n# OptionParser:199 14514 =item * p\n# OptionParser:226 14514 Short help: Password to use when connecting\n# OptionParser:199 14514 =item * P\n# OptionParser:226 14514 Short help: Port number to use for connection\n# OptionParser:199 14514 =item * S\n# OptionParser:226 14514 Short help: Socket file to use for connection\n# OptionParser:199 14514 =item * t\n# OptionParser:226 14514 Short help: Table to alter\n# OptionParser:199 14514 =item * u\n# OptionParser:226 14514 Short help: User for login if not current user\n# DSNParser:1158 14514 DSN option: copy=1, dsn=charset, desc=Default character set, key=A\n# DSNParser:1158 14514 DSN option: copy=1, dsn=database, desc=Database for the old and new table, key=D\n# DSNParser:1158 14514 DSN option: copy=1, dsn=mysql_read_default_file, desc=Only read default options from the given file, key=F\n# DSNParser:1158 14514 DSN option: copy=1, dsn=host, desc=Connect to host, key=h\n# DSNParser:1158 14514 DSN option: copy=1, dsn=password, desc=Password to use when connecting, key=p\n# DSNParser:1158 14514 DSN option: copy=1, dsn=port, desc=Port number to use for connection, key=P\n# DSNParser:1158 14514 DSN option: copy=1, dsn=mysql_socket, desc=Socket file to use for connection, key=S\n# DSNParser:1158 14514 DSN option: copy=, dsn=table, desc=Table to alter, key=t\n# DSNParser:1158 14514 DSN option: copy=1, dsn=user, desc=User for login if not current user, key=u\n# OptionParser:153 14514 pt-online-schema-change 2.1.1\n# OptionParser:465 14514 Cannot open /etc/percona-toolkit/percona-toolkit.conf: No such file or directory\n# \n# OptionParser:465 14514 Cannot open /etc/percona-toolkit/pt-online-schema-change.conf: No such file or directory\n# \n# OptionParser:465 14514 Cannot open /root/.percona-toolkit.conf: No such file or directory\n# \n# OptionParser:465 14514 Cannot open /root/.pt-online-schema-change.conf: No such file or directory\n# \n# OptionParser:433 14514 Got option alter = add guy char(2)\n# OptionParser:433 14514 Got option execute = 1\n# OptionParser:643 14514 Parsing option chunk-size as a size value\n# OptionParser:653 14514 Nothing to validate for option recursion-method type s value undef\n# OptionParser:653 14514 Nothing to validate for option check-slave-lag type s value undef\n# OptionParser:653 14514 Nothing to validate for option chunk-index type s value undef\n# OptionParser:653 14514 Nothing to validate for option password type s value undef\n# OptionParser:653 14514 Nothing to validate for option pid type s value undef\n# OptionParser:653 14514 Nothing to validate for option user type s value undef\n# OptionParser:653 14514 Nothing to validate for option alter type s value add guy char(2)\n# OptionParser:653 14514 Nothing to validate for option chunk-time type f value 0.5\n# OptionParser:653 14514 Nothing to validate for option alter-foreign-keys-method type s value undef\n# OptionParser:653 14514 Nothing to validate for option charset type s value undef\n# OptionParser:653 14514 Nothing to validate for option set-vars type s value wait_timeout=10000\n# OptionParser:653 14514 Nothing to validate for option port type i value undef\n# OptionParser:653 14514 Nothing to validate for option socket type s value undef\n# OptionParser:653 14514 Nothing to validate for option lock-wait-timeout type i value 1\n# OptionParser:604 14514 Parsing option check-interval as a time value\n# OptionParser:609 14514 No suffix given; using s for check-interval (value: 1 )\n# OptionParser:618 14514 Setting option check-interval to 1\n# OptionParser:653 14514 Nothing to validate for option recurse type i value undef\n# OptionParser:604 14514 Parsing option max-lag as a time value\n# OptionParser:618 14514 Setting option max-lag to 1\n# OptionParser:653 14514 Nothing to validate for option retries type i value 3\n# OptionParser:653 14514 Nothing to validate for option chunk-size-limit type f value 4.0\n# OptionParser:653 14514 Nothing to validate for option defaults-file type s value undef\n# OptionParser:653 14514 Nothing to validate for option host type s value undef\n# DSNParser:1174 14514 Setting set-vars property\n# DSNParser:1245 14514 DSN string made from options: \n# DSNParser:1183 14514 No DSN to parse\n# DSNParser:1186 14514 Parsing D=app,t=CityPopularity\n# DSNParser:1204 14514 Finding value for S\n# DSNParser:1214 14514 Copying value for S from defaults\n# DSNParser:1204 14514 Finding value for F\n# DSNParser:1214 14514 Copying value for F from defaults\n# DSNParser:1204 14514 Finding value for A\n# DSNParser:1214 14514 Copying value for A from defaults\n# DSNParser:1204 14514 Finding value for P\n# DSNParser:1214 14514 Copying value for P from defaults\n# DSNParser:1204 14514 Finding value for p\n# DSNParser:1214 14514 Copying value for p from defaults\n# DSNParser:1204 14514 Finding value for u\n# DSNParser:1214 14514 Copying value for u from defaults\n# DSNParser:1204 14514 Finding value for h\n# DSNParser:1214 14514 Copying value for h from defaults\n# DSNParser:1204 14514 Finding value for D\n# DSNParser:1204 14514 Finding value for t\n# OptionParser:727 14514 Getting description and usage from SYNOPSIS in /usr/bin/pt-online-schema-change\n# OptionParser:980 14514 Parsing SYNOPSIS in /usr/bin/pt-online-schema-change\n# OptionParser:993 14514 Raw SYNOPSIS text: Usage: pt-online-schema-change [OPTIONS] DSN\n# \n#  pt-online-schema-change alters a table's structure without blocking reads or\n# writes.  Specify the database and table in the DSN. Do not use this tool before\n# reading its documentation and checking your backups carefully.\n# \n# \n# OptionParser:731 14514 Description: pt-online-schema-change alters a table's structure without blocking reads or writes.  Specify the database and table in the DSN.  Do not use this tool before reading its documentation and checking your backups carefully. \n# Usage: pt-online-schema-change [OPTIONS] DSN\n# DSNParser:1245 14514 DSN string made from options: \n# DSNParser:1183 14514 No DSN to parse\n# DSNParser:1297 14514 DBI:mysql:app;;mysql_read_default_group=client\n# DSNParser:1343 14514 DBI:mysql:app;;mysql_read_default_group=client   undef   undef mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:1352 14514 DBI::db=HASH(0x1b1af0b0) SELECT @@SQL_MODE\n# DSNParser:1359 14514 DBI::db=HASH(0x1b1af0b0) SET @@SQL_QUOTE_SHOW_CREATE = 1/*!40101, @@SQL_MODE='NO_AUTO_VALUE_ON_ZERO,NO_AUTO_VALUE_ON_ZERO,STRICT_TRANS_TABLES,STRICT_ALL_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,TRADITIONAL,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION'*/\n# DSNParser:1378 14514 DBI::db=HASH(0x1b1af0b0) : SET wait_timeout=10000\n# DSNParser:1404 14514 DBH info:  DBI::db=HASH(0x1b1af0b0) $VAR1 = {\n#   '@@hostname' => 'server',\n#   'CONNECTION_ID()' => '24807',\n#   'DATABASE()' => 'app',\n#   'VERSION()' => '5.5.16-log'\n# };\n#  Connection info: Localhost via UNIX socket Character set info: $VAR1 = [\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_client'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_connection'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_database'\n#   },\n#   {\n#     Value => 'binary',\n#     Variable_name => 'character_set_filesystem'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_results'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_server'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_system'\n#   },\n#   {\n#     Value => '/usr/share/mysql/charsets/',\n#     Variable_name => 'character_sets_dir'\n#   }\n# ];\n#  $DBD::mysql::VERSION: 4.010 $DBI::VERSION: 1.609\n# Cxn:2766 14514 DBI::db=HASH(0x1b1af0b0) Connected dbh to undef\n# Cxn:2779 14514 DBI::db=HASH(0x1b1af0b0) Setting dbh\n# Cxn:2784 14514 DBI::db=HASH(0x1b1af0b0) SELECT @@hostname, @@server_id\n# Cxn:2786 14514 DBI::db=HASH(0x1b1af0b0) hostname: server 149207190\n# pt_online_schema_change:5004 14514 SET SESSION innodb_lock_wait_timeout=1\n# VersionParser:1060 14514 5.5.16-log parses to 005005016\n# VersionParser:1060 14514 5.0.10 parses to 005000010\n# VersionParser:1071 14514 005005016 ge 5.0.10 : 1\n# MasterSlave:2874 14514 Slave recursion method: undef\n# MasterSlave:2922 14514 Connected to D=app,t=CityPopularity\n# MasterSlave:2931 14514 SELECT @@SERVER_ID\n# MasterSlave:2933 14514 Working on server ID 149207190\n# MasterSlave:2977 14514 Looking for slaves on D=app,t=CityPopularity using methods processlist hosts\n# MasterSlave:2984 14514 Finding slaves with _find_slaves_by_processlist\n# MasterSlave:3051 14514 DBI::db=HASH(0x1b1af0b0) SHOW GRANTS FOR CURRENT_USER()\n# MasterSlave:3081 14514 DBI::db=HASH(0x1b1af0b0) SHOW PROCESSLIST\n# MasterSlave:2984 14514 Finding slaves with _find_slaves_by_hosts\n# MasterSlave:3018 14514 DBI::db=HASH(0x1b1af0b0) SHOW SLAVE HOSTS\n# MasterSlave:2989 14514 Found 0 slaves\n# pt_online_schema_change:5087 14514 0 slaves found\n# pt_online_schema_change:5098 14514 Will check slave lag on all slaves\n# pt_online_schema_change:5106 14514 Checking slave replication filters\n# MySQLStatusWaiter:3692 14514 Parsing spec for max thresholds\n# MySQLStatusWaiter:3737 14514 Wait if Threads_running >= 25\n# MySQLStatusWaiter:3699 14514 Parsing spec for critical thresholds\n# MySQLStatusWaiter:3737 14514 Wait if Threads_running >= 50\n# TableParser:2261 14514 Checking `app`.`CityPopularity`\n# TableParser:2265 14514 SHOW TABLES FROM `app` LIKE 'CityPopularity'\n# TableParser:2279 14514 Table exists; no privs to check\n# pt_online_schema_change:6150 14514 SHOW TRIGGERS FROM `app` LIKE 'CityPopularity'\n# TableParser:2090 14514 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:2095 14514 DBI::db=HASH(0x1b1af0b0) USE `app`\n# TableParser:2099 14514 SHOW CREATE TABLE `app`.`CityPopularity`\n# TableParser:2111 14514 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# TableParser:2320 14514 Storage engine: InnoDB\n# TableParser:2141 14514 Table cols: `ufi`, `guest_language`, `guest_country`, `score`\n# TableParser:2320 14514 Storage engine: InnoDB\n# TableParser:2336 14514 Parsed key: PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n# TableParser:2362 14514 PRIMARY key cols: `ufi`, `guest_language`, `guest_country`\n# TableParser:2384 14514 This key is the clustered key\n# TableParser:2336 14514 Parsed key: KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n# TableParser:2362 14514 guest_language key cols: `guest_language`, `guest_country`, `score`\n# NibbleIterator:4392 14514 EXPLAIN SELECT * FROM `app`.`CityPopularity` WHERE 1=1\n# NibbleIterator:4394 14514 $VAR1 = {\n#   extra => 'Using index',\n#   id => '1',\n#   key => 'guest_language',\n#   key_len => '8',\n#   possible_keys => undef,\n#   ref => undef,\n#   rows => '24947869',\n#   select_type => 'SIMPLE',\n#   table => 'CityPopularity',\n#   type => 'index'\n# };\n# \n# NibbleIterator:4269 14514 One nibble: no\n# NibbleIterator:4307 14514 MySQL wants to use index guest_language\n# NibbleIterator:4319 14514 Wanted index is a possible index\n# NibbleIterator:4337 14514 No PRIMARY or unique indexes; will use index with highest cardinality\n# NibbleIterator:4368 14514 SHOW INDEXES FROM `app`.`CityPopularity` WHERE Key_name = 'guest_language'\n# NibbleIterator:4378 14514 Index guest_language cardinality: 125366\n# NibbleIterator:4357 14514 Best index: guest_language\n# TableParser:2202 14514 Indexes sorted best-first: PRIMARY, guest_language\n# pt_online_schema_change:6187 14514 Delete trigger index: $VAR1 = 'PRIMARY';\n# \n# pt_online_schema_change:6208 14514 Finding child tables\n# pt_online_schema_change:6214 14514 SELECT table_schema, table_name FROM information_schema.key_column_usage WHERE constraint_schema='app' AND referenced_table_name='CityPopularity'\n# pt_online_schema_change:6217 14514 No child tables found\nAltering `app`.`CityPopularity`...\n# CleanupTask:4856 14514 Created cleanup task CODE(0x1b68ebe0)\n# TableParser:2090 14514 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:2095 14514 DBI::db=HASH(0x1b1af0b0) USE `app`\n# TableParser:2099 14514 SHOW CREATE TABLE `app`.`CityPopularity`\n# TableParser:2111 14514 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\nCreating new table...\n# pt_online_schema_change:6032 14514 CREATE TABLE `app`.`_CityPopularity_new` (\n#   `ufi` int(11) NOT NULL,\n#   `guest_language` char(2) NOT NULL,\n#   `guest_country` char(2) NOT NULL,\n#   `score` int(10) unsigned NOT NULL,\n#   PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n#   KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n# ) ENGINE=InnoDB DEFAULT CHARSET=latin1\n# pt_online_schema_change:6032 14514 CREATE TABLE `app`.`__CityPopularity_new` (\n#   `ufi` int(11) NOT NULL,\n#   `guest_language` char(2) NOT NULL,\n#   `guest_country` char(2) NOT NULL,\n#   `score` int(10) unsigned NOT NULL,\n#   PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n#   KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n# ) ENGINE=InnoDB DEFAULT CHARSET=latin1\n# pt_online_schema_change:6032 14514 CREATE TABLE `app`.`___CityPopularity_new` (\n#   `ufi` int(11) NOT NULL,\n#   `guest_language` char(2) NOT NULL,\n#   `guest_country` char(2) NOT NULL,\n#   `score` int(10) unsigned NOT NULL,\n#   PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n#   KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n# ) ENGINE=InnoDB DEFAULT CHARSET=latin1\nCreated new table app.___CityPopularity_new OK.\nAltering new table...\n# pt_online_schema_change:5436 14514 ALTER TABLE `app`.`___CityPopularity_new` add guy char(2)\nAltered `app`.`___CityPopularity_new` OK.\n# TableParser:2090 14514 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:2095 14514 DBI::db=HASH(0x1b1af0b0) USE `app`\n# TableParser:2099 14514 SHOW CREATE TABLE `app`.`___CityPopularity_new`\n# TableParser:2111 14514 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# TableParser:2320 14514 Storage engine: InnoDB\n# TableParser:2141 14514 Table cols: `ufi`, `guest_language`, `guest_country`, `score`, `guy`\n# TableParser:2320 14514 Storage engine: InnoDB\n# TableParser:2336 14514 Parsed key: PRIMARY KEY (`ufi`,`guest_language`,`guest_country`),\n# TableParser:2362 14514 PRIMARY key cols: `ufi`, `guest_language`, `guest_country`\n# TableParser:2384 14514 This key is the clustered key\n# TableParser:2336 14514 Parsed key: KEY `guest_language` (`guest_language`,`guest_country`,`score`)\n# TableParser:2362 14514 guest_language key cols: `guest_language`, `guest_country`, `score`\n# pt_online_schema_change:5471 14514 Common columns ufi guest_language guest_country score\nCreating triggers...\n# pt_online_schema_change:6476 14514 CREATE TRIGGER `pt_osc_app_CityPopularity_del` AFTER DELETE ON `app`.`CityPopularity` FOR EACH ROW DELETE IGNORE FROM `app`.`___CityPopularity_new` WHERE `app`.`___CityPopularity_new`.`ufi` <=> OLD.`ufi` AND `app`.`___CityPopularity_new`.`guest_language` <=> OLD.`guest_language` AND `app`.`___CityPopularity_new`.`guest_country` <=> OLD.`guest_country`\n# pt_online_schema_change:6476 14514 CREATE TRIGGER `pt_osc_app_CityPopularity_upd` AFTER UPDATE ON `app`.`CityPopularity` FOR EACH ROW REPLACE INTO `app`.`___CityPopularity_new` (`ufi`, `guest_language`, `guest_country`, `score`) VALUES (NEW.`ufi`, NEW.`guest_language`, NEW.`guest_country`, NEW.`score`)\n# pt_online_schema_change:6476 14514 CREATE TRIGGER `pt_osc_app_CityPopularity_ins` AFTER INSERT ON `app`.`CityPopularity` FOR EACH ROW REPLACE INTO `app`.`___CityPopularity_new` (`ufi`, `guest_language`, `guest_country`, `score`) VALUES (NEW.`ufi`, NEW.`guest_language`, NEW.`guest_country`, NEW.`score`)\nCreated triggers OK.\n# NibbleIterator:4392 14514 EXPLAIN SELECT * FROM `app`.`CityPopularity` WHERE 1=1\n# NibbleIterator:4394 14514 $VAR1 = {\n#   extra => 'Using index',\n#   id => '1',\n#   key => 'guest_language',\n#   key_len => '8',\n#   possible_keys => undef,\n#   ref => undef,\n#   rows => '24947869',\n#   select_type => 'SIMPLE',\n#   table => 'CityPopularity',\n#   type => 'index'\n# };\n# \n# NibbleIterator:4269 14514 One nibble: no\n# NibbleIterator:4307 14514 MySQL wants to use index guest_language\n# NibbleIterator:4319 14514 Wanted index is a possible index\n# NibbleIterator:4337 14514 No PRIMARY or unique indexes; will use index with highest cardinality\n# NibbleIterator:4368 14514 SHOW INDEXES FROM `app`.`CityPopularity` WHERE Key_name = 'guest_language'\n# NibbleIterator:4378 14514 Index guest_language cardinality: 125366\n# NibbleIterator:4357 14514 Best index: guest_language\n# TableNibbler:1824 14514 Will ascend index guest_language\n# TableNibbler:1831 14514 Will ascend columns guest_language, guest_country, score\n# TableNibbler:1842 14514 Will ascend, in ordinal position: 1, 2, 3\n# NibbleIterator:3990 14514 Ascend params: $VAR1 = {\n#   boundaries => {\n#     '<' => '((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` < ?))',\n#     '<=' => '((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?))',\n#     '>' => '((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` > ?))',\n#     '>=' => '((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?))'\n#   },\n#   cols => [\n#     'ufi',\n#     'guest_language',\n#     'guest_country',\n#     'score'\n#   ],\n#   index => 'guest_language',\n#   scols => [\n#     'guest_language',\n#     'guest_language',\n#     'guest_country',\n#     'guest_language',\n#     'guest_country',\n#     'score'\n#   ],\n#   slice => [\n#     1,\n#     1,\n#     2,\n#     1,\n#     2,\n#     3\n#   ],\n#   where => '((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` > ?))'\n# };\n# \n# NibbleIterator:4003 14514 First lower boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `guest_language`, `guest_language`, `guest_country`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) ORDER BY `guest_language`, `guest_country`, `score` LIMIT 1 /*first lower boundary*/\n# NibbleIterator:4028 14514 Last upper boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `guest_language`, `guest_language`, `guest_country`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) ORDER BY `guest_language` DESC, `guest_country` DESC, `score` DESC LIMIT 1 /*last upper boundary*/\n# NibbleIterator:4039 14514 Upper boundary statement: SELECT /*!40001 SQL_NO_CACHE */ `guest_language`, `guest_language`, `guest_country`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) ORDER BY `guest_language`, `guest_country`, `score` LIMIT ?, 2 /*next chunk boundary*/\n# NibbleIterator:4051 14514 Nibble statement: INSERT LOW_PRIORITY IGNORE INTO `app`.`___CityPopularity_new` (`ufi`, `guest_language`, `guest_country`, `score`) SELECT `ufi`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) AND ((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?)) /*pt-online-schema-change 14514 copy nibble*/\n# NibbleIterator:4063 14514 Explain nibble statement: EXPLAIN SELECT `ufi`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) AND ((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?)) /*explain pt-online-schema-change 14514 copy nibble*/\n# NibbleIterator:4066 14514 Initial chunk size (LIMIT): 999\n# NibbleIterator:4400 14514 Preparing statement handles\n# NibbleIterator:4428 14514 First lower boundary: $VAR1 = [\n#   'ar',\n#   'ar',\n#   'ae',\n#   'ar',\n#   'ae',\n#   '7'\n# ];\n# \n# NibbleIterator:4444 14514 Next lower boundary: $VAR1 = [\n#   'ar',\n#   'ar',\n#   'ae',\n#   'ar',\n#   'ae',\n#   '7'\n# ];\n# \nCopying approximately 24947869 rows...\n# NibbleIterator:4117 14514 init callback returned 1\n# pt_online_schema_change:6700 14514 EXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `guest_language`, `guest_language`, `guest_country`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) ORDER BY `guest_language`, `guest_country`, `score` LIMIT ?, 2 /*next chunk boundary*/ params: ar ar ae ar ae 7 1000\n# pt_online_schema_change:6709 14514 EXPLAIN plan: $VAR1 = {\n#   extra => 'Using where; Using index',\n#   id => '1',\n#   key => 'guest_language',\n#   key_len => '8',\n#   possible_keys => 'guest_language',\n#   ref => undef,\n#   rows => '13715894',\n#   select_type => 'SIMPLE',\n#   table => 'CityPopularity',\n#   type => 'range'\n# };\n# \n# NibbleIterator:4498 14514 next_boundaries callback returned 1\n# NibbleIterator:4506 14514 SELECT /*!40001 SQL_NO_CACHE */ `guest_language`, `guest_language`, `guest_country`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) ORDER BY `guest_language`, `guest_country`, `score` LIMIT ?, 2 /*next chunk boundary*/ params: ar, ar, ae, ar, ae, 7 999\n# NibbleIterator:4509 14514 Next boundary: $VAR1 = [\n#   [\n#     'ar',\n#     'ar',\n#     'ae',\n#     'ar',\n#     'ae',\n#     '7'\n#   ],\n#   [\n#     'ar',\n#     'ar',\n#     'ae',\n#     'ar',\n#     'ae',\n#     '7'\n#   ]\n# ];\n# \n# NibbleIterator:4130 14514 INSERT LOW_PRIORITY IGNORE INTO `app`.`___CityPopularity_new` (`ufi`, `guest_language`, `guest_country`, `score`) SELECT `ufi`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) AND ((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?)) /*pt-online-schema-change 14514 copy nibble*/ params: ar, ar, ae, ar, ae, 7, ar, ar, ae, ar, ae, 7\n# pt_online_schema_change:6700 14514 EXPLAIN SELECT `ufi`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) AND ((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?)) /*explain pt-online-schema-change 14514 copy nibble*/ params: ar ar ae ar ae 7 ar ar ae ar ae 7\n# pt_online_schema_change:6709 14514 EXPLAIN plan: $VAR1 = {\n#   extra => 'Using where; Using index',\n#   id => '1',\n#   key => 'guest_language',\n#   key_len => '8',\n#   possible_keys => 'guest_language',\n#   ref => undef,\n#   rows => '2853',\n#   select_type => 'SIMPLE',\n#   table => 'CityPopularity',\n#   type => 'range'\n# };\n# \n# Retry:2659 14514 Try 1 of 3\n# pt_online_schema_change:6589 14514 INSERT LOW_PRIORITY IGNORE INTO `app`.`___CityPopularity_new` (`ufi`, `guest_language`, `guest_country`, `score`) SELECT `ufi`, `guest_language`, `guest_country`, `score` FROM `app`.`CityPopularity` FORCE INDEX(`guest_language`) WHERE ((`guest_language` > ?) OR (`guest_language` = ? AND `guest_country` > ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` >= ?)) AND ((`guest_language` < ?) OR (`guest_language` = ? AND `guest_country` < ?) OR (`guest_language` = ? AND `guest_country` = ? AND `score` <= ?)) /*pt-online-schema-change 14514 copy nibble*/ lower boundary: ar ar ae ar ae 7 upper boundary: ar ar ae ar ae 7\n# pt_online_schema_change:6606 14514 SHOW WARNINGS\n# Retry:2676 14514 Try code succeeded\n# pt_online_schema_change:5706 14514 Nibble time: 0.042794942855835\n# NibbleIterator:4138 14514 0 rows in nibble 1\n# NibbleIterator:4150 14514 No rows in nibble or nibble skipped\n# pt_online_schema_change:5729 14514 Average copy rate (rows/s): 66690\n# WeightedAvgRate:3867 14514 Master op time: 2854 n / 0.042794942855835 s\n# WeightedAvgRate:3879 14514 Initial avg rate: 66690.1229337864 n/s\n# WeightedAvgRate:3883 14514 Adjust n to 33345\n# NibbleIterator:4233 14514 Set new chunk size (LIMIT): 33345\n# ReplicaLagWaiter:3651 14514 All slaves caught up\n# MySQLStatusWaiter:3784 14514 Checking status variables\n# pt_online_schema_change:5185 14514 SHOW GLOBAL STATUS LIKE ? Threads_running\n# MySQLStatusWaiter:3787 14514 Threads_running = 1\n# MySQLStatusWaiter:3814 14514 All var vals are low enough\n# NibbleIterator:4474 14514 Infinite loop detected\nError copying rows from `app`.`CityPopularity` to `app`.`___CityPopularity_new`: Possible infinite loop detected!  The lower boundary for chunk 1 is <ar, ar, ae, ar, ae, 7> and the lower boundary for chunk 2 is also <ar, ar, ae, ar, ae, 7>.  This usually happens when using a non-unique single column index.  The current chunk index for table app.CityPopularity is guest_language which is not unique and covers 3 columns.\n\n# NibbleIterator:4556 14514 Finish nibble_sth\n# NibbleIterator:4556 14514 Finish ub_sth\n# NibbleIterator:4556 14514 Finish explain_nibble_sth\n# NibbleIterator:4556 14514 Finish explain_ub_sth\n# CleanupTask:4863 14514 Calling cleanup task CODE(0x1b68ebe0)\n# pt_online_schema_change:5482 14514 Clean up triggers\nDropping triggers...\n# pt_online_schema_change:6516 14514 DROP TRIGGER IF EXISTS `app`.`pt_osc_app_CityPopularity_del`;\n# pt_online_schema_change:6516 14514 DROP TRIGGER IF EXISTS `app`.`pt_osc_app_CityPopularity_upd`;\n# pt_online_schema_change:6516 14514 DROP TRIGGER IF EXISTS `app`.`pt_osc_app_CityPopularity_ins`;\nDropped triggers OK.\nError cleaning up: Undefined subroutine &main::_ called at /usr/bin/pt-online-schema-change line 5390.\n\n# pt_online_schema_change:5339 14514 Clean up done, report if orig table was altered\n`app`.`CityPopularity` was not altered.\n# Cxn:2819 14514 Disconnecting dbh DBI::db=HASH(0x1b1af0b0) undef", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994002/related_tasks", 
"date_assigned": "2012-05-15T21:07:20.953108+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change 2.1.1 doesn't choose the PRIMARY KEY", 
"title": "Bug #994002 in Percona Toolkit: \"pt-online-schema-change 2.1.1 doesn't choose the PRIMARY KEY\"", 
"date_confirmed": "2012-05-03T21:01:29.004371+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/994002", 
"date_left_new": "2012-05-03T21:01:29.004371+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/994002", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"5d55bc4f08fbe75f122a76cbc5ee343939e01e24-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~metalink", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-16T16:48:52.085927+00:00", 
"date_fix_released": "2012-06-19T20:04:06.429813+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994002", 
"date_created": "2012-05-03T14:10:13.358483+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"infinite-loop", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:03:58.361354+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-03T21:00:52.352032+00:00", 
"bug_id": 994176, 
"date_in_progress": "2012-05-10T20:42:10.083748+00:00", 
"bug_description": "Per summary:\n\n\n$ pt-diskstats --group-by=all --dev=sdb\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  0.8 sdb      308.0    16.0     4.8     0%    3.6    11.5   614.8    25.7    15.5     0%    0.1     0.1  99%      3   922.8    2.9   1.1\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      322.0    16.0     5.0     0%    4.1    12.7   519.0    25.5    12.9    14%    0.2     0.3 100%      4   841.0    3.5   1.1\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      334.0    16.0     5.2     0%    2.9     8.7    65.0    25.7     1.6    56%    0.0     0.0 100%      4   399.0    3.9   2.1\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      405.0    16.0     6.3     0%    3.8     9.4   117.0    24.4     2.8    43%    0.0     0.1 100%      3   522.0    4.6   1.6\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      348.0    16.0     5.4     0%    2.9     8.3   249.0    25.2     6.1    35%    0.0     0.0  99%      0   597.0    2.6   1.3\n\n$ pt-diskstats --group-by=all --dev=sdb --headers=scroll\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  0.7 sdb      353.4    16.0     5.5     0%    3.1     8.8    52.0    23.2     1.2     0%    0.0     0.0  99%      1   405.5    5.3   2.4\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      366.0    16.0     5.7     0%    3.3     9.1    66.0    27.0     1.7    57%    0.0     0.0 100%      6   432.0    4.4   1.9\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 sdb      427.0    16.0     6.7     0%    3.8     8.9    87.0    24.0     2.0    53%    0.0     0.0 100%      2   514.0    4.6   1.6", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994176/related_tasks", 
"date_assigned": "2012-05-10T20:42:15.509829+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats --group-by=all --headers=scroll prints a header for every sample", 
"title": "Bug #994176 in Percona Toolkit: \"pt-diskstats --group-by=all --headers=scroll prints a header for every sample\"", 
"date_confirmed": "2012-05-03T21:00:52.352032+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/994176", 
"date_left_new": "2012-05-03T21:00:52.352032+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/994176", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"3a9d83be86d9429231a31ae5197ec1f26a9b93a2-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-11T14:31:27.820453+00:00", 
"date_fix_released": "2012-06-19T20:03:58.361354+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/994176", 
"date_created": "2012-05-03T19:44:41.464583+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats", 
"wrong-output"
]
}, 
{
"date_closed": "2012-06-19T20:03:55.078077+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-08T14:41:43.961642+00:00", 
"bug_id": 995274, 
"date_in_progress": "2012-05-08T15:59:24.228099+00:00", 
"bug_description": "Command line : /usr/bin/pt-table-checksum -q\nTool Version: pt-table-checksum 2.1.1\nMySQL Version of all servers involved: MySQL 5.1.59\n\n\nI've hit this odd quirk with pt-table-checksum.  It seems to be failing to checksum a particular table for some reason:\n\n05-05T16:31:07 Cannot checksum table rt3.GroupMembers: Can't use an undefined value as an ARRAY reference at /usr/bin/pt-table-checksum line 2206.\n\nmysql> show create table GroupMembers\\G\n*************************** 1. row ***************************\n       Table: GroupMembers\nCreate Table: CREATE TABLE `GroupMembers` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `GroupId` int(11) NOT NULL DEFAULT '0',\n  `MemberId` int(11) NOT NULL DEFAULT '0',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `GroupMembers1` (`GroupId`,`MemberId`),\n  UNIQUE KEY `SHREDDER_GM1` (`MemberId`,`GroupId`)\n) ENGINE=InnoDB AUTO_INCREMENT=944016 DEFAULT CHARSET=utf8\n1 row in set (0.00 sec)\n\nThere doesn't appear to be anything sensitive about the data, so I've attached it to this ticket, if that's of any use.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/995274/related_tasks", 
"date_assigned": "2012-05-08T22:41:50.446908+00:00", 
"bug_information_type": "Public", 
"bug_title": "Can't use an undefined value as an ARRAY reference at pt-table-checksum line 2206", 
"title": "Bug #995274 in Percona Toolkit: \"Can't use an undefined value as an ARRAY reference at pt-table-checksum line 2206\"", 
"date_confirmed": "2012-05-08T14:41:43.961642+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/995274", 
"date_left_new": "2012-05-08T14:41:43.961642+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/995274", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"0e90830d247160922c4b38461d567f089cd9fbe2-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~twirrim", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-08T23:27:54.065533+00:00", 
"date_fix_released": "2012-06-19T20:03:55.078077+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/995274", 
"date_created": "2012-05-05T22:11:56.193648+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"crash", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:03:50.794612+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-16T23:18:07.369285+00:00", 
"bug_id": 996110, 
"date_in_progress": "2012-05-16T23:18:07.369285+00:00", 
"bug_description": "See bug 994010.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996110/related_tasks", 
"date_assigned": "2012-05-16T23:18:13.691928+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum crashes if InnoDB is disabled", 
"title": "Bug #996110 in Percona Toolkit: \"pt-table-checksum crashes if InnoDB is disabled\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/996110", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996110", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"9691a779a5f5f571107ff5b9169218394f3aed57-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-16T23:23:52.356317+00:00", 
"date_fix_released": "2012-06-19T20:03:50.794612+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996110", 
"date_created": "2012-05-07T18:37:08.104107+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"percona-23123", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:03:24.629385+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-09T13:38:09.392473+00:00", 
"bug_id": 996915, 
"date_in_progress": "2012-05-25T18:10:09.249390+00:00", 
"bug_description": "If --max-load and/or --critical-load are not in the correct format, the tool \"crashes\" without a good error message:\n\nwgunty@dba1001:~$ pt-online-schema-change --max-load 1000  - --host HOST --user=USER --password='PASS!' --alter \"ALTER HERE\" D=db,t=table --execute\n\nUse of uninitialized value in multiplication (*) at /usr/bin/pt-online-schema-change line 3735.\n\n\nExpected behavior should error and state that an invalid format has been entered.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996915/related_tasks", 
"date_assigned": "2012-05-25T17:10:37.044587+00:00", 
"bug_information_type": "Public", 
"bug_title": "Invalid --max-load and --critical-load crash pt-online-schema-change", 
"title": "Bug #996915 in Percona Toolkit: \"Invalid --max-load and --critical-load crash pt-online-schema-change\"", 
"date_confirmed": "2012-05-09T13:38:09.392473+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/996915", 
"date_left_new": "2012-05-09T13:38:09.392473+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996915", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"7ab7e4e6627f316fb75c0f1fdee275d1d74c2043-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~ccx-will-ehv", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-25T21:44:12.919698+00:00", 
"date_fix_released": "2012-06-19T20:03:24.629385+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996915", 
"date_created": "2012-05-09T05:16:08.693619+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"option-parsing", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:03:28.531172+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-06-12T16:01:09.890346+00:00", 
"bug_id": 997155, 
"date_in_progress": "2012-06-12T16:01:09.890346+00:00", 
"bug_description": "Hi,\n\nWe have a RBR setup and also limited permissons for the related MySQL user.\nSo, this command\n\nSET @@binlog_format=\"STATEMENT\n\nis causing problems in our systems. I think it needs to be controlled with an \noption to be able to override. I'm attaching a patch for this. The search\nfunctionality in this bug tracker is giving me not found errors. Sorry if\nthere is an already existing related bug.\n\nThanks,\nBurak\n\nRelevant additional info:\n\nI'm using pt-table-sync 2.1.1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997155/related_tasks", 
"date_assigned": "2012-06-12T01:31:36.775251+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync sets binlog_format needlessly", 
"title": "Bug #997155 in Percona Toolkit: \"pt-table-sync sets binlog_format needlessly\"", 
"date_confirmed": "2012-05-15T01:25:27.743483+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/997155", 
"date_left_new": "2012-05-15T01:25:27.743483+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/997155", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"eef5d59e23f917549d4903889bd395ca3979ee10-0e1e7bed5e6b05115bee0b55520726c3e7665bf1\"", 
"owner_link": "https://api.launchpad.net/devel/~burakgursoy-9", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-12T16:01:09.890346+00:00", 
"date_fix_released": "2012-06-19T20:03:28.531172+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997155", 
"date_created": "2012-05-09T15:13:36.880417+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"privs", 
"pt-table-sync", 
"rbr", 
"useless-work"
]
}, 
{
"date_closed": "2012-06-19T20:03:33.345477+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-14T17:47:41.855399+00:00", 
"bug_id": 998831, 
"date_in_progress": "2012-05-14T17:47:41.855399+00:00", 
"bug_description": "pt-osc should have an option to not drop the new table on a failure.  I just had a failure on an extremely large table (1+B rows) and due to our large buffer pool and an open mysql bug (http://bugs.mysql.com/bug.php?id=64284), the drop of the new table resulted in stalling the server and taking the website down.\n\nHaving an option to leave the table and drop it manually would help mitigate this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/998831/related_tasks", 
"date_assigned": "2012-05-14T17:39:48.647383+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change -- Should have an option to NOT drop tables on failure", 
"title": "Bug #998831 in Percona Toolkit: \"pt-online-schema-change -- Should have an option to NOT drop tables on failure\"", 
"date_confirmed": "2012-05-14T16:33:00.032740+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/998831", 
"date_left_new": "2012-05-14T16:33:00.032740+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/998831", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"d4045eba4d47cfe69c1c4b0cb839fe8af9a8c3e5-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~ccx-will-ehv", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-25T22:12:03.599708+00:00", 
"date_fix_released": "2012-06-19T20:03:33.345477+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/998831", 
"date_created": "2012-05-13T17:32:25.100374+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"percona-23453", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:03:37.988489+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-30T18:54:46.258586+00:00", 
"bug_id": 1002448, 
"date_in_progress": "2012-05-30T18:54:46.258586+00:00", 
"bug_description": "show create table_name;\n\nCREATE TABLE ` table_name` (\n  `site` varchar(20) NOT NULL DEFAULT '',\n  `update_name` varchar(32) NOT NULL DEFAULT '',\n  `user` varchar(64) NOT NULL DEFAULT '',\n  `time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',\n  `type` enum('aaa','bbb','ccc','ddd') NOT NULL DEFAULT 'update',\n  `value` varchar(64) NOT NULL DEFAULT '',\n  UNIQUE KEY `site` (`site`,`update_name`,`user`,`value`),\n  KEY `user` (`user`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1\n\nError:\n\nThe original table `db`.`table_name` does not have a PRIMARY KEY or a unique index which is required for the DELETE trigger.\n\n\n\nThis appears to be a typo when looking for unique or primary keys in the table def.  should be keys NOT indexes \n\n Fixed with the following patch:\n\n6184c6184\n<    my $indexes = $orig_tbl->{tbl_struct}->{keys}; # brevity\n---\n>    my $indexes = $orig_tbl->{tbl_struct}->{indexes}; # brevity", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002448/related_tasks", 
"date_assigned": "2012-05-23T14:36:41.495407+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change: typo for finding usable indexes ", 
"title": "Bug #1002448 in Percona Toolkit: \"pt-online-schema-change: typo for finding usable indexes \"", 
"date_confirmed": "2012-05-23T14:27:39.513406+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1002448", 
"date_left_new": "2012-05-23T14:27:39.513406+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1002448", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"36284b4e22eac8ee98923fe24104dbe342836c6c-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~zi", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:54:46.258586+00:00", 
"date_fix_released": "2012-06-19T20:03:37.988489+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002448", 
"date_created": "2012-05-21T19:03:52.096224+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change", 
"typo"
]
}, 
{
"date_closed": "2012-06-19T20:03:42.131963+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-23T14:29:04.584478+00:00", 
"bug_id": 1003003, 
"date_in_progress": "2012-05-30T18:54:39.951094+00:00", 
"bug_description": "Someone Skype-chatted to me to mention that pt-online-schema-change appeared to chunk by primary key on his table, but chose the table's unique index for the triggers. This is probably not desirable. It may also lead to deadlocks.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003003/related_tasks", 
"date_assigned": "2012-05-23T14:36:17.577530+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change uses different keys for chunking and triggers", 
"title": "Bug #1003003 in Percona Toolkit: \"pt-online-schema-change uses different keys for chunking and triggers\"", 
"date_confirmed": "2012-05-23T14:29:04.584478+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1003003", 
"date_left_new": "2012-05-23T14:29:04.584478+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1003003", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f82fd92fc2b5fc70ccca2e5eea4d38ebc7618eab-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:54:39.951094+00:00", 
"date_fix_released": "2012-06-19T20:03:42.131963+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003003", 
"date_created": "2012-05-22T16:47:23.013978+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:05:09.699097+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-05-23T14:34:44.454475+00:00", 
"bug_id": 1003315, 
"date_in_progress": "2012-05-30T18:54:32.599345+00:00", 
"bug_description": "pt-online-schema-change  --dry-run always fails if a table has a foreign key.\nSame command with --execute works.\n\nsteps to reproduce\n===============\n1. Create the following tables\nuse harm_test;\n\nDROP TABLE IF EXISTS `B`;\nDROP TABLE IF EXISTS `A`;\nCREATE TABLE `A` (\n\u00a0\u00a0`id` int(11) NOT NULL AUTO_INCREMENT,\n\u00a0\u00a0`foo` varchar(30) NOT NULL,\n\u00a0\u00a0PRIMARY KEY (`id`)\n) ENGINE=InnoDB;\n\nDROP TABLE IF EXISTS `B`;\nCREATE TABLE `B` (\n\u00a0\u00a0`id` int(11) NOT NULL AUTO_INCREMENT,\n\u00a0\u00a0`a` int(11) NOT NULL,\n\u00a0\u00a0KEY `9dde1f34` (`a`),\n\u00a0\u00a0PRIMARY KEY (`id`),\n\u00a0\u00a0CONSTRAINT `6970ddb42bec57fc` FOREIGN KEY (`a`) REFERENCES `A` (`id`)\n) ENGINE=InnoDB;\n\nINSERT INTO `A` VALUES (1,'bar'), (2,'bar2'), (3,'bar3');\nINSERT INTO `B` VALUES (1, 1), (2, 2), (3, 1);\n\n2. then run pt-online-schema-change\n\u00a0pt-online-schema-change  --alter \"ENGINE=InnoDB\" D=harm_test,t=A --user harm --password harm --alter-foreign-keys-method auto --dry-run || echo failed\n\nexpected result\n============\n1. No errors are shown\n2. executable exits with a OK return value (0)\n\nactual result\n==========\n1. you get this error message \"Error updating foreign key constraints: Invalid --alter-foreign-keys-method: \"\n2. executable exits with an ERROR value  (  || echo failed   -> fires )  making it hard to use it in scripts\n\n{{{\nharm@dev3:$ pt-online-schema-change  --alter \"ENGINE=InnoDB\" D=harm_test,t=A --user harm --password harm --alter-foreign-keys-method auto --lock-wait-time=50 --dry-run || echo failed\nChild tables:\n\u00a0\u00a0`harm_test`.`B` (approx. 3 rows)\nWill automatically choose the method to update foreign keys.\nStarting a dry run.  `harm_test`.`A` will not be altered.  Specify --execute instead of --dry-run to alter the table.\nCreating new table...\nCreated new table harm_test._A_new OK.\nAltering new table...\nAltered `harm_test`.`_A_new` OK.\nNot creating triggers because this is a dry run.\nNot copying rows because this is a dry run.\nNot determining the method to update foreign keys because this is a dry run.\nNot swapping tables because this is a dry run.\nError updating foreign key constraints: Invalid --alter-foreign-keys-method:\n\nNot dropping triggers because this is a dry run.\nDropping new table...\nDropped new table OK.\nDry run complete.  `harm_test`.`A` was not altered.\nfailed\n}}}\n\n\n\nversion info\n============\nmysql 5.1.62-0ubuntu0.10.04.1\npercona-toolkit-2.1.1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003315/related_tasks", 
"date_assigned": "2012-05-23T14:36:31.236277+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change --dry-run always fails on table with foreign keys", 
"title": "Bug #1003315 in Percona Toolkit: \"pt-online-schema-change --dry-run always fails on table with foreign keys\"", 
"date_confirmed": "2012-05-23T14:34:44.454475+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1003315", 
"date_left_new": "2012-05-23T14:34:44.454475+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1003315", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f867e85a77c8b5960ead1f288149521e7c9d62b7-4b2d23eeb4441306c42c78904541bf7799096eeb\"", 
"owner_link": "https://api.launchpad.net/devel/~harm-verhagen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-30T18:54:32.599345+00:00", 
"date_fix_released": "2012-06-19T20:05:09.699097+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003315", 
"date_created": "2012-05-23T09:34:11.829691+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:15:17.781607+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-06-07T21:20:41.112303+00:00", 
"bug_id": 1004567, 
"date_in_progress": "2012-07-20T21:24:47.953136+00:00", 
"bug_description": "I am using pt-heartbeat with MySQL that is configured in a HA setup. \n LoadBalancer(VIP) \n              | \nM1(RW)<--->M2(RW) \n| \n          +----+----+ \nS1(R)     S2(R) \nI am using pt-heartbeat version 1.0.1 \n\nI send out a heartbeat every two minutes to the active writer via cron \nto the load balancer Virtual IP Address. \n\n*/2 * * * *  /usr/bin/pt-heartbeat -D test --update --replace --create- \ntable -h  LBVIP  -P LBPORT --run-time 1 \n\nWhen I do a failover I get duplicate key errors on the secondary \nmaster M2. On failback i get duplicate key error on Master M1. \n\nLast_Error: Error 'Duplicate entry '8806' for key 'PRIMARY'' on query. \nDefault database: 'test'. Query: 'INSERT INTO `test`.`heartbeat` \n(server_id, ts) VALUES ('8806', NOW())' \n\nI am using the --update --replace options but i believe based on my \nreplication errors that it is doing an insert not a replace. \n\nAm i hitting a bug with pt-heartbeat or do i have to change my method \nof sending heartbeat?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1004567/related_tasks", 
"date_assigned": "2012-07-20T21:24:51.442291+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat --update --replace causes duplicate key error", 
"title": "Bug #1004567 in Percona Toolkit: \"pt-heartbeat --update --replace causes duplicate key error\"", 
"date_confirmed": "2012-06-07T21:20:41.112303+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1004567", 
"date_left_new": "2012-06-07T21:20:41.112303+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1004567", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"661d2eb042bd8d37c55a69575deb5deca7626fa7-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~deviant-dolphin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-20T22:17:56.043607+00:00", 
"date_fix_released": "2012-08-10T18:15:17.781607+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1004567", 
"date_created": "2012-05-25T16:06:36.397678+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"duplicate-key", 
"pt-heartbeat"
]
}, 
{
"date_closed": "2012-06-21T19:49:37.565727+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-06-10T01:00:20.918710+00:00", 
"bug_id": 1008131, 
"date_in_progress": "2012-06-10T01:00:20.918710+00:00", 
"bug_description": "Here is a laundry list of test failures on MySQL 5.5. I will attach it as a file so formatting is preserved.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008131/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Test failures on MySQL 5.5", 
"title": "Bug #1008131 in Percona Toolkit: \"Test failures on MySQL 5.5\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1008131", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1008131", 
"milestone_link": null, 
"http_etag": "\"92918cf1529afa8e8f7ade6d9a65e3a276f0b462-402234df5576802f3164f5e61b285f0c6b0ead3b\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:05:05.686730+00:00", 
"date_fix_released": "2012-06-21T19:49:37.565727+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008131", 
"date_created": "2012-06-03T15:59:59.080138+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-23T06:30:08.136538+00:00", 
"bug_id": 1009510, 
"date_in_progress": "2012-08-23T06:30:08.136538+00:00", 
"bug_description": "pt-table-checksum can break replication if a database or table doesn't exist on a replica, or if its schema is different. (Related bug report: bug 949653, which we closed by documenting this behavior.) The risk is serious enough, and the fix is reasonable enough, that this should be recognized as a bug in the tool. Before running checksum queries against a table, we should check that the table exists and has all the columns that we're going to checksum on the master. We should warn, but not error, if the replica's table has additional columns. Sometimes people do this intentionally on replicas.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009510/related_tasks", 
"date_assigned": "2012-08-10T19:53:29.214249+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't check that tables exist on all replicas", 
"title": "Bug #1009510 in Percona Toolkit: \"pt-table-checksum doesn't check that tables exist on all replicas\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1009510", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1009510", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"d699c54de2bdcfb64c9a99e887cad870b92afb9c-50534711a81e064d71e63d34dedbae0d7dd366d0\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009510", 
"date_created": "2012-06-06T13:29:04.599918+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:05:05.194354+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-06-11T17:43:40.942910+00:00", 
"bug_id": 1011738, 
"date_in_progress": "2012-06-11T17:43:40.942910+00:00", 
"bug_description": "There's a test case for SKIPPED, but the first chunk is skipped which seems, somehow, to make the SKIPPED count work.  However, if the first chunk skipped is chunk # > 1, then SKIPPED incorrectly shows zero even though chunks were skipped.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011738/related_tasks", 
"date_assigned": "2012-06-11T17:43:27.679164+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum SKIPPED is zero but chunks were skipped", 
"title": "Bug #1011738 in Percona Toolkit: \"pt-table-checksum SKIPPED is zero but chunks were skipped\"", 
"date_confirmed": "2012-06-11T17:43:40.942910+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011738", 
"date_left_new": "2012-06-11T17:43:40.942910+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011738", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"c3d165df3b1f9a9b6182f5b3b5a1b3abbb23bfd9-fb7ae8aaf68bedda1e739c6a3a82777e72b7eec0\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T18:53:43.789971+00:00", 
"date_fix_released": "2012-06-19T20:05:05.194354+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011738", 
"date_created": "2012-06-11T17:43:27.282596+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"wrong-output"
]
}, 
{
"date_closed": "2012-08-29T08:24:25.521760+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-08-29T08:24:25.521760+00:00", 
"bug_id": 1012112, 
"date_in_progress": "2012-08-29T08:24:25.521760+00:00", 
"bug_description": "When running:\n\n  pt-archiver \\\n    --progress 100 \\\n    --statistics \\\n    --why-quit \\\n    --source \"h=${CFG_MYSQL_HOST},D=${CFG_MYSQL_DATABASE},t=${TABLE}\" \\\n    --host \"${CFG_MYSQL_HOST}\" \\\n    --user \"${CFG_MYSQL_USER}\" \\\n    --password \"${CFG_MYSQL_PASSWORD}\" \\\n    --file \"${DIR}/now/%Y-%m-%d-%D.%t\" \\\n    --replace \\\n    --no-check-charset \\\n    --where \"created < \\\"${UNTIL}\\\"\"\n\nUsing http://www.percona.com/redir/downloads/percona-toolkit/2.1.1/percona-toolkit_2.1.1_all.deb on Ubuntu's Precise Pangolin, I'm getting: \n\n  Use of uninitialized value in lc at /usr/bin/pt-archiver line 3960.\n\nAnd that's the end of that.\nI used to run 2.0.0 on Natty using the same script without problems. 2.0.2 on Pangolin has this problem. I upgraded to 2.1.1 but that did not fix it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012112/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Use of uninitialized value in lc at /usr/bin/pt-archiver line 3960.", 
"title": "Bug #1012112 in Percona Toolkit: \"Use of uninitialized value in lc at /usr/bin/pt-archiver line 3960.\"", 
"date_confirmed": "2012-06-19T13:14:45.998625+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1012112", 
"date_left_new": "2012-06-19T13:14:45.998625+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1012112", 
"milestone_link": null, 
"http_etag": "\"37a8dad5506e6d40ca75ce8cd4a1af34007d374b-402234df5576802f3164f5e61b285f0c6b0ead3b\"", 
"owner_link": "https://api.launchpad.net/devel/~kvz", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-29T08:24:25.521760+00:00", 
"date_fix_released": "2012-08-29T08:24:25.521760+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012112", 
"date_created": "2012-06-12T13:00:25.220522+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-archiver"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1012647, 
"date_in_progress": null, 
"bug_description": "\nThe server version is Percona-Server-5.1.63-rel13.4-443.Linux.x86_64\n\n$ perl pt-config-diff ./my.node.cnf h=127.0.0.1\n1 config difference\nVariable                  ./my.node.cnf xxx\n========================= ============= ===========================\nlog_slow_verbosity        full          microtime,query_plan,innodb", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012647/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-config-diff doesn't handle log_slow_verbosity", 
"title": "Bug #1012647 in Percona Toolkit: \"pt-config-diff doesn't handle log_slow_verbosity\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1012647", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1012647", 
"milestone_link": null, 
"http_etag": "\"3bf96214f6f2ab78301cfaa250fd4bed565df109-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012647", 
"date_created": "2012-06-13T12:37:43.217840+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-config-diff"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1013407, 
"date_in_progress": null, 
"bug_description": "There is an error in the pt-find man page. \n\n\"Find InnoDB tables that haven\u2019t been updated in a month, and convert them to MyISAM storage engine (data warehousing, anyone?\n\n        pt-find --mtime +30 --engine InnoDB --exec \"ALTER TABLE %D.%N ENGINE=MyISAM\"\"\n\n\nIt is technically impossible to find InnoDB tables by last modified time because InnoDB does not maintain update time in metadata. \n\nhttp://bugs.mysql.com/bug.php?id=14374\n\nYou can see this in show table status.\n\nName: some_table\n         Engine: InnoDB\n        Version: 10\n     Row_format: Compact\n           Rows: 7\n Avg_row_length: 2340\n    Data_length: 16384\nMax_data_length: 0\n   Index_length: 16384\n      Data_free: 0\n Auto_increment: 8\n    Create_time: 2012-06-11 14:46:48\n    Update_time: NULL\n     Check_time: NULL\n      Collation: latin1_swedish_ci\n       Checksum: NULL\n Create_options: \n        Comment: \n\n-Eric", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1013407/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-find documentation error with mtime and InnoDB", 
"title": "Bug #1013407 in Percona Toolkit: \"pt-find documentation error with mtime and InnoDB\"", 
"date_confirmed": "2012-06-19T18:28:43.371990+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1013407", 
"date_left_new": "2012-06-19T18:28:43.371990+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1013407", 
"milestone_link": null, 
"http_etag": "\"f10a3846ac8517145157227621c971ae65f53163-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~eric-hardway", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1013407", 
"date_created": "2012-06-14T21:39:11.074033+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs", 
"pt-find"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1015590, 
"date_in_progress": null, 
"bug_description": "The \u201cPercona Server features\u201d section in pt-mysql-summary doesn\u2019t recognize renamed variables in Percona Server 5.5.\n\n# Key Percona Server features ################################\n      Table & Index Stats | Not Supported\n     Multiple I/O Threads | Enabled\n     Corruption Resilient | Not Supported\n      Durable Replication | Not Supported\n     Import InnoDB Tables | Not Supported\n     Fast Server Restarts | Not Supported\n         Enhanced Logging | Not Supported\n     Replica Perf Logging | Disabled\n      Response Time Hist. | Not Supported\n          Smooth Flushing | Not Supported\n      HandlerSocket NoSQL | Not Supported\n           Fast Hash UDFs | Unknown\n# Plugins ####################################################\n       InnoDB compression | ACTIVE\n\nThis is probably because of renamed variables. The last line in that sample also needs to be investigated, because apparently the server from which this sample was taken isn't even using the Barracuda file format.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015590/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary not Percona Server 5.5-ready", 
"title": "Bug #1015590 in Percona Toolkit: \"pt-mysql-summary not Percona Server 5.5-ready\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1015590", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1015590", 
"milestone_link": null, 
"http_etag": "\"05191ce38ece5d576789da5f49e69c4713df4546-977fe55f11bd2e45943198c43ee61cfd8fcca331\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015590", 
"date_created": "2012-06-20T14:16:17.115783+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-mysql-summary"
]
}, 
{
"date_closed": "2012-08-10T18:15:27.198611+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-02T18:09:31.531274+00:00", 
"bug_id": 1016114, 
"date_in_progress": "2012-08-02T18:09:31.531274+00:00", 
"bug_description": "As shown in Peter's recent blog post, if you add a column without a default value and make it NOT NULL, pt-online-schema-change will fail during the row-copy phase. We should document this in --alter and mention that a default value is needed for NOT NULL columns.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016114/related_tasks", 
"date_assigned": "2012-08-02T18:09:31.532741+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change docs don't mention default values", 
"title": "Bug #1016114 in Percona Toolkit: \"pt-online-schema-change docs don't mention default values\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1016114", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1016114", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"dfb408a7546c5c89124d4acdf54bd36eb92759c4-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:09:31.531274+00:00", 
"date_fix_released": "2012-08-10T18:15:27.198611+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016114", 
"date_created": "2012-06-21T15:42:20.596021+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:15:34.392880+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-02T18:09:42.125740+00:00", 
"bug_id": 1016127, 
"date_in_progress": "2012-08-02T18:09:42.125740+00:00", 
"bug_description": "DSNParser.pm prints this:\n\n\nCannot connect to MySQL because the Perl DBD::mysql module is not installed or not found.  Run 'perl -MDBD::mysql' to see the directories that Perl searches for DBD::mysql.  If DBD::mysql is not installed, try:\n  Debian/Ubuntu  apt-get install libdbd-mysql-perl\n  RHEL/CentOS    yum install perl-DBD-MySQL\n  OpenSolaris    pgk install pkg:/SUNWapu13dbd-mysql\n\n\nThe hint for OpenSolaris should say \"pkg\" instead of \"pgk\".", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016127/related_tasks", 
"date_assigned": "2012-08-02T18:09:42.127680+00:00", 
"bug_information_type": "Public", 
"bug_title": "Install hint for DBD::mysql is wrong", 
"title": "Bug #1016127 in Percona Toolkit: \"Install hint for DBD::mysql is wrong\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1016127", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1016127", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"fda1489678e1365d44a97dc501a70c6af657912a-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:09:42.125740+00:00", 
"date_fix_released": "2012-08-10T18:15:34.392880+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016127", 
"date_created": "2012-06-21T16:01:56.310577+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-31T23:35:46.531754+00:00", 
"bug_id": 1016131, 
"date_in_progress": "2012-08-31T23:35:46.531754+00:00", 
"bug_description": "If pt-table-checksum is given the --columns option, it can crash:\n\n$ pt-table-checksum --tables mysql.user --columns foo\n06-21T12:03:51 Error checksumming table mysql.user: Use of uninitialized value in concatenation (.) or string at /home/baron/2.1/bin/pt-table-checksum line 3200.\n\n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n06-21T12:03:51      1      0        0       0       0   0.000 mysql.user\n\nThis is because the behavior of --columns is not defined well enough. To fix this, we should modify the tool so that:\n\n1. The documentation states that a --columns list will select all matching columns from the table. If any specified columns don't exist, it is not an error. That is, the columns to be checksummed are an intersection of the columns in the table, and the columns mentioned in --columns.\n\n2. If no columns are to be checksummed, the table should be skipped with this message: \"Skipping $table because all columns are excluded by --columns or --ignore-columns.\"\n\n3. Ensure that the same is true if --ignore-columns filters out all columns.\n\n4. Check other tools that may have --columns or --ignore-columns options also.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016131/related_tasks", 
"date_assigned": "2012-08-20T16:27:50.595544+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum can crash with --columns if none match", 
"title": "Bug #1016131 in Percona Toolkit: \"pt-table-checksum can crash with --columns if none match\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1016131", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1016131", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"741af01b303824fc89cb440a804a23dd480523b7-2b5a8e27186d7a46c07c5f8b64e12771a46b924f\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-09-26T21:15:24.251671+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016131", 
"date_created": "2012-06-21T16:09:03.162750+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"columns", 
"docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-08-10T18:15:42.490089+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-09T16:22:51.209023+00:00", 
"bug_id": 1020997, 
"date_in_progress": "2012-07-19T00:19:00.187507+00:00", 
"bug_description": "When issuing \n\npt-online-schema-change --alter \"ENGINE=InnoDB\" --recursion-method none --execute D=database,t=table\n\nwhere the table does not contain a single row, pt-online-schema-change fails\n\nAltering `database`.`table`...\nCreating new table...\nCreated new table database._table_new OK.\nAltering new table...\nAltered `database`.`_table_new` OK.\nCreating triggers...\nCreated triggers OK.\nCopying approximately 4686227 rows...\nDropping triggers...\nDropped triggers OK.\nDropping new table...\nDropped new table OK.\n`database`.`table` was not altered.\nError copying rows from `database`.`table` to `database`.`_table_new`: I need a vals argument at /usr/bin/pt-online-schema-change line 5239.\n\n\nI think this is due to the fact that XtraDB stores an approximate number of rows per table somewhere but this information is not beeing updated live. I had this issue with a couple of tables, in all of them i deleted all rows prior to executing the above pt-online-schema-change command.\n\nA temporary \"fix\" is to insert one row in those tables, running pt-online-schema-change, and deleted that row.\nAfter doing this pt-online-schema-change runs without errors even on an empty table.\n\n\nI'm using \n\nmysqld  Ver 5.1.59-rel13.0-log for debian-linux-gnu on x86_64 ((Percona Server (GPL), 13.0, Revision 325))\npt-online-schema-change 2.1.2", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1020997/related_tasks", 
"date_assigned": "2012-07-19T00:18:58.085508+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change fails when table is empty", 
"title": "Bug #1020997 in Percona Toolkit: \"pt-online-schema-change fails when table is empty\"", 
"date_confirmed": "2012-07-09T16:22:51.209023+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1020997", 
"date_left_new": "2012-07-09T16:22:51.209023+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1020997", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"c840590536ad6e8c6fbc558f7ec67c2563a025c0-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~mad-krinke", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-26T22:45:09.369737+00:00", 
"date_fix_released": "2012-08-10T18:15:42.490089+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1020997", 
"date_created": "2012-07-04T16:00:59.807337+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"empty-table", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:16:09.330862+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T20:46:44.867443+00:00", 
"bug_id": 1022628, 
"date_in_progress": "2012-08-01T20:46:44.867443+00:00", 
"bug_description": "From bug 1010232 comment 10:\n\nMarcos Albe wrote on 2012-07-06:\n\nSeems code related to this bug fix has it's own bug?\n\n./pt-online-schema-change --execute\n--alter-foreign-keys-method=rebuild_constraints --password=root\n--user=root --lock-wait-time=50 --alter=\"ADD COLUMN\nlacolumna TINYINT NOT NULL DEFAULT 1\"\nD=thedb,t=thetable\n\nI get this:\nError copying rows from `thedb`.`thetable` to\n`thedb`.`_thetable_new`: Use of uninitialized value in numeric lt\n(<) at ./pt-online-schema-change line 6519.\n\nAnd code in 6519 is the following:\n\n   # Ensure that MySQL is still using the entire index.\n   # https://bugs.launchpad.net/percona-toolkit/+bug/1010232\n   if ( !$nibble_iter->one_nibble()\n        && $tbl->{key_len}\n        && ($expl->{key_len} || 0) < $tbl->{key_len} ) {\n      if ( !$tbl->{warned}->{key_len}++\n           && $o->get('quiet') < 2 ) {\n         die \"Error copying rows at chunk \" . $nibble_iter->nibble_number()\n            . \" of $tbl->{db}.$tbl->{tbl} because MySQL used \"\n            . \"only \" . ($expl->{key_len} || 0) . \" bytes \"\n            . \"of the \" . ($expl->{key} || '?') . \" index instead of \"\n            . $tbl->{key_len} . \". See the --[no]check-plan documentation \"\n            . \"for more information.\\n\";\n      }\n   }\n\nBrian confirmed 'quiet' has no default set.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022628/related_tasks", 
"date_assigned": "2012-07-19T12:55:44.431262+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change error: Use of uninitialized value in numeric lt (<) at   line 6519", 
"title": "Bug #1022628 in Percona Toolkit: \"pt-online-schema-change error: Use of uninitialized value in numeric lt (<) at   line 6519\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1022628", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1022628", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"2e63e8bff0526c36d7c262966a960e85980e594c-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:46:44.867443+00:00", 
"date_fix_released": "2012-08-10T18:16:09.330862+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022628", 
"date_created": "2012-07-09T16:44:58.300129+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-09-26T21:17:41.599113+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-09T19:17:48.576751+00:00", 
"bug_id": 1022658, 
"date_in_progress": "2012-08-13T21:23:54.154651+00:00", 
"bug_description": "Using pt-online-schema-change v2.1.2.\n\nDropping a foreign key constraint fails, probably due to the change in 2.1 that moves away from CREATE TABLE LIKE, in favor of recreating the new table explicitly with renamed FK constraints. \n\n(Docs say, \"Due to a limitation in MySQL, foreign keys will not have the same names after the ALTER that they did prior to it. The tool has to rename the foreign key when it redefines it, which adds a leading underscore to the name.\")\n\n# Steps to reproduce:\nCREATE DATABASE osc_fk_testing;\nuse osc_fk_testing;\n\nCREATE TABLE `foo` (\n`id` int(11) NOT NULL AUTO_INCREMENT,\nPRIMARY KEY (`id`)\n);\n\nCREATE TABLE `bar` (\n`id` int(11) NOT NULL AUTO_INCREMENT,\n`foo_id` int(11) NOT NULL,\nPRIMARY KEY (`id`),\nCONSTRAINT `foo_ibfk_1` FOREIGN KEY (`foo_id`) REFERENCES `foo` (`id`)\n);\n\nINSERT INTO `foo` VALUES(1), (2), (3), (4), (5);\nINSERT INTO `bar` (foo_id) VALUES(1), (2), (3), (4);\n\npt-online-schema-change h=host.example.com,D=osc_fk_testing,t=bar -uroot -pXXXXXX --alter 'DROP FOREIGN KEY foo_ibfk_1;' --nodrop-old-table --print --execute\n\n# Result:\n\nAltering `osc_fk_testing`.`bar`...\nCreating new table...\nCREATE TABLE `osc_fk_testing`.`_bar_new` (\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `foo_id` int(11) NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `foo_ibfk_1` (`foo_id`),\n  CONSTRAINT `_foo_ibfk_1` FOREIGN KEY (`foo_id`) REFERENCES `foo` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1\nCreated new table osc_fk_testing._bar_new OK.\nAltering new table...\nALTER TABLE `osc_fk_testing`.`_bar_new` DROP FOREIGN KEY foo_ibfk_1;\nDropping new table...\nDROP TABLE IF EXISTS `osc_fk_testing`.`_bar_new`;\nDropped new table OK.\n`osc_fk_testing`.`bar` was not altered.\nError altering new table `osc_fk_testing`.`_bar_new`: DBD::mysql::db do failed: Error on rename of './osc_fk_testing/_bar_new' to './osc_fk_testing/#sql2-709e-ca' (errno: 152) [for Statement \"ALTER TABLE `osc_fk_testing`.`_bar_new` DROP FOREIGN KEY foo_ibfk_1;\"] at /usr/bin/pt-online-schema-change line 5912.\n\nExpected result:\npt-online-schema changes uses the modified name of the new constraint (`_foo_ibfk_1`) when modifying the new table, and the constraint is removed successfully. \n\nMySQL: 5.5.12, on Amazon RDS.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022658/related_tasks", 
"date_assigned": "2012-08-13T14:45:06.091654+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change dropping FK limitation isn't documented", 
"title": "Bug #1022658 in Percona Toolkit: \"pt-online-schema-change dropping FK limitation isn't documented\"", 
"date_confirmed": "2012-07-09T19:17:48.576751+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1022658", 
"date_left_new": "2012-07-09T19:17:48.576751+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1022658", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"7f2306a1a9fe51b86b21ea74756743ea386882c7-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~nicholas-hatch", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-13T21:23:54.154651+00:00", 
"date_fix_released": "2012-09-26T21:17:41.599113+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022658", 
"date_created": "2012-07-09T17:46:36.328380+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"foreign-keys", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-08-10T18:16:16.052820+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-10T20:59:58.344809+00:00", 
"bug_id": 1022851, 
"date_in_progress": "2012-07-23T19:50:44.627730+00:00", 
"bug_description": "\n$ pt-sift .\n/mine/bin/site_perl/pt-sift: line 124: PREFIX: unbound variable\n\n\nHere is the xtrace output:  http://sprunge.us/aZCG?sh \n\nFollowing is the fix\n\n=======\n--- pt-sift     2012-06-12 21:34:14.000000000 +0530\n+++ pt-sift.fixed       2012-07-10 13:17:25.980001591 +0530\n@@ -85,6 +85,7 @@\n    ARG=\"${1:-.}\"\n    if [ -d \"${ARG}\" ]; then\n       BASEDIR=\"$(echo \"${ARG}\" | sed -e 's!/$!!')\"\n+      PREFIX=\"\"\n    elif [ -f \"${ARG}\" -o -f \"${ARG}-df\" -o -f \"${ARG}df\" ]; then\n       BASEDIR=\"$(dirname \"${ARG}\")\"\n       PREFIX=\"$(echo \"${ARG}\" | sed -e 's/-[a-z1]*$//' -e 's!^.*/!!')\"\n===========", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022851/related_tasks", 
"date_assigned": "2012-07-23T19:50:45.691095+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-sift error: PREFIX: unbound variable", 
"title": "Bug #1022851 in Percona Toolkit: \"pt-sift error: PREFIX: unbound variable\"", 
"date_confirmed": "2012-07-10T20:59:58.344809+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1022851", 
"date_left_new": "2012-07-10T20:59:58.344809+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1022851", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"b6dd7ddf801f4b5e1b095eee5720a5a60cc2a75a-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~raghavendra-prabhu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-23T22:48:51.507772+00:00", 
"date_fix_released": "2012-08-10T18:16:16.052820+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022851", 
"date_created": "2012-07-10T07:56:50.422943+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-sift", 
"unbound-variable"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": null, 
"bug_id": 1024530, 
"date_in_progress": null, 
"bug_description": "Good Afternoon from California,\n\nI'm trying to rebuild the debian package which you are providing here:\n\nhttp://www.percona.com/downloads/percona-toolkit/LATEST/\n\nThis is not possible, because there is no debian source package.\n\nIn the provided source tarball, there is no debian/ directory or even a .spec file.\nThe source tarball is different from the bazaar sourcetree (missing config/ dir).\n\nFurthermore, using the bazaar repo, in your build scripts, you are building the package not in a clean buildserver environment, but as it looks like directly via dpkg-buildpackage.\n\nThis is for automatic build infrastructures not suitable.\n\nWould it be possible to provide real debian packages, which are build in a clean chroot buildserver environment, or \nwhen this is not easily possible, provide real debian source packages, so that customers and users can rebuild them properly?\n\nThanks :)\n\nRegards,\n\nStephan", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1024530/related_tasks", 
"date_assigned": "2012-08-09T14:30:55.368652+00:00", 
"bug_information_type": "Public", 
"bug_title": "Can't rebuild percona-toolkit debian package", 
"title": "Bug #1024530 in Percona Toolkit: \"Can't rebuild percona-toolkit debian package\"", 
"date_confirmed": "2012-07-20T15:49:19.778535+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1024530", 
"date_left_new": "2012-07-20T15:49:19.778535+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1024530", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"55b5d745b423b066b7e2bb4c6d44a48f2c631ee3-7a0f49bca5992949001cd6c8f8f1b947f674e2ef\"", 
"owner_link": "https://api.launchpad.net/devel/~sadig", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1024530", 
"date_created": "2012-07-13T19:37:34.071875+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"debian", 
"release"
]
}, 
{
"date_closed": "2012-08-10T18:16:23.329990+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-25T22:46:26.746169+00:00", 
"bug_id": 1028614, 
"date_in_progress": "2012-07-28T19:47:25.233619+00:00", 
"bug_description": "Using output of \"pt-query-digest --type tcpdump --no-report --print\" as input to pt-index-usage with the --database option does not work.  pt-index-usage connects to the \"mysql\" database, and attempts to change that with -D or --database option does not help.\n\nErrors similar to ...\n\n\"DBD::mysql::db selectall_arrayref failed: Table  'mysql.<table name in other database>' doesn't exist [for Statement \"EXPLAIN SELECT.....\"] \n\n...are thrown for each query in the file produced by pt-query-digest after calling pt-index-usage.\n\nUsing percona-toolkit-2.1.2-1.noarch on Red Hat Enterprise Linux 5.8, MySQL 5.5.22 server and client.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028614/related_tasks", 
"date_assigned": "2012-07-28T19:47:28.169977+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-index-usage ignores --database", 
"title": "Bug #1028614 in Percona Toolkit: \"pt-index-usage ignores --database\"", 
"date_confirmed": "2012-07-25T22:46:26.746169+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1028614", 
"date_left_new": "2012-07-25T22:46:26.746169+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1028614", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"474919978c4ad84a6842c1d51564199350a8833c-7c12a22a8f442e66aac2fcb3952ec98e49005e69\"", 
"owner_link": "https://api.launchpad.net/devel/~bealdrid", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-28T21:04:37.498477+00:00", 
"date_fix_released": "2012-08-10T18:16:23.329990+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028614", 
"date_created": "2012-07-24T20:24:11.887455+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"default-db", 
"pt-index-usage", 
"standard-options"
]
}, 
{
"date_closed": "2012-09-26T21:17:45.423897+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-07-25T22:48:12.613068+00:00", 
"bug_id": 1028710, 
"date_in_progress": "2012-08-10T22:53:38.787881+00:00", 
"bug_description": "A table was failing with pt-table-sync. I tracked it down to base_count trying to handle $n=1000, $base=10.\n\n   my $highest_power = floor(log($n)/log($base));\n\nreturned 2, not 3 as it should.  Perl version = 5.10.1, the only one I tried.\n\nChanging to \n\n   my $highest_power = floor(log($n + 0.0001)/log($base));\n\nworked around the problem.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028710/related_tasks", 
"date_assigned": "2012-08-10T22:53:35.383290+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync base_count fails on n = 1000, base = 10", 
"title": "Bug #1028710 in Percona Toolkit: \"pt-table-sync base_count fails on n = 1000, base = 10\"", 
"date_confirmed": "2012-07-25T22:48:12.613068+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1028710", 
"date_left_new": "2012-07-25T22:48:12.613068+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1028710", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"4836197ebb86ab31111b1e6e5e4d8c9a31f2c17c-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~ecp-x", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-23T06:34:54.266740+00:00", 
"date_fix_released": "2012-09-26T21:17:45.423897+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028710", 
"date_created": "2012-07-25T02:56:32.448444+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-sync", 
"wrong-behavior"
]
}, 
{
"date_closed": "2012-09-26T21:17:48.855210+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-26T23:04:40.153940+00:00", 
"bug_id": 1029178, 
"date_in_progress": "2012-07-26T23:04:40.153940+00:00", 
"bug_description": "I'm streaming tcpdump captures to another host to get a list of queries for later review like so: \n\ntcpdump -i eth2 -Z <username> -s 65535 -x -n -q -tttt 'port 3306 and tcp[0:2] & 15 == 10 and tcp[2:4] & 15 == 10 ' | ssh <username>@<remote-server> 'cat - | /usr/local/bin/pt-query-digest --no-report --type tcpdump --print 2>/dev/null | gzip -1 > /home/<username>//query-log.gz'\n\npt-query-digest  memory use grows steadily until it crashes or makes the server unusable. \n\nI can reproduce this easily by doing a short tcpdump capture and then running these commands: \n\nwhile :; do cat tcpdump.log ; done | ./pt-query-digest --no-report --type tcpdump --print\n\nIf I monitor memory usage by pt-query-digest while this runs, it just keeps growing. \n\nIf I do a similar short slow log capture and run the same command but with this capture instead: \n\nwhile :; do cat slow.log ; done | ./pt-query-digest --no-report --print 2\n\nMemory use remains constant.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1029178/related_tasks", 
"date_assigned": "2012-07-26T23:04:43.312627+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --type tcpdump memory usage keeps increasing", 
"title": "Bug #1029178 in Percona Toolkit: \"pt-query-digest --type tcpdump memory usage keeps increasing\"", 
"date_confirmed": "2012-07-26T23:04:40.153940+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1029178", 
"date_left_new": "2012-07-26T23:04:40.153940+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1029178", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"1c552726ffc5c6e938c86ad2e3ece53fad911b52-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T17:26:52.508720+00:00", 
"date_fix_released": "2012-09-26T21:17:48.855210+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1029178", 
"date_created": "2012-07-25T23:35:03.096975+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"memory-usage", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-08-10T18:16:29.583551+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:36:32.334030+00:00", 
"bug_id": 1030975, 
"date_in_progress": "2012-08-01T17:36:32.334030+00:00", 
"bug_description": "If I replace the double quotes on line 8736 with single quotes it gets past this.\n\n$ pt-table-sync --dry-run h=s5.leadkarma.com,D=id_prod,t=traffic_sources h=agile-production-db,D=keywords\n\n$ pt-table-sync --version\npt-table-sync 2.1.2\n\n\nfirst host:\nServer version: 5.5.17-log Distributed by The IUS Community Project\n\nsecond host:\nServer version: 5.1.58-1ubuntu1-log (Ubuntu)\n\n\n$ pt-table-sync --dry-run h=s5.leadkarma.com,D=id_prod,t=traffic_sources h=agile-production-db,D=keywords\n# NOTE: --dry-run does not show if data needs to be synced because it\n#       does not access, compare or sync data.  --dry-run only shows\n#       the work that would be done.\n# Syncing D=keywords,h=agile-production-db,t=traffic_sources in dry-run mode, without accessing or comparing data\n# DELETE REPLACE INSERT UPDATE ALGORITHM START    END      EXIT DATABASE.TABLE\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\"log_bin\"' at line 1 [for Statement \"SHOW VARIABLES LIKE \"log_bin\"\"] at line 8736 while doing keywords.traffic_sources on agile-production-db\n#      0       0      0      0 0         17:29:19 17:29:20 1    id_prod.traffic_sources", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030975/related_tasks", 
"date_assigned": "2012-08-01T17:36:40.176565+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync crashes if sql_mode includes ANSI_QUOTES", 
"title": "Bug #1030975 in Percona Toolkit: \"pt-table-sync crashes if sql_mode includes ANSI_QUOTES\"", 
"date_confirmed": "2012-07-31T09:48:06.259643+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1030975", 
"date_left_new": "2012-07-31T09:48:06.259643+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1030975", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"121f10788dbd9626aef9646df0a449f481f5c5cf-2225cb73b10e43aa4096da42c036d0559a40d4da\"", 
"owner_link": "https://api.launchpad.net/devel/~mfp7", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T18:06:20.108664+00:00", 
"date_fix_released": "2012-08-10T18:16:29.583551+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030975", 
"date_created": "2012-07-30T17:35:05.085860+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"ident-quoting", 
"pt-table-sync", 
"sql-mode"
]
}, 
{
"date_closed": "2012-09-26T21:17:53.248747+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-14T21:15:37.750439+00:00", 
"bug_id": 1034170, 
"date_in_progress": "2012-08-14T21:15:37.750439+00:00", 
"bug_description": "The username and password specified /etc/percona.cnf are applied to only localhost, not any of the slaves.\n\nIn this case, I have a master (10.0.0.1) and one slave (10.0.0.2).  \n\nI am trying to run the checksum from the master.\n\n%> cat /etc/*release\nCentOS release 5.7 (Final)\n\n%> pt-table-checksum --version\npt-table-checksum 2.1.2\n\n%> pt-table-checksum --defaults-file /etc/percona.cnf --databases db1 localhost\nCannot connect to h=10.0.0.2\n\n%> export PTDEBUG=1\n\n%> pt-table-checksum --defaults-file /etc/percona.cnf --databases db1 localhost\n...\n# OptionParser:794 16427 Got option defaults-file = /etc/percona.cnf\n...\n# OptionParser:1014 16427 Nothing to validate for option defaults-file type s value /etc/percona.cnf\n...\n# DSNParser:140 16427 DSN string made from options: F=/etc/percona.cnf,h=localhost\n# DSNParser:80 16427 Parsing F=/etc/percona.cnf,h=localhost\n...\n# DSNParser:192 16427 DBI:mysql:;mysql_read_default_file=/etc/percona.cnf;host=localhost;mysql_read_default_group=client\n# DSNParser:238 16427 DBI:mysql:;mysql_read_default_file=/etc/percona.cnf;host=localhost;mysql_read_default_group=client   undef   undef mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n...\n# MasterSlave:2659 16427 Looking for slaves on F=/etc/percona.cnf,h=localhost using methods processlist hosts\n...\n# MasterSlave:2763 16427 DBI::db=HASH(0x2a301f0) SHOW PROCESSLIST\n# DSNParser:80 16427 Parsing h=10.0.0.2\n...\n# MasterSlave:2637 16427 Recursing from F=/etc/percona.cnf,h=localhost to h=10.0.0.2\n# DSNParser:192 16427 DBI:mysql:;host=10.0.0.2;mysql_read_default_group=client\n# DSNParser:238 16427 DBI:mysql:;host=10.0.0.2;mysql_read_default_group=client   undef   undef mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:279 16427 DBI connect(';host=10.0.0.2;mysql_read_default_group=client','',...) failed: Access denied for user 'root'@'10.0.0.1' (using password: YES) at /usr/bin/pt-table-checksum line 241\n# \n# DSNParser:238 16427 DBI:mysql:;host=10.0.0.2;mysql_read_default_group=client   undef   undef mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:279 16427 DBI connect(';host=10.0.0.2;mysql_read_default_group=client','',...) failed: Access denied for user 'root'@'10.0.0.1' (using password: YES) at /usr/bin/pt-table-checksum line 241\n# \nCannot connect to h=10.0.0.2\n\nI think that the correct behavior would be for --defaults-file options to propagate to all slaves (otherwise, the option isn't really useful)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034170/related_tasks", 
"date_assigned": "2012-08-13T14:44:58.484509+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --defaults-file isn't used for slaves", 
"title": "Bug #1034170 in Percona Toolkit: \"pt-table-checksum --defaults-file isn't used for slaves\"", 
"date_confirmed": "2012-08-08T22:16:09.890624+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1034170", 
"date_left_new": "2012-08-08T22:16:09.890624+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1034170", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"80d4514d066bea08d221af2a94429107a240fb81-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-14T22:33:36.187319+00:00", 
"date_fix_released": "2012-09-26T21:17:53.248747+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034170", 
"date_created": "2012-08-07T21:56:06.373547+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-08-13T17:52:10.062642+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1034686, 
"date_in_progress": null, 
"bug_description": "print_checksum_diffs() doesn't look at the --quiet option. When it prints the output, it just dumps the lot, including checksums with zero row differences.\n\nI think something like this would be handy:\n\n  foreach my $diff ( @$diffs ) {\n      next if $o->get('quiet') and not $diff->{cnt_diff};\n      print join(' ', map { defined $_ ? $_ : '' } @{$diff}{@headers}), \"\\n\";\n   } \n\nThe only problem here is that $o is not in scope.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034686/related_tasks", 
"date_assigned": "2012-08-13T14:43:49.552715+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --replicate-check-only prints tables with no diffs", 
"title": "Bug #1034686 in Percona Toolkit: \"pt-table-checksum --replicate-check-only prints tables with no diffs\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1034686", 
"date_left_new": "2012-08-10T17:29:49.179339+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1034686", 
"milestone_link": null, 
"http_etag": "\"e20e217cb4e73bf395fbc4b83b12c7fb9056d461-d1f1b92321f0027823c2e4bbd0ebe241467e70a1\"", 
"owner_link": "https://api.launchpad.net/devel/~alfiejohn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1034686", 
"date_created": "2012-08-09T00:05:31.635734+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"wrong-output"
]
}, 
{
"date_closed": "2012-09-26T21:17:57.311498+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-10T18:07:43.449007+00:00", 
"bug_id": 1035260, 
"date_in_progress": "2012-08-14T17:50:18.008297+00:00", 
"bug_description": "To work properly bash is still needed in pt-summary and pt-mysql-summary; patches to fix the problem added.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035260/related_tasks", 
"date_assigned": "2012-08-13T14:45:09.109612+00:00", 
"bug_information_type": "Public", 
"bug_title": "sh warnings in pt-summary and pt-mysql-summary", 
"title": "Bug #1035260 in Percona Toolkit: \"sh warnings in pt-summary and pt-mysql-summary\"", 
"date_confirmed": "2012-08-10T18:07:43.449007+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035260", 
"date_left_new": "2012-08-10T18:07:43.449007+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035260", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"5fbc03e7eb99acd57e9d2faee07779ac888a4607-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~g-bechis", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T17:44:38.232969+00:00", 
"date_fix_released": "2012-09-26T21:17:57.311498+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035260", 
"date_created": "2012-08-10T10:48:04.506513+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"bsd", 
"crash", 
"shell-tools"
]
}, 
{
"date_closed": "2012-09-26T21:18:00.606351+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-10T17:56:28.503916+00:00", 
"bug_id": 1035311, 
"date_in_progress": "2012-08-10T17:56:28.503916+00:00", 
"bug_description": "pt-diskstats is showing the wrong device name. Sample file attached. Settings:\n\nSample output:\n\nEnter a disk/device pattern: xvdb1\n  #ts device    rd_s rd_avkb rd_mb_s rd_mrg rd_cnc   rd_rt    wr_s wr_avkb wr_mb_s wr_mrg wr_cnc   wr_rt busy in_prg    io_s  qtime stime\n  1.0 ram0     258.9    42.4    10.7     0%    2.3     9.1   152.8    36.6     5.5    27%    2.7    12.9  50%     37   411.6    9.6   1.1\n  2.0 ram0     177.3    40.3     7.0     0%    2.1    12.0   409.2    21.5     8.6    12%    3.6     7.7  69%     44   586.4   13.5   1.1\n  3.0 ram0     135.0    39.9     5.3     0%    5.8    42.9   515.9    33.7    17.0    25%   18.9    27.6  97%     29   650.8   22.9   1.2\n  4.0 ram0     272.5    42.0    11.2     0%    3.1    11.5   520.3    27.5    14.0    18%    7.4    11.7  78%     30   792.8   10.4   0.9\n  5.0 ram0     207.4    40.6     8.2     0%    2.6    12.6   523.1    22.3    11.4    15%    7.1    11.5  86%     28   730.5   10.6   1.0\n\nNotice that it's showing ram0 even though I told it to look only at xvdb1.\n\nCurrent settings:\n\n   You can control this program by key presses:\n   ------------------- Key ------------------- ---- Current Setting ----\n   A, D, S) Set the group-by mode              S\n   c) Enter a Perl regex to match column names .\n   /) Enter a Perl regex to match disk names   xvdb1\n   z) Set the sample size in seconds           1\n   i) Hide inactive disks                      yes\n   p) Pause the program\n   q) Quit the program\n   space) Print headers\n   ------------------- Press any key to continue -----------------------\n\nVersion:\n\n# pt-diskstats --version\npt-diskstats 2.1.3", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035311/related_tasks", 
"date_assigned": "2012-08-10T17:56:25.373707+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats shows wrong device name", 
"title": "Bug #1035311 in Percona Toolkit: \"pt-diskstats shows wrong device name\"", 
"date_confirmed": "2012-08-10T17:56:28.503916+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035311", 
"date_left_new": "2012-08-10T17:56:28.503916+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035311", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"65887f1ced1d3f0693b460cda61a3add11dab969-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:09:24.985712+00:00", 
"date_fix_released": "2012-09-26T21:18:00.606351+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035311", 
"date_created": "2012-08-10T13:25:53.250835+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats"
]
}, 
{
"date_closed": "2012-09-26T21:18:03.815536+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-10T18:05:56.686616+00:00", 
"bug_id": 1035319, 
"date_in_progress": "2012-08-14T14:51:56.054947+00:00", 
"bug_description": "pt-stalk does this:\n\n\n      (echo $ts; df -h) >> \"$d/$p-df\" &\n\n\nThe -h option makes the resulting data human-readable, but we really need the exact measurements instead. (pt-sift could make it human-readable...)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035319/related_tasks", 
"date_assigned": "2012-08-13T14:45:14.473026+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk df -h throws away needed details", 
"title": "Bug #1035319 in Percona Toolkit: \"pt-stalk df -h throws away needed details\"", 
"date_confirmed": "2012-08-10T18:05:56.686616+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035319", 
"date_left_new": "2012-08-10T18:05:56.686616+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035319", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"e1f154cc094c275d4aee192a20a186ed004636a4-df8ea19b2036bd3d3db755195238d2adfe29aac1\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-14T15:18:38.748279+00:00", 
"date_fix_released": "2012-09-26T21:18:03.815536+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035319", 
"date_created": "2012-08-10T13:45:07.915111+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk", 
"wrong-output"
]
}, 
{
"date_closed": "2012-09-26T21:18:07.055864+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-10T18:02:35.897366+00:00", 
"bug_id": 1035325, 
"date_in_progress": "2012-08-30T21:41:06.308941+00:00", 
"bug_description": "I think gtowey or geodbz or someone might have reported this, too -- and Box has a patch in their Rain Gauge tool to address it. pt-stalk only gets the lock waits from the I_S tables for InnoDB. See the lock_waits() function. It would be best to capture the full contents of the INNODB_LOCK_WAITS as well as the INNODB_TRX and INNODB_LOCKS tables, as-is.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035325/related_tasks", 
"date_assigned": "2012-08-13T14:45:21.913490+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk does not get all InnoDB lock data", 
"title": "Bug #1035325 in Percona Toolkit: \"pt-stalk does not get all InnoDB lock data\"", 
"date_confirmed": "2012-08-10T18:02:35.897366+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035325", 
"date_left_new": "2012-08-10T18:02:35.897366+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035325", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"374812f80513d35220f99c8f483440ac1e0877ec-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-09-14T12:44:38.165221+00:00", 
"date_fix_released": "2012-09-26T21:18:07.055864+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035325", 
"date_created": "2012-08-10T14:10:17.207883+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"data-collection", 
"pt-stalk"
]
}, 
{
"date_closed": "2012-08-30T21:14:40.343202+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 1035373, 
"date_in_progress": null, 
"bug_description": "I'd suggest this is minor, but while testing pt-online-schema-change (2.1.3) I ran into this:\n\nroot@erika:/home/mrten# pt-online-schema-change --alter 'ADD COLUMN `approve` VARCHAR(400) NULL DEFAULT NULL' --recursion-method D=maatkit,t=pt_check_slave_delay_dsns --no-check-replication-filters --chunk-time 0.25 --dry-run --no-drop-old-table h=127.0.0.1,D=gpt,t=a_item_dup\nStarting a dry run.  `gpt`.`a_item_dup` will not be altered.  Specify --execute instead of --dry-run to alter the table.\nCreating new table...\nCreated new table gpt._a_item_dup_new OK.\nAltering new table...\nAltered `gpt`.`_a_item_dup_new` OK.\nNot creating triggers because this is a dry run.\nNot copying rows because this is a dry run.\nNot swapping tables because this is a dry run.\nNot dropping triggers because this is a dry run.\nDropping new table...\nDropped new table OK.\nDry run complete.  `gpt`.`a_item_dup` was not altered.\n\n\"OK, --dry-run, works. Lets hit it, change --dry-run with --execute\"\n\nroot@erika:/home/mrten# pt-online-schema-change --alter 'ADD COLUMN `approve` VARCHAR(400) NULL DEFAULT NULL' --recursion-method D=maatkit,t=pt_check_slave_delay_dsns --no-check-replication-filters --chunk-time 0.25 --execute --no-drop-old-table h=127.0.0.1,D=gpt,t=a_item_dup\nInvalid --recursion-method: D=maatkit,t=pt_check_slave_delay_dsns.  Valid values are: dsn=DSN, hosts, or processlist.\n\n\"Hey, there's a commandline error?\"\n\nI'd expect the program to test all there is to test (especially commandline parameters) with dry-run...", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035373/related_tasks", 
"date_assigned": "2012-08-13T14:45:02.404018+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change does not check recursion-method with --dry-run", 
"title": "Bug #1035373 in Percona Toolkit: \"pt-online-schema-change does not check recursion-method with --dry-run\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1035373", 
"date_left_new": "2012-08-10T17:40:11.775270+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035373", 
"milestone_link": null, 
"http_etag": "\"7422dba8aabda871f6929a270fa6cc9ede09ad19-d1f1b92321f0027823c2e4bbd0ebe241467e70a1\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035373", 
"date_created": "2012-08-10T16:06:40.698026+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"option-parsing", 
"pt-online-schema-change", 
"wrong-behavior"
]
}, 
{
"date_closed": "2012-09-26T21:18:10.423988+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-16T23:36:19.171283+00:00", 
"bug_id": 1037211, 
"date_in_progress": "2012-08-16T23:36:19.171283+00:00", 
"bug_description": "This code snippet makes 'lock tables foo f write, bar b read' fail to distill because it's lowercase:\n\n 7674    if ( $query =~ /^\\s*LOCK TABLES/i ) {\n 7675       PTDEBUG && _d('Special table type: LOCK TABLES');\n 7676       $query =~ s/^(\\s*LOCK TABLES\\s+)//;\n 7677       $query =~ s/\\s+(?:READ|WRITE|LOCAL)+\\s*//g;\n 7678       PTDEBUG && _d('Locked tables:', $query);\n 7679       $query = \"FROM $query\";\n 7680    }\n\nThe problem is the lack of /i on lines 7676 and 7677.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1037211/related_tasks", 
"date_assigned": "2012-08-16T21:38:49.541135+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest won't distill LOCK TABLES in lowercase", 
"title": "Bug #1037211 in Percona Toolkit: \"pt-query-digest won't distill LOCK TABLES in lowercase\"", 
"date_confirmed": "2012-08-16T15:59:05.099522+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1037211", 
"date_left_new": "2012-08-16T15:59:05.099522+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1037211", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"73c7156bdae38283984b951775ab9fe3b1a5c38f-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:07:22.332916+00:00", 
"date_fix_released": "2012-09-26T21:18:10.423988+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1037211", 
"date_created": "2012-08-15T17:30:27.626459+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"distill", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-09-26T21:18:13.199757+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-17T21:21:45.423695+00:00", 
"bug_id": 1038276, 
"date_in_progress": "2012-08-17T21:21:45.423695+00:00", 
"bug_description": "Reported by Alex Geis (ageis) on https://bugs.launchpad.net/percona-toolkit/+bug/953101\nAlex Geis (ageis) wrote on 2012-08-01: \t#4\n\nChiming in here as I've run into a problem with both pt-table-sync and pt-archiver. I've written a simple script to first archive a table to a backup table using pt-archiver with delete turned off, and then run pt-table-sync to keep it synced from time to time. Unfortunately, there are thousands of entries that aren't copied correctly on archive and aren't synced corrected due to a specific varchar field not being quoted (from what appears to be due to the field appearing as hex where it's not). Including an example.\n\nThe problematic field is: `screen_name`=0xD1\n(where screen_name is a twitter username, so obviously not supposed to be hex)\n\nUPDATE `21social_digitalreverie_backup`.`21social_digitalreverie_backup_twitter_users` SET `datetime_unix`='1336517818', `datetime_created_unix`='1189650978', `name_hash`='05bcb7dbe787e88213b68ab1b230133f', `screen_name`=0xD1,\n\n... additional fields...\n\n`followers_count`='1243', `friends_count`='1368', `statuses_count`='12356', `favourites_count`='105', `listed_count`='44', `geo_enabled`='1', `status_sync`='1' WHERE `uid`='8845752' LIMIT 1 /*percona-toolkit src_db:21social_digitalreverie_twitter src_tbl:21social_digitalreverie_twitter_users src_dsn:A=utf8,D=21social_digitalreverie_twitter,h=localhost,p=...,t=21social_digitalreverie_twitter_users,u=ageis dst_db:21social_digitalreverie_backup dst_tbl:21social_digitalreverie_backup_twitter_users dst_dsn:A=utf8,D=21social_digitalreverie_backup,h=ubuntu4.21.grid,p=...,t=21social_digitalreverie_backup_twitter_users,u=ageis lock:0 transaction:1 changing_src:0 replicate:0 bidirectional:0 pid:19359 user:root host:ubuntu1*/;\nHide comment\nAlex Geis (ageis) wrote on 2012-08-01: \t#5\n\nTemporarily solved the issue I mentioned by commenting out the following line in pt-table-sync, even though I figure it's not a good solution...\n\nreturn $val if $val =~ m/^0x[0-9a-fA-F]+$/; # hex data (line 1070)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1038276/related_tasks", 
"date_assigned": "2012-08-17T21:21:39.799766+00:00", 
"bug_information_type": "Public", 
"bug_title": "ChangeHandler doesn't quote varchar columns with hex-looking values", 
"title": "Bug #1038276 in Percona Toolkit: \"ChangeHandler doesn't quote varchar columns with hex-looking values\"", 
"date_confirmed": "2012-08-17T21:21:45.423695+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1038276", 
"date_left_new": "2012-08-17T21:21:45.423695+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1038276", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"edfcacca2e8db645f3e69c6682e3ce5a30aa9665-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-09-19T19:52:45.439902+00:00", 
"date_fix_released": "2012-09-26T21:18:13.199757+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1038276", 
"date_created": "2012-08-17T21:21:30.403903+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum", 
"pt-table-sync", 
"value-quoting"
]
}, 
{
"date_closed": "2012-09-26T21:18:17.876742+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-20T21:57:49.615100+00:00", 
"bug_id": 1038995, 
"date_in_progress": "2012-08-27T15:06:30.077040+00:00", 
"bug_description": "pt-stalk doesn't allow the notify-by-email option:\n\n# pt-stalk --notify-by-email <email address hidden>\nUnknown option: --notify-by-email\n\nUsage: pt-stalk [OPTIONS] [-- MYSQL OPTIONS]\n\nFor more information, 'man pt-stalk' or 'perldoc /usr/local/bin/pt-stalk'.\n# pt-stalk --version\npt-stalk 2.1.3", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1038995/related_tasks", 
"date_assigned": "2012-08-27T05:51:25.005159+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk notify-by-email fails", 
"title": "Bug #1038995 in Percona Toolkit: \"pt-stalk notify-by-email fails\"", 
"date_confirmed": "2012-08-20T21:57:49.615100+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1038995", 
"date_left_new": "2012-08-20T21:57:49.615100+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1038995", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"6651bc984f0fc6cd313f75df934f85da863f0a29-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-29T14:48:03.669831+00:00", 
"date_fix_released": "2012-09-26T21:18:17.876742+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1038995", 
"date_created": "2012-08-20T12:02:16.687657+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"option-parsing", 
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-23T06:30:35.948235+00:00", 
"bug_id": 1039569, 
"date_in_progress": "2012-08-23T06:30:35.948235+00:00", 
"bug_description": "It's nice that pt-table-checksum automatically creates the database or table, but if I want it to run as a restricted user, currently I have to use a workaround:\n\n   08-21T10:44:34 Error executing CREATE DATABASE IF NOT EXISTS `percona` /... DBD::mysql::db do failed: Access denied for user 'checksum'@'%'...\n\nI don't want it to have this privilege because I don't want it to accidentally create any database or table in case I mess something up. It should ideally catch this error, determine that the database exists, and go on. (If it's going to do that, though, it should just check if-exists before trying to create the database/table).\n\nThe workaround right now is to use --no-create-* options.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039569/related_tasks", 
"date_assigned": "2012-08-23T06:29:38.517434+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum shouldn't die if it can't create db/table", 
"title": "Bug #1039569 in Percona Toolkit: \"pt-table-checksum shouldn't die if it can't create db/table\"", 
"date_confirmed": "2012-08-23T06:30:35.948235+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1039569", 
"date_left_new": "2012-08-23T06:29:40.597809+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1039569", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"28a5ecd927e1cc2925ecdb413fa6b6c32de35af6-50534711a81e064d71e63d34dedbae0d7dd366d0\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": "2012-08-23T06:30:35.948235+00:00", 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039569", 
"date_created": "2012-08-21T14:49:34.619781+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-09-26T21:18:20.685077+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-24T22:43:36.516697+00:00", 
"bug_id": 1041394, 
"date_in_progress": "2012-08-24T22:43:36.516697+00:00", 
"bug_description": "I've observed this in Ubuntu and FreeBSD; Something like tr :  _ will fail because : isn't quoted.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041394/related_tasks", 
"date_assigned": "2012-08-24T22:43:31.897893+00:00", 
"bug_information_type": "Public", 
"bug_title": "Unquoted arguments to tr break the bash tools", 
"title": "Bug #1041394 in Percona Toolkit: \"Unquoted arguments to tr break the bash tools\"", 
"date_confirmed": "2012-08-24T22:43:36.516697+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1041394", 
"date_left_new": "2012-08-24T22:43:36.516697+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1041394", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"0436f5c45cb654a20c0cd37a1f1a23abb74a5a8c-5a4517cd8cf909c49937b94b2d1746a1855c6c52\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-27T14:59:30.849178+00:00", 
"date_fix_released": "2012-09-26T21:18:20.685077+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041394", 
"date_created": "2012-08-24T22:42:57.691685+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"shell-tools", 
"value-quoting"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-31T01:41:45.907567+00:00", 
"bug_id": 1042036, 
"date_in_progress": "2012-08-31T01:41:45.907567+00:00", 
"bug_description": "This is for the second bug reported in https://bugs.launchpad.net/percona-toolkit/+bug/1034717", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042036/related_tasks", 
"date_assigned": "2012-08-27T05:15:31.928505+00:00", 
"bug_information_type": "Public", 
"bug_title": " pt-table-sync + stock mysql 5.5.25a error", 
"title": "Bug #1042036 in Percona Toolkit: \" pt-table-sync + stock mysql 5.5.25a error\"", 
"date_confirmed": "2012-08-27T15:03:31.367592+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1042036", 
"date_left_new": "2012-08-27T15:03:31.367592+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1042036", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"40a8f9f3c0aec085b6b6f59f462fac3b752f17ac-50534711a81e064d71e63d34dedbae0d7dd366d0\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042036", 
"date_created": "2012-08-27T04:24:40.382032+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"mysql-5.5", 
"pt-table-sync"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-09-28T19:21:17.281970+00:00", 
"bug_id": 1043528, 
"date_in_progress": null, 
"bug_description": "Newer versions of MySQL add the partition information to lock output in SHOW ENGINE INNODB STATUS, and pt-deadlock-logger doesn't expect this.  Here is a sample:\n\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 34511934 page no 8475 n bits 296 index `PRIMARY` of table `mydb`.`mytbl` /* Partition `cl71` */ trx id 1E29B11F9 lock_mode X locks rec but not gap waiting\n\nA small change to the pattern, just before \"trx id\", fixes this:\n\n@@ -2736,7 +2736,7 @@\n             $hash->{wait_hold} = $what eq 'WAITING FOR THIS LOCK TO BE GRANTED' ? 'w' : 'h';\n             @{$hash}{ qw(lock_type idx db tbl txn_id lock_mode) }\n                = $body\n-               =~ m{^(RECORD|TABLE) LOCKS? (?:space id \\d+ page no \\d+ n bits \\d+ index `?$n`? of )?table `$n(?:/|`\\.`)$n` trx id $t lock.mode (\\S+)}m;\n+               =~ m{^(RECORD|TABLE) LOCKS? (?:space id \\d+ page no \\d+ n bits \\d+ index `?$n`? of )?table `$n(?:/|`\\.`)$n`.*?trx id $t lock.mode (\\S+)}m;\n             if ( $hash->{txn_id} ) {\n                my ( $high, $low ) = $hash->{txn_id} =~ m/^(\\d+) (\\d+)$/;\n                $hash->{txn_id} = $high ? ( $low + ($high << 32) ) : $low;", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043528/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-deadlock-logger can't parse db/tbl/index on partitioned tables", 
"title": "Bug #1043528 in Percona Toolkit: \"pt-deadlock-logger can't parse db/tbl/index on partitioned tables\"", 
"date_confirmed": "2012-09-28T19:21:17.281970+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1043528", 
"date_left_new": "2012-09-28T19:21:17.281970+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1043528", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"718bb685027fd680735c995403f83e6792e17836-44dbcfe37d3800a4e731706258b73d5b17d2bd57\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043528", 
"date_created": "2012-08-29T20:55:22.044372+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-deadlock-logger"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-09-10T14:21:03.373776+00:00", 
"bug_id": 1045317, 
"date_in_progress": null, 
"bug_description": "I've been using pt-online-schema-change and am trying to convert a table to a partitioned table (no other changes). I notice that I get an error message such as this:\n\n...\nAltered `db`.`_MyTable_new` OK.\nCreating triggers...\nCreated triggers OK.\nCopying approximately 39934116 rows...\nCopying rows caused a MySQL error 1265: Data truncated for column 'date_cancelled' at row 334\nThis MySQL error is being ignored and further occurrences of it will not be reported.\nCopying `db`.`MyTable`:   0% 02:08:21 remain\n...\n\nGiven the command used was :\n\npt-online-schema-change --critical-load=\"Threads_running:10\" --max-load \"Threads_running:5\" --recurse=0 F=/root/.my.cnf,D=user,t=MyTable --alter \"PARTITION BY HASH ( user_id ) PARTITIONS 64\" --chunk-time=0.1 --execute \n\nI can't really see why this warning may be happening, yet converting a large table suddenly worries me.\nUsing the direct ALTER TABLE statement I don't get this.\n\nWhen using PTDEBUG=1 .... I see there's an INSERT LOW_PRIORITY IGNORE statement and in this particular case there are 6 parameters shown as '?', and the logging shows:\n\n# Retry:2745 14391 Try 1 of 3\n# pt_online_schema_change:7133 14391 INSERT LOW_PRIORITY IGNORE INTO `db`.`_MyTable_new` (`user_id`, `t_id`, `hr_id`, `h_id`, `ci`, `co`, `p`, `cc`, `status`, `dc`, `created`, `a_id`, `rp`, `bp`, `obi`, `v`) SELECT `user_id`, `t_id`, `hr_id`, `h_id`, `ci`, `co`, `p`, `cc`, `status`, `dc`, `created`, `a_id`, `rp`, `bp`, `obi`, `v` FROM `db`.`MyTable` FORCE INDEX(`PRIMARY`)\n WHERE ((`user_id` > ?) OR (`user_id` = ? AND `t_id` >= ?)) AND ((`user_id` < ?) OR (`user_id` = ? AND `t_id` <= ?)) /*pt-online-schema-change 14391 copy nibble*/ lower boundary: 0 0 3900754\n2 upper boundary: 0 0 167958864\n\nbut I don't know how to figure out the 6 parameters that need to be passed to the SQL command to test this manually and see\nwhy this may be giving this warning.\n\nTherefore:\n\n(1) Please consider making the debug output show explicitly the parameters that are used in the SQL query, and how they refer to the  boundaries that are mentioned, as this may clarify if the truncation is occurring on the inserted data or some conversion used as part of the where clause.\n\nThe current definition is: (sorry for obfuscating the column names )\n\nCREATE TABLE `UserBooking` (\n  `user_id` int(10) unsigned NOT NULL,\n  `t_id` int(10) unsigned NOT NULL,\n  `hr_id` int(10) unsigned NOT NULL DEFAULT '0',\n  `h_id` mediumint(9) NOT NULL DEFAULT '0',\n  `ci` date DEFAULT NULL,\n  `co` date DEFAULT NULL,\n  `p` double NOT NULL DEFAULT '0',\n  `cc` char(3) DEFAULT NULL,\n  `status` enum('value1','value2','value3','value4','value5','value6','unknown') NOT NULL DEFAULT 'unknown',\n  `date_cancelled` date DEFAULT NULL,\n  `created` timestamp NOT NULL DEFAULT '1970-01-01 01:00:01',\n  `a_id` int(10) unsigned NOT NULL DEFAULT '0',\n  `rp` tinyint(3) unsigned NOT NULL DEFAULT '1',\n  `bp` tinyint(3) unsigned NOT NULL DEFAULT '1',\n  `obi` tinyint(3) unsigned DEFAULT '0',\n  `v` enum('value1','value2') DEFAULT 'value1',\n  PRIMARY KEY (`user_id`,`t_id`),\n  KEY `hr_id` (`hr_id`),\n  KEY `created` (`created`),\n  KEY `transaction_id` (`t_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1\n \n(2) Don't do this: This MySQL error is being ignored and further occurrences of it will not be reported.\n\nPlease collect a counter of the warnings and since you know the number of inserts it would be good to write at the end of the run:\n\nXXXX inserts completed into the new table: `db`.`MyTable`\nXXX warnings found when executing those inserts.\n\nThis gives the DBA a better clue as to whether the issue was a one off or not which when modifying multiple GB tables is really an absolute must.  Otherwise it seems to be \"trust the script and hope for the best\", something I'd like to do but only if it tells me all I need to know.\n\nSeen this on:\n* MySQL-server-5.5.16\n* CentOS 5.6, x86_64\n* percona-toolkit-2.1.2-1\n\nI can provide more detailed log files if needed.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1045317/related_tasks", 
"date_assigned": "2012-09-10T14:21:08.755952+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change doesn't report parameters passed in INSERT LOW_PRIORITY IGNORE", 
"title": "Bug #1045317 in Percona Toolkit: \"pt-online-schema-change doesn't report parameters passed in INSERT LOW_PRIORITY IGNORE\"", 
"date_confirmed": "2012-09-10T14:21:03.373776+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1045317", 
"date_left_new": "2012-09-10T14:21:03.373776+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1045317", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"9e5beb0ca076f2517066899873f75e261586fc21-84bd898ae7bb00a4fca9b95682f53aafde9e950f\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1045317", 
"date_created": "2012-09-03T12:56:56.645438+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"ambiguity", 
"error-message", 
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 1047335, 
"date_in_progress": null, 
"bug_description": "$ PTDEBUG=1 pt-duplicate-key-checker\n# /usr/bin/perl 5.008008\n# Linux xxxx.xxxx.com  2.6.18-308.8.2.el5 #1 SMP Tue Jun 12 09:58:12 EDT 2012 x86_64 x86_64 x86_64 GNU/Linux \n# Arguments: \n# OptionParser:1123 14204 Option rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:1132 14204 =item --all-structs\n# OptionParser:1151 14204 Option has no attributes\n# OptionParser:1159 14204 Short help: Compare indexes with different structs (BTREE, HASH, etc)\n# OptionParser:1132 14204 =item --ask-pass\n# OptionParser:1151 14204 Option has no attributes\n# OptionParser:1159 14204 Short help: Prompt for a password when connecting to MySQL\n# OptionParser:1132 14204 =item --charset\n# OptionParser:1159 14204 Short help: Default character set\n# OptionParser:1132 14204 =item --[no]clustered\n# OptionParser:1159 14204 Short help: PK columns appended to secondary key is duplicate\n# OptionParser:1132 14204 =item --config\n# OptionParser:1159 14204 Short help: Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:1132 14204 =item --databases\n# OptionParser:1159 14204 Short help: Check only this comma-separated list of databases\n# OptionParser:1132 14204 =item --defaults-file\n# OptionParser:1159 14204 Short help: Only read mysql options from the given file\n# OptionParser:1132 14204 =item --engines\n# OptionParser:1159 14204 Short help: Check only tables whose storage engine is in this comma-separated list\n# OptionParser:1132 14204 =item --help\n# OptionParser:1151 14204 Option has no attributes\n# OptionParser:1159 14204 Short help: Show help and exit\n# OptionParser:1132 14204 =item --host\n# OptionParser:1159 14204 Short help: Connect to host\n# OptionParser:1132 14204 =item --ignore-databases\n# OptionParser:1159 14204 Short help: Ignore this comma-separated list of databases\n# OptionParser:1132 14204 =item --ignore-engines\n# OptionParser:1159 14204 Short help: Ignore this comma-separated list of storage engines\n# OptionParser:1132 14204 =item --ignore-order\n# OptionParser:1151 14204 Option has no attributes\n# OptionParser:1159 14204 Short help: Ignore index order so KEY(a,b) duplicates KEY(b,a)\n# OptionParser:1132 14204 =item --ignore-tables\n# OptionParser:1159 14204 Short help: Ignore this comma-separated list of tables\n# OptionParser:1132 14204 =item --key-types\n# OptionParser:1159 14204 Short help: Check for duplicate f=foreign keys, k=keys or fk=both\n# OptionParser:1132 14204 =item --password\n# OptionParser:1159 14204 Short help: Password to use when connecting\n# OptionParser:1132 14204 =item --pid\n# OptionParser:1159 14204 Short help: Create the given PID file\n# OptionParser:1132 14204 =item --port\n# OptionParser:1159 14204 Short help: Port number to use for connection\n# OptionParser:1132 14204 =item --set-vars\n# OptionParser:1159 14204 Short help: Set these MySQL variables\n# OptionParser:1132 14204 =item --socket\n# OptionParser:1159 14204 Short help: Socket file to use for connection\n# OptionParser:1132 14204 =item --[no]sql\n# OptionParser:1159 14204 Short help: Print DROP KEY statement for each duplicate key\n# OptionParser:1132 14204 =item --[no]summary\n# OptionParser:1159 14204 Short help: Print summary of indexes at end of output\n# OptionParser:1132 14204 =item --tables\n# OptionParser:1159 14204 Short help: Check only this comma-separated list of tables\n# OptionParser:1132 14204 =item --user\n# OptionParser:1159 14204 Short help: User for login if not current user\n# OptionParser:1132 14204 =item --verbose\n# OptionParser:1159 14204 Short help: Output all keys and/or foreign keys found, not just redundant ones\n# OptionParser:1132 14204 =item --version\n# OptionParser:1151 14204 Option has no attributes\n# OptionParser:1159 14204 Short help: Show version and exit\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => all-structs desc => Compare indexes with different structs (BTREE, HASH, etc)\n# OptionParser:1236 14204 all-structs type: undef\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => ask-pass desc => Prompt for a password when connecting to MySQL\n# OptionParser:1236 14204 ask-pass type: undef\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => charset|A=s desc => Default character set\n# OptionParser:1236 14204 charset type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => clustered! desc => PK columns appended to secondary key is duplicate (default yes)\n# OptionParser:1236 14204 clustered type: undef\n# OptionParser:1243 14204 clustered default: yes\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => config=A desc => Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:1236 14204 config type: A\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => databases|d=h desc => Check only this comma-separated list of databases\n# OptionParser:1236 14204 databases type: h\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => defaults-file|F=s desc => Only read mysql options from the given file\n# OptionParser:1236 14204 defaults-file type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => engines|e=h desc => Check only tables whose storage engine is in this comma-separated list\n# OptionParser:1236 14204 engines type: h\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => help desc => Show help and exit\n# OptionParser:1236 14204 help type: undef\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => host|h=s desc => Connect to host\n# OptionParser:1236 14204 host type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => ignore-databases=H desc => Ignore this comma-separated list of databases\n# OptionParser:1236 14204 ignore-databases type: H\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => ignore-engines=H desc => Ignore this comma-separated list of storage engines\n# OptionParser:1236 14204 ignore-engines type: H\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => ignore-order desc => Ignore index order so KEY(a,b) duplicates KEY(b,a)\n# OptionParser:1236 14204 ignore-order type: undef\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => ignore-tables=H desc => Ignore this comma-separated list of tables\n# OptionParser:1236 14204 ignore-tables type: H\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => key-types=s desc => Check for duplicate f=foreign keys, k=keys or fk=both (default fk)\n# OptionParser:1236 14204 key-types type: s\n# OptionParser:1243 14204 key-types default: fk\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => password|p=s desc => Password to use when connecting\n# OptionParser:1236 14204 password type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => pid=s desc => Create the given PID file\n# OptionParser:1236 14204 pid type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => port|P=i desc => Port number to use for connection\n# OptionParser:1236 14204 port type: i\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => set-vars=s desc => Set these MySQL variables (default wait_timeout=10000)\n# OptionParser:1236 14204 set-vars type: s\n# OptionParser:1243 14204 set-vars default: wait_timeout=10000\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => socket|S=s desc => Socket file to use for connection\n# OptionParser:1236 14204 socket type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => sql! desc => Print DROP KEY statement for each duplicate key (default yes)\n# OptionParser:1236 14204 sql type: undef\n# OptionParser:1243 14204 sql default: yes\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => summary! desc => Print summary of indexes at end of output (default yes)\n# OptionParser:1236 14204 summary type: undef\n# OptionParser:1243 14204 summary default: yes\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => tables|t=h desc => Check only this comma-separated list of tables\n# OptionParser:1236 14204 tables type: h\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => user|u=s desc => User for login if not current user\n# OptionParser:1236 14204 user type: s\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => verbose|v desc => Output all keys and/or foreign keys found, not just redundant ones\n# OptionParser:1236 14204 verbose type: undef\n# OptionParser:1198 14204 Parsing opt spec: group => default spec => version desc => Show version and exit\n# OptionParser:1236 14204 version type: undef\n# OptionParser:1258 14204 Parsing rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:1314 14204 Participants for This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details. :\n# OptionParser:1290 14204 Strict mode disabled by rule\n# OptionParser:1042 14204 Parsing DSN OPTIONS\n# OptionParser:1132 14204 =item * A\n# OptionParser:1159 14204 Short help: Default character set\n# OptionParser:1132 14204 =item * D\n# OptionParser:1159 14204 Short help: Default database\n# OptionParser:1132 14204 =item * F\n# OptionParser:1159 14204 Short help: Only read default options from the given file\n# OptionParser:1132 14204 =item * h\n# OptionParser:1159 14204 Short help: Connect to host\n# OptionParser:1132 14204 =item * p\n# OptionParser:1159 14204 Short help: Password to use when connecting\n# OptionParser:1132 14204 =item * P\n# OptionParser:1159 14204 Short help: Port number to use for connection\n# OptionParser:1132 14204 =item * S\n# OptionParser:1159 14204 Short help: Socket file to use for connection\n# OptionParser:1132 14204 =item * u\n# OptionParser:1159 14204 Short help: User for login if not current user\n# DSNParser:612 14204 DSN option: copy=1, dsn=charset, desc=Default character set, key=A\n# DSNParser:612 14204 DSN option: copy=1, dsn=database, desc=Default database, key=D\n# DSNParser:612 14204 DSN option: copy=1, dsn=mysql_read_default_file, desc=Only read default options from the given file, key=F\n# DSNParser:612 14204 DSN option: copy=1, dsn=host, desc=Connect to host, key=h\n# DSNParser:612 14204 DSN option: copy=1, dsn=password, desc=Password to use when connecting, key=p\n# DSNParser:612 14204 DSN option: copy=1, dsn=port, desc=Port number to use for connection, key=P\n# DSNParser:612 14204 DSN option: copy=1, dsn=mysql_socket, desc=Socket file to use for connection, key=S\n# DSNParser:612 14204 DSN option: copy=1, dsn=user, desc=User for login if not current user, key=u\n# OptionParser:1086 14204 pt-duplicate-key-checker 2.1.3\n# OptionParser:1398 14204 Cannot open /etc/percona-toolkit/percona-toolkit.conf: No such file or directory\n# \n# OptionParser:1398 14204 Cannot open /etc/percona-toolkit/pt-duplicate-key-checker.conf: No such file or directory\n# \n# OptionParser:1398 14204 Cannot open /home/percona/.percona-toolkit.conf: No such file or directory\n# \n# OptionParser:1398 14204 Cannot open /home/percona/.pt-duplicate-key-checker.conf: No such file or directory\n# \n# OptionParser:1586 14204 Nothing to validate for option key-types type s value fk\n# OptionParser:1586 14204 Nothing to validate for option engines type h value undef\n# OptionParser:1586 14204 Nothing to validate for option tables type h value undef\n# OptionParser:1586 14204 Nothing to validate for option password type s value undef\n# OptionParser:1586 14204 Nothing to validate for option pid type s value undef\n# OptionParser:1586 14204 Nothing to validate for option user type s value undef\n# OptionParser:1586 14204 Nothing to validate for option databases type h value undef\n# OptionParser:1586 14204 Nothing to validate for option charset type s value undef\n# OptionParser:1586 14204 Nothing to validate for option set-vars type s value wait_timeout=10000\n# OptionParser:1586 14204 Nothing to validate for option port type i value undef\n# OptionParser:1586 14204 Nothing to validate for option socket type s value undef\n# OptionParser:1586 14204 Nothing to validate for option defaults-file type s value undef\n# OptionParser:1586 14204 Nothing to validate for option host type s value undef\n# DSNParser:628 14204 Setting set-vars property\n# OptionParser:1660 14204 Getting description and usage from SYNOPSIS in /home/percona/bin/pt-duplicate-key-checker\n# OptionParser:1913 14204 Parsing SYNOPSIS in /home/percona/bin/pt-duplicate-key-checker\n# OptionParser:1926 14204 Raw SYNOPSIS text: Usage: pt-duplicate-key-checker [OPTION...] [DSN]\n# \n#  pt-duplicate-key-checker examines MySQL tables for duplicate or redundant\n# indexes and foreign keys.  Connection options are read from MySQL option files.\n# \n# \n# OptionParser:1664 14204 Description: pt-duplicate-key-checker examines MySQL tables for duplicate or redundant indexes and foreign keys.  Connection options are read from MySQL option files. \n# Usage: pt-duplicate-key-checker [OPTION...] [DSN]\n# DSNParser:700 14204 DSN string made from options: \n# DSNParser:637 14204 No DSN to parse\n# DSNParser:752 14204 DBI:mysql:;;mysql_read_default_group=client\n# DSNParser:798 14204 DBI:mysql:;;mysql_read_default_group=client   undef   undef mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:826 14204 DBI::db=HASH(0x121b6e30) SELECT @@SQL_MODE\n# DSNParser:836 14204 DBI::db=HASH(0x121b6e30) SET @@SQL_QUOTE_SHOW_CREATE = 1/*!40101, @@SQL_MODE='NO_AUTO_VALUE_ON_ZERO'*/\n# DSNParser:863 14204 DBI::db=HASH(0x121b6e30) : SET wait_timeout=10000\n# DSNParser:871 14204 DBH info:  DBI::db=HASH(0x121b6e30) $VAR1 = {\n#   '@@hostname' => 'xxxx.xxxxx.com',\n#   'CONNECTION_ID()' => '866434',\n#   'DATABASE()' => undef,\n#   'VERSION()' => '5.1.60-community-log'\n# };\n#  Connection info: Localhost via UNIX socket Character set info: $VAR1 = [\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_client'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_connection'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_database'\n#   },\n#   {\n#     Value => 'binary',\n#     Variable_name => 'character_set_filesystem'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_results'\n#   },\n#   {\n#     Value => 'latin1',\n#     Variable_name => 'character_set_server'\n#   },\n#   {\n#     Value => 'utf8',\n#     Variable_name => 'character_set_system'\n#   },\n#   {\n#     Value => '/usr/share/mysql/charsets/',\n#     Variable_name => 'character_sets_dir'\n#   }\n# ];\n#  $DBD::mysql::VERSION: 3.0007 $DBI::VERSION: 1.52\n# SchemaIterator:2987 14204 Schema object filters: $VAR1 = {};\n# \n# SchemaIterator:3093 14204 Getting next schema object from dbh DBI::db=HASH(0x121b6e30)\n# SchemaIterator:3097 14204 SHOW DATABASES\n# SchemaIterator:3159 14204 Database information_schema is a system database, ignoring\n# SchemaIterator:3159 14204 Database #mysql50#lost+found is a system database, ignoring\n# SchemaIterator:3100 14204 Found 9 databases\n# SchemaIterator:3108 14204 Next database: backup\n# SchemaIterator:3114 14204 SHOW /*!50002 FULL*/ TABLES FROM `backup`\n# SchemaIterator:3125 14204 Found 1 tables in database backup\n# TableParser:177 14204 /*!40101 SET @OLD_SQL_MODE := @@SQL_MODE, @@SQL_MODE := REPLACE(REPLACE(@@SQL_MODE, 'ANSI_QUOTES', ''), ',,', ','), @OLD_QUOTE := @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE := 1 */\n# TableParser:182 14204 DBI::db=HASH(0x121b6e30) USE `backup`\n# TableParser:186 14204 SHOW CREATE TABLE `backup`.`tra_Documentation`\n# TableParser:190 14204 DBD::mysql::db selectrow_hashref failed: Table './backup/tra_Documentation' is marked as crashed and last (automatic?) repair failed [for Statement \"SHOW CREATE TABLE `backup`.`tra_Documentation`\"] at /home/percona/bin/pt-duplicate-key-checker line 188.\n# \n# TableParser:192 14204 /*!40101 SET @@SQL_MODE := @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE := @OLD_QUOTE */\n# SchemaIterator:3244 14204 No engine specified; allowing the table\n# SchemaIterator:3016 14204 Next schema object: backup tra_Documentation\nUse of uninitialized value in pattern match (m//) at /home/percona/bin/pt-duplicate-key-checker line 408.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047335/related_tasks", 
"date_assigned": "2012-09-10T14:07:12.505648+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-duplicate-key-checker fails when it encounters a crashed table", 
"title": "Bug #1047335 in Percona Toolkit: \"pt-duplicate-key-checker fails when it encounters a crashed table\"", 
"date_confirmed": "2012-09-10T14:07:08.267720+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1047335", 
"date_left_new": "2012-09-10T14:07:08.267720+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1047335", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"d71f9ca933e1d5acbecc75bc6432996e7cfe2afc-31f0055f0250c63712a163c0bac64957aad06d3d\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047335", 
"date_created": "2012-09-07T12:45:59.972694+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-duplicate-key-checker"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-09-28T19:20:47.525233+00:00", 
"bug_id": 1047701, 
"date_in_progress": "2012-10-06T17:09:06.015300+00:00", 
"bug_description": "Actually that's only half true.   It's too aggressive about when it checks for empty files -- some important files that are slow to get their data are deleted, even though they would return data if the script waited longer:\n\n   $CMD_MYSQL $EXT_ARGV -e \"$innostat\" >> \"$d/$p-innodbstatus2\" &\n   $CMD_MYSQL $EXT_ARGV -e \"$mutex\"    >> \"$d/$p-mutex-status2\" &\n   open_tables                         >> \"$d/$p-opentables2\"   &\n\n   kill $mysqladmin_pid\n   [ \"$tail_error_log_pid\" ] && kill $tail_error_log_pid\n   [ \"$tcpdump_pid\" ]        && kill $tcpdump_pid\n\n   hostname > \"$d/$p-hostname\"\n\n   for file in \"$d/$p-\"*; do\n      if [ -z \"$(grep -v '^TS ' --max-count 1 \"$file\")\" ]; then\n         log \"Removing empty file $file\";\n         rm \"$file\"\n      fi\n   done\n\nIn particular I never get the mutex-status2 output, because it takes several seconds for the command to return any output.  The for loop at the end happens before that, and deletes the file before it's written to, resulting in data loss.\n\nI'm not sure the best solution to this; inserting a sleep before the file cleanup is pretty arbitrary.  Maybe checking for no more child processes (with a timeout) would be a better approach.   My bash-fu isn't quite good enough for this one I think.  My work around is to simply comment out the file cleanup.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047701/related_tasks", 
"date_assigned": "2012-10-06T17:09:08.470686+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk deletes non-empty files", 
"title": "Bug #1047701 in Percona Toolkit: \"pt-stalk deletes non-empty files\"", 
"date_confirmed": "2012-09-28T19:20:47.525233+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1047701", 
"date_left_new": "2012-09-28T19:20:47.525233+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1047701", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"256ed21a3b158ab68abea2d1f8dcce9f7291fe75-0ad9c952c9694a729c1c283d8063596ac2d01e8c\"", 
"owner_link": "https://api.launchpad.net/devel/~gtowey", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-13T20:14:25.368592+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047701", 
"date_created": "2012-09-08T01:02:56.680758+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1050737, 
"date_in_progress": null, 
"bug_description": "On a new gentoo box:\n$ sudo emerge --sync\n$ sudo emerge portage\n$ sudo emerge -Du world\n$ sudo emerge dev-perl/DBD-mysql\n$ sudo emerge bzr\n$ bzr branch lp:percona-toolkit\n$ cd percona-toolkit/\n$ PERCONA_TOOLKIT_BRANCH=`pwd` PERCONA_TOOLKIT_SANDBOX=/usr PATH=$PERCONA_TOOLKIT_SANDBOX/bin:$PATH LD_LIBRARY_PATH=$PERCONA_TOOLKIT_SANDBOX/lib prove t/pt-table-checksum/resume.t\nt/pt-table-checksum/resume.t .. 30/48 09-14T06:59:25 Error checksumming table test.t3: Illegal division by zero at /home/vagrant/portable-test-suite/bin/pt-table-checksum line 8933.\n\nThis diff fixes it, although I haven't dug any further than that: \n=== modified file 'bin/pt-table-checksum'\n--- bin/pt-table-checksum\t2012-08-29 23:00:34 +0000\n+++ bin/pt-table-checksum\t2012-09-14 04:45:08 +0000\n@@ -8929,7 +8929,7 @@\n             # Update the rate of rows per second for the entire server.\n             # This is used for the initial chunk size of the next table.\n             $total_rows += $cnt;\n-            $total_time += $tbl->{nibble_time};\n+            $total_time += $tbl->{nibble_time} || 1;\n             $total_rate  = int($total_rows / $total_time);\n             PTDEBUG && _d('Total avg rate:', $total_rate);\n\nThere's also a similar bug in pt-osc and this:\nt/pt-archiver/issue_131.t ............ Illegal division by zero at /home/vagrant/portable-test-suite/bin/pt-archiver line 5784.\n\nWhich is $stat_total:\n      foreach my $stat (\n         reverse sort { $a->{time} <=> $b->{time} } values %summary )\n      {\n         my $pct = $stat->{time} / $stat_total * 100;\n         printf($fmt, @{$stat}{qw(action count time)}, $pct);\n         $total2 += $stat->{time};\n      }\n\n\n---\n\nI've actually investigated a bit further. It may come down to this:\nUbuntu 12.04:\n$ perl -MTime::HiRes=time -E '$t = time(); sleep 0.900; $t2 = time(); printf \"%.6f\\n%.6f\\n\", $t, $t2; printf \"%.6f\\n\", ($t2 - $t)'\n1347624407.872023\n1347624407.872031\n0.000008\n\nGentoo:\n$ perl -MTime::HiRes=time -E '$t = time(); sleep 0.900; $t2 = time(); printf \"%.6f\\n%.6f\\n\", $t, $t2; printf \"%.6f\\n\", ($t2 - $t)'\n1347624428.420000\n1347624428.420000\n0.000000\n\nMaybe Gentoo doesn't have a gettimeofday()? Or has it but with less precision than the spec describes? I don't know how to detect this from Perl, but I figure that defaulting to  0.009 should do the trick -- 1 second would throw the statistics out of the window, and looks like at least two microseconds are guaranteed.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1050737/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "divison by zero errors on default Gentoo mysql", 
"title": "Bug #1050737 in Percona Toolkit: \"divison by zero errors on default Gentoo mysql\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1050737", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1050737", 
"milestone_link": null, 
"http_etag": "\"3f88c3a9ba3421bee1735acf4b5ef8b0ce96b77a-567f9107ff54a3368f32658fee513b01558fcd00\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1050737", 
"date_created": "2012-09-14T05:09:55.688214+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"gentoo", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 1052722, 
"date_in_progress": null, 
"bug_description": "I am using pt-fifo-split to split a file into smaller chunks. I found out that for some reason on the first pass, pt-fifo-split will provide n-1 rows. Basically if you ask for two rows, it will provide 1 row on first pass. If you ask for 100,000 rows, it will provide 99,999 rows on the first pass. After that pt-fifo-split will provide the requested number of rows. I am not supplying any offset parameters. Anyway, so far it seems to process all rows in a small test file. I am loading data into Percona Server by using pt-fifo-split and LOAD DATA INFILE.\n\nI would expect pt-fifo-split to produce the requested number of rows, except possibly on the last pass if the number of rows remaining is smaller than n lines.\n\nHere is some additional information (some output has been abbreviated).\n\nmysql> select version();\n+-----------+\n| version() |\n+-----------+\n| 5.5.15    |\n+-----------+\n\nbash> perl --version\nThis is perl 5, version 14, subversion 2 (v5.14.2) built for x86_64-linux\n\nbash> wc -l test.txt\n10 test.txt\n\nbash> pt-fifo-split --version\npt-fifo-split 2.1.3\n\nbash> pt-fifo-split --lines 2 /path/test.txt\n\nbash> cat load.log | grep -A4 'LOAD DATA INFILE'\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 1 row affected (0.09 sec)\n--\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 2 rows affected (0.00 sec)\n--\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 2 rows affected (0.01 sec)\n--\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 2 rows affected (0.03 sec)\n--\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 2 rows affected (0.00 sec)\n--\nLOAD DATA INFILE '/tmp/pt-fifo-split'\nINTO TABLE test_table\n--------------\n\nQuery OK, 1 row affected (0.00 sec)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052722/related_tasks", 
"date_assigned": "2012-09-26T21:53:13.661367+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-fifo-split is processing n-1 rows initially", 
"title": "Bug #1052722 in Percona Toolkit: \"pt-fifo-split is processing n-1 rows initially\"", 
"date_confirmed": "2012-09-26T21:53:10.938025+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1052722", 
"date_left_new": "2012-09-26T21:53:10.938025+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1052722", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"f26e3940e4b7953fed3bc1f05146dbacb8191db1-31f0055f0250c63712a163c0bac64957aad06d3d\"", 
"owner_link": "https://api.launchpad.net/devel/~dimitriya", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052722", 
"date_created": "2012-09-19T01:05:41.550023+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-fifo-split"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-09-26T13:05:56.762917+00:00", 
"bug_id": 1056838, 
"date_in_progress": null, 
"bug_description": "Well, really, it's --interval that's different, but it affects --run-time.\n\npt-deadlock-logger says this about --run-time:\n\"If L<\"--run-time\"> is specified but no L<\"--interval\"> is specified, a default 1 second interval will be used.\"\n\nWhich while a bit magical, does the right thing; Meanwhile, pt-fk-error-logger's --run-time says nothing about --interval, and if none of the latter is specified, silently quits after finding it's first fk error.\n\n(originally reported by Migual Angel Nieto)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056838/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-fk-error-logger --run-time works differently than pt-deadlock-logger --run-time", 
"title": "Bug #1056838 in Percona Toolkit: \"pt-fk-error-logger --run-time works differently than pt-deadlock-logger --run-time\"", 
"date_confirmed": "2012-09-26T13:05:56.762917+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1056838", 
"date_left_new": "2012-09-26T13:05:56.762917+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1056838", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"4c707b505a354e5e599c85665c320b8dc2c2df86-44dbcfe37d3800a4e731706258b73d5b17d2bd57\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056838", 
"date_created": "2012-09-26T13:05:30.836472+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-deadlock-logger", 
"pt-fk-error-logger"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 1058285, 
"date_in_progress": null, 
"bug_description": "(This is our internal issue 26211 -- reporting it here so it can be tagged for the next release)\n\nNamely, this: NO_AUTO_VALUE_ON_ZERO,PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,ORACLE,NO_KEY_OPTIONS,NO_TABLE_OPTIONS,NO_FIELD_OPTIONS,NO_AUTO_CREATE_USER\n\nProduces several errors if a table is altered and has foreign keys / doesn't have any data / maybe something else. It can be fixed by calling ->ansi_to_legacy on the output of ->get_create_table, or by making the regexes understand ansi quoting.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1058285/related_tasks", 
"date_assigned": "2012-09-28T19:17:15.495576+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change doesn't work with ANSI_QUOTES + some other sql_modes", 
"title": "Bug #1058285 in Percona Toolkit: \"pt-online-schema-change doesn't work with ANSI_QUOTES + some other sql_modes\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1058285", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1058285", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"d341f7a43fb393c957bc90872abfa4f4318c89ee-50534711a81e064d71e63d34dedbae0d7dd366d0\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1058285", 
"date_created": "2012-09-28T19:17:15.129439+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-online-schema-change", 
"sql-mode"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": null, 
"date_triaged": "2012-10-02T19:54:26.036298+00:00", 
"bug_id": 1059732, 
"date_in_progress": null, 
"bug_description": "pt-table-checksum doesn't test all hash functions in available array and continues anyway on error.\n\nTo Test/Reproduce:\n Change line:\nmy @funcs = qw(CRC32 MD5 SHA1);\n To:\nmy @funcs = qw(CRC32A MD5 SHA1);\n\nRun pt-t-c. The test for CRC32A will fail but script continues as if it has chosen bad function. Script will eventually exit on SQL error when master attempts to use bad function.\n\nAdditionally, the online-documentation implies that pt-t-c will check for \"recommended\" functions (MURMUR_HASH, FNV1A_64) and it does not.\n\nThe attached patch adds MURMUR_HASH, FNV1A_64 and FNV_64 to check list in preferred order over built-ins. The patch also continues evaluation of all functions until it finds one or dies with appropriate message.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059732/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't test all hash functions", 
"title": "Bug #1059732 in Percona Toolkit: \"pt-table-checksum doesn't test all hash functions\"", 
"date_confirmed": "2012-10-02T19:54:26.036298+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1059732", 
"date_left_new": "2012-10-02T19:54:26.036298+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1059732", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"8c5b019b9c2c83354f199888df852f4198cf65e8-44dbcfe37d3800a4e731706258b73d5b17d2bd57\"", 
"owner_link": "https://api.launchpad.net/devel/~utdrmac", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059732", 
"date_created": "2012-10-01T16:32:33.633751+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"chunking", 
"crash", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-04T16:05:04.066563+00:00", 
"bug_id": 1060590, 
"date_in_progress": "2012-10-11T23:36:05.086361+00:00", 
"bug_description": "While syncing a slave to master, replication broke for another reason, not important to this bug. What is important is that pt-table-sync error'd with bad value:\n\nMASTER_POS_WAIT() returned NULL.  Verify that the slave is running.  Sleeping HASH(0x10dc1c0) seconds then retrying 2 more times.\nUse of uninitialized value in sleep at /usr/bin/pt-table-sync line 6060.  while doing trinity.plat_device_link_1003 on slavedb01\n\nThis is line 6060:\n\nwait  => sub { sleep $args{wait_retry_args}->{wait}  || 10 },\n\n$args{wait_retry_args} is not defined anywhere in script.\n\nLine 6091 is this:\n  $msg .= \"  Sleeping $wait seconds then retrying \"\n\nbut $wait is defined above as the result of \"$wait = $ms->wait_for_master(...)\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060590/related_tasks", 
"date_assigned": "2012-10-04T16:05:30.284062+00:00", 
"bug_information_type": "Public", 
"bug_title": "Default value for sleep is a hash, not a real value", 
"title": "Bug #1060590 in Percona Toolkit: \"Default value for sleep is a hash, not a real value\"", 
"date_confirmed": "2012-10-04T16:05:04.066563+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1060590", 
"date_left_new": "2012-10-04T16:05:04.066563+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1060590", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"8aeb5b4b21110a8da7c7b264f6c95176429e23aa-29c7e0de793e0faa29513531635d7dfb12d39211\"", 
"owner_link": "https://api.launchpad.net/devel/~utdrmac", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060590", 
"date_created": "2012-10-03T03:26:37.354292+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-table-sync", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Medium", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-04T16:07:17.695663+00:00", 
"bug_id": 1060774, 
"date_in_progress": "2012-10-04T21:16:58.100484+00:00", 
"bug_description": "My slow query log (generated from the real log by pt-query-digest contains the following query):\n\nuse XXX;\nSELECT (UNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP('2012-09-16 10:16:36')) / 60;\n\n(I've obscured the DB name)\n\nThis unfortunately causes pt-upgrade to break:\n\n# pt_upgrade:10801 5341 DBD::mysql::db do failed: Identifier name '(UNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP('2012-09-16 10:16:36')) / 60' is too long at /usr/bin/pt-upgrade line 9070, <$fh> line 23515.\n#\nNewline in left-justified string for sprintf at /usr/bin/pt-upgrade line 8293, <$fh> line 23515.\n\n[root@toolkit]# pt-upgrade --version\npt-upgrade 2.1.3\n[root@toolkit]# cat /etc/issue\nCentOS release 5.7 (Final)\nKernel \\r on an \\m", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060774/related_tasks", 
"date_assigned": "2012-10-04T16:07:22.055729+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade fails on a select query", 
"title": "Bug #1060774 in Percona Toolkit: \"pt-upgrade fails on a select query\"", 
"date_confirmed": "2012-10-04T16:07:17.695663+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1060774", 
"date_left_new": "2012-10-04T16:07:17.695663+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1060774", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"7064339be8cad115b8f75f8d4b51dbf0a8a4f01e-29c7e0de793e0faa29513531635d7dfb12d39211\"", 
"owner_link": "https://api.launchpad.net/devel/~chris+launchpad-b", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060774", 
"date_created": "2012-10-03T08:20:00.385744+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2011-12-23T21:11:05.011886+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 819453, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1327", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819453/related_tasks", 
"date_assigned": "2011-08-01T18:27:24.262698+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --tab doesn't work", 
"title": "Bug #819453 in Percona Toolkit: \"pt-table-checksum --tab doesn't work\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/819453", 
"date_left_new": "2011-12-23T21:11:05.011886+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/819453", 
"milestone_link": null, 
"http_etag": "\"4dd0d0939b0693763012e2d0c967ef94a7ac79be-4df83849e0e877815b6bce7778de885291703e67\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/819453", 
"date_created": "2011-08-01T18:27:23.912781+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:05:00.637430+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-06-12T00:43:52.381177+00:00", 
"bug_id": 820104, 
"date_in_progress": "2012-06-12T00:43:52.381177+00:00", 
"bug_description": "pt-query-digest --[no]zero-bool doesn't work because the option isn't used.  This was detected by util/check-tool.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/820104/related_tasks", 
"date_assigned": "2012-03-01T17:21:58.888670+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --[no]zero-bool doesn't work", 
"title": "Bug #820104 in Percona Toolkit: \"pt-query-digest --[no]zero-bool doesn't work\"", 
"date_confirmed": "2012-03-01T17:21:56.521179+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/820104", 
"date_left_new": "2012-03-01T17:21:56.521179+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/820104", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"a22e74a87c5ec5fbc1d9e954b978abc4e00fcfd7-38b77742aed1e8ba6037e53231b33ca2d311dbf8\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-12T00:55:44.238273+00:00", 
"date_fix_released": "2012-06-19T20:05:00.637430+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/820104", 
"date_created": "2011-08-02T23:21:31.680033+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"broken-option", 
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821502, 
"date_in_progress": null, 
"bug_description": "--version doesn't work, and it should.  We probably need some common code library to implement this by pulling it out of the POD.  Example:\n\n[baron@ginger bin]$ ./pt-sift --version\n[baron@ginger bin]$", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821502/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "The formerly Aspersa tools need --version implemented", 
"title": "Bug #821502 in Percona Toolkit: \"The formerly Aspersa tools need --version implemented\"", 
"date_confirmed": "2011-08-05T15:01:56.293333+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821502", 
"date_left_new": "2011-08-05T15:01:56.293333+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821502", 
"milestone_link": null, 
"http_etag": "\"7e755aeade6fe1e62311b1d972ca0928d6c5ad86-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821502", 
"date_created": "2011-08-05T14:42:45.267918+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-align", 
"pt-mext", 
"pt-pmp", 
"pt-sift"
]
}, 
{
"date_closed": "2012-03-01T16:24:03.559572+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-01T16:24:03.559572+00:00", 
"bug_id": 821675, 
"date_in_progress": "2012-03-01T16:24:03.559572+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1285\n\nThe bug summary says it all.  This is probably a rare problem though.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821675/related_tasks", 
"date_assigned": "2012-03-01T16:24:08.749829+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum can't parse column names containing periods", 
"title": "Bug #821675 in Percona Toolkit: \"pt-table-checksum can't parse column names containing periods\"", 
"date_confirmed": "2012-03-01T16:24:03.559572+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821675", 
"date_left_new": "2012-03-01T16:24:03.559572+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821675", 
"milestone_link": null, 
"http_etag": "\"3dbac55d01ecbeec5d7f5c0cd1b29fe23459369e-8eadb794245f4c9f5f25477715926177494aed3f\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-01T16:24:03.559572+00:00", 
"date_fix_released": "2012-03-01T16:24:03.559572+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821675", 
"date_created": "2011-08-05T21:11:41.721696+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"ident-quoting", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2011-12-23T21:06:39.642911+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821684, 
"date_in_progress": null, 
"bug_description": "Imported from: http://code.google.com/p/maatkit/issues/detail?id=1222\n\nQuoting the original:\n\nIf I say --algorithm=bit_xor, instead of saying there is no such algorithm and stopping, it runs through and fails on every table:\n\nInvalid checksum algorithm bit_xor at mk-table-checksum line 507.  while doing mysql.columns_priv\nInvalid checksum algorithm bit_xor at mk-table-checksum line 507.  while doing mysql.db\nInvalid checksum algorithm bit_xor at mk-table-checksum line 507.  while doing mysql.event\nInvalid checksum algorithm bit_xor at mk-table-checksum line 507.  while doing mysql.func\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821684/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't validate --algorithm", 
"title": "Bug #821684 in Percona Toolkit: \"pt-table-checksum doesn't validate --algorithm\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/821684", 
"date_left_new": "2011-12-23T21:06:39.642911+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821684", 
"milestone_link": null, 
"http_etag": "\"8dcb59c88aa3a7c77b508a1faa66a957f318a928-3ea08ca31e98e8f78b995d536ebf89cb6fcfcbb9\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821684", 
"date_created": "2011-08-05T21:37:14.821243+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821690, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1232\n\nThis mostly affect pt-query-digest.  \"DROP TABLE IF EXIST foo\" distills incorrectly to \"DROP TABLE IF\".", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821690/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "IF EXISTS doesn't distill correctly", 
"title": "Bug #821690 in Percona Toolkit: \"IF EXISTS doesn't distill correctly\"", 
"date_confirmed": "2012-03-08T04:11:58.627600+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821690", 
"date_left_new": "2012-03-08T04:11:58.627600+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821690", 
"milestone_link": null, 
"http_etag": "\"4acdab16c748a7dd66a4041d27aa60c511700312-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821690", 
"date_created": "2011-08-05T21:48:24.246818+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"distill", 
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821695, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1250\n\nQuoting the original:\n\nWhile checking for rule 'STA.001', the tool seems to blindly scan the query for the pattern '!=', and reports it even if it appears in comments, thus incorrectly reporting that the query has a non standard operation.\n\ne.g. A STA.001 note is generated for the query:\n/* use <> instead of != */ SELECT a.col FROM  table as a WHERE a.col2 = 20", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821695/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor parses text within comments", 
"title": "Bug #821695 in Percona Toolkit: \"pt-query-advisor parses text within comments\"", 
"date_confirmed": "2012-03-08T04:15:28.941176+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821695", 
"date_left_new": "2012-03-08T04:15:28.941176+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821695", 
"milestone_link": null, 
"http_etag": "\"225bbef80c66151c0da3cb41fb4eb7698c6772af-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821695", 
"date_created": "2011-08-05T21:53:03.243816+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest"
]
}, 
{
"date_closed": "2012-08-10T18:16:34.749785+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T17:45:50.667230+00:00", 
"bug_id": 821696, 
"date_in_progress": "2012-08-01T17:45:50.667230+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1230\n\nQuoting the original:\n\n# NOTE auto_increment: Are you trying to write to more than one server in a dual-master or ring replication configuration?  This is potentially very dangerous and in most cases is a serious mistake.\n\nThe above is two sentences because of the question-mark.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821696/related_tasks", 
"date_assigned": "2012-08-01T17:45:56.476318+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor shows too long of a snippet", 
"title": "Bug #821696 in Percona Toolkit: \"pt-variable-advisor shows too long of a snippet\"", 
"date_confirmed": "2012-03-08T04:16:06.484487+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821696", 
"date_left_new": "2012-03-08T04:16:06.484487+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821696", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"0132ca599937ed634f232f41f76a52f1cf95484f-9b12d33a87a1be769104960f5585ed263414cd23\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-01T20:45:40.844665+00:00", 
"date_fix_released": "2012-08-10T18:16:34.749785+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821696", 
"date_created": "2011-08-05T21:55:04.246499+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-variable-advisor"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821699, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=802", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821699/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Recursing to slave doesn't work with --defaults-file (-F)", 
"title": "Bug #821699 in Percona Toolkit: \"Recursing to slave doesn't work with --defaults-file (-F)\"", 
"date_confirmed": "2012-04-18T00:05:41.522225+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821699", 
"date_left_new": "2012-04-18T00:05:41.522225+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821699", 
"milestone_link": null, 
"http_etag": "\"49e83a8bf3c87c0e5a1f9ca972a6978e32b2f646-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821699", 
"date_created": "2011-08-05T22:07:22.252713+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"all-tools", 
"slave-recursion"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": "2012-03-08T13:49:17.622826+00:00", 
"bug_id": 821706, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1202\n\nQuoting the original:\n\nThe problem is in ProtocolParser::_get_session(): this sub will return early if the server in the packet doesn't match --watch-server.  Then in _parse_packet() we have:\n\n   if ( $packet_from eq 'server' ) {\n\nbut $packet_from will be undef if _get_session() returned early.  Fix: check retval of _get_session().", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821706/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --watch-server may crash", 
"title": "Bug #821706 in Percona Toolkit: \"pt-query-digest --watch-server may crash\"", 
"date_confirmed": "2012-03-08T13:49:17.622826+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821706", 
"date_left_new": "2012-03-08T13:49:17.622826+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821706", 
"milestone_link": null, 
"http_etag": "\"180d58fefa265137fef419405b4afb6195f3d6fe-aeed7506aa7c47b823bb513cfbabebacc218db2d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821706", 
"date_created": "2011-08-05T22:20:18.994501+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-02-08T15:29:12.499306+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-09T18:13:13.559577+00:00", 
"bug_id": 821709, 
"date_in_progress": "2012-01-09T18:13:13.559577+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1086\n\nQuoting original which also has a patch:\n\nExample output:\n\nGRANT UPDATE ON `mysql`.* TO 'foo'@'%';\nREVOKE GRANT UPDATE ON `mysql`.* TO 'foo'@'%' ON `mysql`.* FROM 'foo'@'%';\n\nShould be\n\nREVOKE UPDATE ON `mysql`.* FROM 'foo'@'%';", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821709/related_tasks", 
"date_assigned": "2012-01-09T18:11:34.878078+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-show-grants --revoke and --separate don't work together", 
"title": "Bug #821709 in Percona Toolkit: \"pt-show-grants --revoke and --separate don't work together\"", 
"date_confirmed": "2012-01-09T18:13:13.559577+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821709", 
"date_left_new": "2012-01-09T18:13:13.559577+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821709", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"18f86596783aad4a2d7717686e2d3287778986dd-ae960762f60a96c7ca51bb6f3884e5985b874d10\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-09T18:13:13.559577+00:00", 
"date_fix_released": "2012-02-08T15:29:12.499306+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821709", 
"date_created": "2011-08-05T22:22:41.057085+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-show-grants"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": "2012-03-08T13:50:31.442532+00:00", 
"bug_id": 821711, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1203\n\nQuoting the original:\n\nA grant will implicitly create a user. This is what mk-show-grants uses.\n\nmk-show-grants is used a lot to copy permissions from one server to oneother.\n\nThis however stops working if you set the NO_AUTO_CREATE_USER sql_mode.\n\nThis could be a solution:\nCreate a '--show-create-user' switch which will show the required 'CREATE USER 'user'@'host' IDENTIFIED BY...'", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821711/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-show-grants doesn't work with NO_AUTO_CREATE_USER sql_mode", 
"title": "Bug #821711 in Percona Toolkit: \"pt-show-grants doesn't work with NO_AUTO_CREATE_USER sql_mode\"", 
"date_confirmed": "2012-03-08T13:50:31.442532+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821711", 
"date_left_new": "2012-03-08T13:50:31.442532+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821711", 
"milestone_link": null, 
"http_etag": "\"14ed55f62eb9885492c418f777c5090c597fb65e-aeed7506aa7c47b823bb513cfbabebacc218db2d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821711", 
"date_created": "2011-08-05T22:25:28.587990+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-show-grants", 
"sql-mode"
]
}, 
{
"date_closed": "2012-01-09T17:59:09.713838+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-10-11T14:32:37.722839+00:00", 
"bug_id": 821717, 
"date_in_progress": "2011-10-11T14:32:37.722839+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1341", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821717/related_tasks", 
"date_assigned": "2011-10-11T14:32:41.532552+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-tcp-model --type=requests crashes", 
"title": "Bug #821717 in Percona Toolkit: \"pt-tcp-model --type=requests crashes\"", 
"date_confirmed": "2011-10-11T14:32:37.722839+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821717", 
"date_left_new": "2011-10-11T14:32:37.722839+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821717", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"091d4f358db771a309e4d57ed70aa4e51d7fbe68-0dfd8f55676507fb8aee6fcbea10a150dfb74c34\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-10-11T14:32:37.722839+00:00", 
"date_fix_released": "2012-01-09T17:59:09.713838+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821717", 
"date_created": "2011-08-05T22:52:04.041435+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-tcp-model"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": "2012-04-18T00:06:06.004538+00:00", 
"bug_id": 823417, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1103", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823417/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-log-player exceeds max open files during --split", 
"title": "Bug #823417 in Percona Toolkit: \"pt-log-player exceeds max open files during --split\"", 
"date_confirmed": "2012-04-18T00:06:06.004538+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/823417", 
"date_left_new": "2012-04-18T00:06:06.004538+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823417", 
"milestone_link": null, 
"http_etag": "\"fe8121d1fd58f733bf7c2af04e5e8766e1fee8ed-aeed7506aa7c47b823bb513cfbabebacc218db2d\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823417", 
"date_created": "2011-08-09T17:04:24.480045+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-log-player"
]
}, 
{
"date_closed": "2011-12-23T21:07:08.710489+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 823446, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1301\n\nmk-table-checksum --unchunkable-tables is set TRUE if --chunk-size isn't specified which is confusing.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823446/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --unchunkable-tables is auto-set true", 
"title": "Bug #823446 in Percona Toolkit: \"pt-table-checksum --unchunkable-tables is auto-set true\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/823446", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823446", 
"milestone_link": null, 
"http_etag": "\"add25a96511385a3c41cb363a75fd17a733ebe31-3ea08ca31e98e8f78b995d536ebf89cb6fcfcbb9\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823446", 
"date_created": "2011-08-09T17:39:22.599034+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 831525, 
"date_in_progress": null, 
"bug_description": "Looks like the output is truncated on the third line.\n\n  --report-format=A              Print these sections of the query analysis\n                                 report (default\n                                 ame,files,header,profile,query_report,prepared)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/831525/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest help output mangled", 
"title": "Bug #831525 in Percona Toolkit: \"pt-query-digest help output mangled\"", 
"date_confirmed": "2012-03-01T17:27:13.703972+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/831525", 
"date_left_new": "2012-03-01T17:27:13.703972+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/831525", 
"milestone_link": null, 
"http_etag": "\"35ac844d8f23b09a094b71be27d5efbc4e45d8df-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/831525", 
"date_created": "2011-08-22T18:02:46.870653+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest"
]
}, 
{
"date_closed": "2012-01-09T17:58:47.855155+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-16T17:09:45.529913+00:00", 
"bug_id": 844038, 
"date_in_progress": "2011-12-16T17:09:45.529913+00:00", 
"bug_description": "See: http://www.percona.com/doc/percona-toolkit/pt-online-schema-change.html (copy and pasting the example) -\n\nroot@baseubuntu:~# pt-online-schema-change   \\\n>   h=127.1,t=db.tbl        \\\n>   --alter \"ENGINE=InnoDB\" \\\n>   --drop-tmp-table\nUnknown option: drop-tmp-table\nUsage: pt-online-schema-change [OPTION...] DSN\n\nErrors in command-line arguments:\n  * Error parsing options\n\npt-online-schema-change performs online, non-blocking schema changes to a table.\nThe table to change must be specified in the DSN C<t> part, like C<t=my_table>.\nThe table can be database-qualified, or the database can be specified with the\nL<\"--database\"> option.  For more details, please use the --help option, or try\n'perldoc /usr/bin/pt-online-schema-change' for complete documentation.\n\n-----\n\nFrom the manual, I believe you mean the option --drop-old-table.\n\nThere is a second example in the manual which presumably will also fail:\n\npt-online-schema-change          \\\n  h=127.1,D=db,t=parent          \\\n  --alter \"ADD COLUMN (foo INT)\" \\\n  --child-tables child1,child2   \\\n  --update-foreign-keys-method drop_tmp_table", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844038/related_tasks", 
"date_assigned": "2011-12-16T17:08:22.264683+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change documentation example w/drop-tmp-table does not work", 
"title": "Bug #844038 in Percona Toolkit: \"pt-online-schema-change documentation example w/drop-tmp-table does not work\"", 
"date_confirmed": "2011-12-16T17:09:45.529913+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/844038", 
"date_left_new": "2011-12-16T17:09:45.529913+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/844038", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"9f17dce14e8b79520a2079fbd621d61147e5a4ae-0dfd8f55676507fb8aee6fcbea10a150dfb74c34\"", 
"owner_link": "https://api.launchpad.net/devel/~morgo", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-16T17:09:45.529913+00:00", 
"date_fix_released": "2012-01-09T17:58:47.855155+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/844038", 
"date_created": "2011-09-07T16:16:43.631803+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-19T20:04:56.055331+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-06-12T00:32:36.511109+00:00", 
"bug_id": 856024, 
"date_in_progress": "2012-06-12T00:32:36.511109+00:00", 
"bug_description": "Hi Daniel,\n\nI'm getting these warnings when intend to build percona-toolkit Debian package I'm preparing... \n\nW: percona-toolkit: manpage-has-bad-whatis-entry usr/share/man/man1/percona-toolkit.1.gz\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/percona-toolkit.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-archiver.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-collect.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-config-diff.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-deadlock-logger.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-diskstats.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-duplicate-key-checker.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-fifo-split.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-find.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-fk-error-logger.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-heartbeat.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-index-usage.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-kill.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-log-player.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-mext.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-mysql-summary.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-online-schema-change.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-pmp.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-query-advisor.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-query-digest.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-show-grants.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-sift.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-slave-delay.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-slave-find.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-slave-restart.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-stalk.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-summary.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-table-checksum.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-table-sync.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-tcp-model.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-trend.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-upgrade.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-variable-advisor.1.gz:127 1 != 1p\nW: percona-toolkit: manpage-section-mismatch usr/share/man/man1/pt-visual-explain.1.gz:127 1 != 1p\n\nI'll post patches later in case you want to apply them", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856024/related_tasks", 
"date_assigned": "2011-12-16T16:55:22.698980+00:00", 
"bug_information_type": "Public", 
"bug_title": "Lintian warnings when building percona-toolkit Debian package", 
"title": "Bug #856024 in Percona Toolkit: \"Lintian warnings when building percona-toolkit Debian package\"", 
"date_confirmed": "2011-12-16T16:55:28.134937+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/856024", 
"date_left_new": "2011-12-16T16:55:28.134937+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/856024", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f3b3812ce85336137d06ab45b2e730551f11a797-d02949237ad2c9874a0e0be129db15b3087d8132\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-12T00:32:36.511109+00:00", 
"date_fix_released": "2012-06-19T20:04:56.055331+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856024", 
"date_created": "2011-09-22T01:06:34.716634+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"debian", 
"docs"
]
}, 
{
"date_closed": "2012-09-26T21:18:23.382777+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-25T18:04:54.332929+00:00", 
"bug_id": 856060, 
"date_in_progress": "2012-08-25T18:04:54.332929+00:00", 
"bug_description": "Hi Daniel,\n\nPlease state somewhere in the documentation that 'gdb' is required for some tool in order to work.\n\n\n$ grep -r \"gdb \" *\nbin/pt-collect:      gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" --batch -p $p >> \"$OPT_d/$d-stacktrace\"\nbin/pt-pmp:         gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" -batch -p $OPT_p >> \"${OPT_k:-/tmp/percona-toolkit}\"\nblib/script/pt-pmp:         gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" -batch -p $OPT_p >> \"${OPT_k:-/tmp/percona-toolkit}\"\nblib/script/pt-collect:      gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" --batch -p $p >> \"$OPT_d/$d-stacktrace\"\ndebian/percona-toolkit/usr/bin/pt-pmp:         gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" -batch -p $OPT_p >> \"${OPT_k:-/tmp/percona-toolkit}\"\ndebian/percona-toolkit/usr/bin/pt-collect:      gdb -ex \"set pagination 0\" -ex \"thread apply all bt\" --batch -p $p >> \"$OPT_d/$d-stacktrace\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856060/related_tasks", 
"date_assigned": "2011-12-16T16:54:21.106026+00:00", 
"bug_information_type": "Public", 
"bug_title": "Document gdb dependency", 
"title": "Bug #856060 in Percona Toolkit: \"Document gdb dependency\"", 
"date_confirmed": "2011-12-16T16:54:23.841138+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/856060", 
"date_left_new": "2011-12-16T16:54:23.841138+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/856060", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"0bb38ce9025e382544c44df5223cc2de327014fa-2780349fceef1b59c392096b23ac66c666fa519d\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-25T18:23:17.449077+00:00", 
"date_fix_released": "2012-09-26T21:18:23.382777+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/856060", 
"date_created": "2011-09-22T03:08:29.505261+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-pmp", 
"pt-stalk"
]
}, 
{
"date_closed": "2012-01-09T18:01:30.940735+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-27T17:24:56.952408+00:00", 
"bug_id": 864205, 
"date_in_progress": "2011-12-27T17:24:56.952408+00:00", 
"bug_description": "If we're using only BIT_XOR queries which we are now, we don't need to reset @crc anymore.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864205/related_tasks", 
"date_assigned": "2011-12-23T21:10:43.824102+00:00", 
"bug_information_type": "Public", 
"bug_title": "Remove the query to reset @crc from pt-table-checksum", 
"title": "Bug #864205 in Percona Toolkit: \"Remove the query to reset @crc from pt-table-checksum\"", 
"date_confirmed": "2011-12-23T21:10:50.077838+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/864205", 
"date_left_new": "2011-12-23T21:10:50.077838+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/864205", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.1", 
"http_etag": "\"344487c07bc669216b589eb1a0d22c46715901fd-0dfd8f55676507fb8aee6fcbea10a150dfb74c34\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-27T17:24:56.952408+00:00", 
"date_fix_released": "2012-01-09T18:01:30.940735+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/864205", 
"date_created": "2011-10-01T17:52:48.820802+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-04-16T16:34:12.266081+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-26T23:34:35.940429+00:00", 
"bug_id": 896553, 
"date_in_progress": "2012-03-26T23:34:35.940429+00:00", 
"bug_description": "The attached patch contains some percona-toolkit documentation spelling fixes.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/896553/related_tasks", 
"date_assigned": "2012-03-26T23:34:30.169092+00:00", 
"bug_information_type": "Public", 
"bug_title": "Various documentation spelling fixes", 
"title": "Bug #896553 in Percona Toolkit: \"Various documentation spelling fixes\"", 
"date_confirmed": "2012-03-07T13:55:51.972541+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/896553", 
"date_left_new": "2012-03-07T13:55:51.972541+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/896553", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"4d73c1f9ce5e261276a9ffe8d061f1a29ae9d25f-40e84d55ecc53210e64eb77419a6c968c217fd7e\"", 
"owner_link": "https://api.launchpad.net/devel/~vskytta", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-26T23:59:54.632182+00:00", 
"date_fix_released": "2012-04-16T16:34:12.266081+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/896553", 
"date_created": "2011-11-26T11:11:39.182391+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"typo"
]
}, 
{
"date_closed": "2012-01-09T17:58:56.078844+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-16T15:13:59.537370+00:00", 
"bug_id": 898663, 
"date_in_progress": "2011-12-16T15:13:59.537370+00:00", 
"bug_description": "In pt-log-player \"No safeguards of any kind of provided so code carefully!\" should probably read: \"No safeguards of any kind are provided so code carefully!\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898663/related_tasks", 
"date_assigned": "2011-12-16T15:05:31.423083+00:00", 
"bug_information_type": "Public", 
"bug_title": "Typo in pt-log-player documentation", 
"title": "Bug #898663 in Percona Toolkit: \"Typo in pt-log-player documentation\"", 
"date_confirmed": "2011-12-16T15:13:59.537370+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898663", 
"date_left_new": "2011-12-16T15:13:59.537370+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898663", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.2", 
"http_etag": "\"fbd75253168307d13e0411146a0a1333e251fd69-21ee5889f05cf16720054c8e9428b54fe8705676\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-16T15:13:59.537370+00:00", 
"date_fix_released": "2012-01-09T17:58:56.078844+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898663", 
"date_created": "2011-12-01T14:41:20.196717+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-log-player"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 898665, 
"date_in_progress": null, 
"bug_description": "On http://www.percona.com/doc/percona-toolkit/pt-log-player.html\n--[no]results is not bold like other options.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898665/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Online docs formatting --[no]vars incorrectly", 
"title": "Bug #898665 in Percona Toolkit: \"Online docs formatting --[no]vars incorrectly\"", 
"date_confirmed": "2012-03-07T13:55:35.499350+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898665", 
"date_left_new": "2012-03-07T13:55:35.499350+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898665", 
"milestone_link": null, 
"http_etag": "\"f3995c3b7640819af6ab20c28db3bb8281e524d6-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898665", 
"date_created": "2011-12-01T14:54:24.193434+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"online-docs"
]
}, 
{
"date_closed": "2012-09-26T21:18:26.294004+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-24T16:44:38.984538+00:00", 
"bug_id": 899415, 
"date_in_progress": "2012-08-24T16:44:38.984538+00:00", 
"bug_description": "Problem:\nDoes not find slaves connected to slaves.\n\nHow to duplicate:\n1. Need at least three servers with at least two levels of replication: master1 -> slave1 -> slave2\n2. Create a simple table on the master and delete some records on each slave so that no DB has the same number of records\n3. Run pt-table-checksum --create-replicate-table --empty-replicate-table --nocheck-replication-filters --replicate testdb.pt_checksums --databases testdb --tables testtbl\n4. Inspect testdb.pt_checksums table...you should find the slave2 copy of the table = slave1 copy of the table but does not reflect the number of records on slave2.\n\nBackground:\nI've tried it with both --recursion-medhod processlist and hosts\nI'm using version = 1.0.1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/899415/related_tasks", 
"date_assigned": "2012-08-24T16:44:35.461630+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't work if slaves use RBR", 
"title": "Bug #899415 in Percona Toolkit: \"pt-table-checksum doesn't work if slaves use RBR\"", 
"date_confirmed": "2012-04-17T23:46:00.278209+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/899415", 
"date_left_new": "2012-04-17T23:46:00.278209+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/899415", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.4", 
"http_etag": "\"c70aeac357ec74995e68f466e631464d66521de2-2780349fceef1b59c392096b23ac66c666fa519d\"", 
"owner_link": "https://api.launchpad.net/devel/~jason-welter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-24T23:21:34.549800+00:00", 
"date_fix_released": "2012-09-26T21:18:26.294004+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/899415", 
"date_created": "2011-12-02T22:19:01.129337+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"binlog-format", 
"docs", 
"mysql-bug", 
"pt-table-checksum", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-01-09T17:59:02.069488+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2011-12-16T15:01:22.015778+00:00", 
"bug_id": 903753, 
"date_in_progress": "2011-12-16T15:01:22.015778+00:00", 
"bug_description": "There is an error in the documentation.\n\nThis is the diff.\n\n7125c7125\n<       --replicate mydb.checksums \\\n---\n>       --replicat mydb.checksums \\\n\nMartin.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903753/related_tasks", 
"date_assigned": "2011-12-16T14:59:27.783743+00:00", 
"bug_information_type": "Public", 
"bug_title": "Typo in pt-table-checksum documentation", 
"title": "Bug #903753 in Percona Toolkit: \"Typo in pt-table-checksum documentation\"", 
"date_confirmed": "2011-12-16T15:01:22.015778+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/903753", 
"date_left_new": "2011-12-16T15:01:22.015778+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903753", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/1.0.2", 
"http_etag": "\"2a8b3f5785441953f338c1dca81a88029f5ee649-21ee5889f05cf16720054c8e9428b54fe8705676\"", 
"owner_link": "https://api.launchpad.net/devel/~195s", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2011-12-16T15:01:22.015778+00:00", 
"date_fix_released": "2012-01-09T17:59:02.069488+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903753", 
"date_created": "2011-12-13T14:46:41.382722+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-19T20:04:51.130459+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-11T15:17:23.677074+00:00", 
"bug_id": 912902, 
"date_in_progress": "2012-06-11T15:17:23.677074+00:00", 
"bug_description": "All of the shell tools do something like this:\n\nif    [ \"$(basename \"$0\")\" = \"...\" ]\n\nIt turns out that sometimes basename can be \"-bash\", so that looks like\n\n$ basename -bash\n\nAnd \"basename\" doesn't take a -bash option.\n\nThe fix is to do this:\n\nif    [ \"$(basename -- \"$0\")\" = \"...\" ]", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912902/related_tasks", 
"date_assigned": "2012-06-11T19:07:02.104967+00:00", 
"bug_information_type": "Public", 
"bug_title": "Some shell tools still use basename", 
"title": "Bug #912902 in Percona Toolkit: \"Some shell tools still use basename\"", 
"date_confirmed": "2012-01-16T16:20:36.929996+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/912902", 
"date_left_new": "2012-01-16T16:20:36.929996+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/912902", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"3ea011133c29ac817be819c26d9f5faa17694c93-3bc7be571e58620be945612d20c46243bcb83b77\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T19:06:55.790759+00:00", 
"date_fix_released": "2012-06-19T20:04:51.130459+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912902", 
"date_created": "2012-01-06T19:41:19.206639+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"shell-tools"
]
}, 
{
"date_closed": "2012-08-10T18:16:42.350428+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-02T18:09:12.816557+00:00", 
"bug_id": 934310, 
"date_in_progress": "2012-08-02T18:09:12.816557+00:00", 
"bug_description": "The docs for --quantile:\n\n       --quantile\n           type: float\n\n           The percentile for the last column when \"--type\" is \"requests\"\n           (default .99).\n\nIt's not the last column, though, it's 2nd from last.  Last is obs_time.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934310/related_tasks", 
"date_assigned": "2012-08-02T18:09:12.818845+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-tcp-model --quantile docs wrong", 
"title": "Bug #934310 in Percona Toolkit: \"pt-tcp-model --quantile docs wrong\"", 
"date_confirmed": "2012-02-17T17:34:57.376039+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/934310", 
"date_left_new": "2012-02-17T17:34:57.376039+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/934310", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"0c2f0e291a2f9144ec196bbe3d54aeed88f7916e-9b12d33a87a1be769104960f5585ed263414cd23\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-02T18:09:12.816557+00:00", 
"date_fix_released": "2012-08-10T18:16:42.350428+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934310", 
"date_created": "2012-02-17T16:29:10.497532+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-tcp-model"
]
}, 
{
"date_closed": "2012-03-19T16:59:41.863066+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-02T17:54:37.818004+00:00", 
"bug_id": 940440, 
"date_in_progress": "2012-03-02T17:54:37.818004+00:00", 
"bug_description": "In pt-kill RISKS: \"pt-kill is designed to kill queries if you use the --kill option is given\".  We should probably look over other tools' documentation and check for bad grammar.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940440/related_tasks", 
"date_assigned": "2012-02-24T16:48:42.284945+00:00", 
"bug_information_type": "Public", 
"bug_title": "Bad grammar in pt-kill docs", 
"title": "Bug #940440 in Percona Toolkit: \"Bad grammar in pt-kill docs\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940440", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940440", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.4", 
"http_etag": "\"d1e91e00282d126f6c08f32b1f622b55d46b6c2e-8d4ac667ed72d8498ce226a50a8d452265e1d3d0\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-02T17:54:37.818004+00:00", 
"date_fix_released": "2012-03-19T16:59:41.863066+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940440", 
"date_created": "2012-02-24T16:48:41.872420+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-kill"
]
}, 
{
"date_closed": "2012-06-19T20:04:47.051463+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-11T19:29:35.615715+00:00", 
"bug_id": 945079, 
"date_in_progress": "2012-06-11T19:29:35.615715+00:00", 
"bug_description": "The tmpdir shell library uses the following:\n\n\n   else\n      local tool=`basename $0`\n      local pid=\"$$\"\n      TMPDIR=`mktemp -d /tmp/${tool}.${pid}.XXXXX` \\\n         || die \"Cannot make secure tmpdir\"\n   fi\n\nThis can break if $0 is \"-bash\", which I've seen.  In this case basename will complain because of an unknown option -b.  It could also happen if $0 is something like \"/path/to/directory -withspace/pt-toolname\"\n\nIn addition, I wonder if we should use $TEMP instead of hard-coding /tmp/. On my Mac, for example, $TEMP is not set to /tmp/.  If $TEMP isn't set for some reason, we could fall back to /tmp/ as a default.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945079/related_tasks", 
"date_assigned": "2012-06-11T19:29:53.197438+00:00", 
"bug_information_type": "Public", 
"bug_title": "Shell tools TMPDIR may break", 
"title": "Bug #945079 in Percona Toolkit: \"Shell tools TMPDIR may break\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/945079", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/945079", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"f2ed6ff83d8936f5dd29353a5d3bd41af506a43a-3bc7be571e58620be945612d20c46243bcb83b77\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T21:25:56.596244+00:00", 
"date_fix_released": "2012-06-19T20:04:47.051463+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/945079", 
"date_created": "2012-03-02T19:49:08.410100+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"shell-tools", 
"sys-cmd"
]
}, 
{
"date_closed": "2012-06-09T22:38:20.902185+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_triaged": "2012-03-19T19:50:19.888969+00:00", 
"bug_id": 949154, 
"date_in_progress": "2012-03-19T19:50:19.888969+00:00", 
"bug_description": "The advice about possible bugs should be replaced with advice about the possible dangers of the replica not having the latest transactions from the master, in case it hits the space limit and stops fetching logs.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949154/related_tasks", 
"date_assigned": "2012-03-07T16:43:41.865034+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor advice for relay-log-space-limit", 
"title": "Bug #949154 in Percona Toolkit: \"pt-variable-advisor advice for relay-log-space-limit\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/949154", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/949154", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"fc2f2b419b142aee2297eb84d0c9ba155c997a5b-f935d5eadf5dd468dbaebd7ac60f07babf85dc99\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": "2012-06-09T22:37:23.544506+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-03-27T00:06:05.873568+00:00", 
"date_fix_released": "2012-06-09T22:38:20.902185+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949154", 
"date_created": "2012-03-07T16:43:41.413904+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-variable-advisor"
]
}, 
{
"date_closed": "2012-06-19T20:04:42.372333+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-07T15:03:24.828042+00:00", 
"bug_id": 949630, 
"date_in_progress": "2012-06-07T15:03:24.828042+00:00", 
"bug_description": "Just opening a bug so I can link the branch to this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949630/related_tasks", 
"date_assigned": "2012-04-17T23:21:47.327340+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest mentions a Subversion repository", 
"title": "Bug #949630 in Percona Toolkit: \"pt-query-digest mentions a Subversion repository\"", 
"date_confirmed": "2012-04-17T23:21:35.889622+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/949630", 
"date_left_new": "2012-04-17T23:21:35.889622+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/949630", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.2", 
"http_etag": "\"16b9ccf08c49ae32a63e048ac33f18c92abb0fc9-3bc7be571e58620be945612d20c46243bcb83b77\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:04:50.022984+00:00", 
"date_fix_released": "2012-06-19T20:04:42.372333+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949630", 
"date_created": "2012-03-08T03:27:54.187617+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-09T22:38:17.772874+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-30T21:21:47.206506+00:00", 
"bug_id": 953461, 
"date_in_progress": "2012-03-30T21:21:47.206506+00:00", 
"bug_description": "The OUTPUT section in pt-upgrade's manual seems broken. It lists a TODO section and then jumps straight into the option detail: http://www.percona.com/doc/percona-toolkit/2.0/pt-upgrade.html#output", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953461/related_tasks", 
"date_assigned": "2012-03-26T21:35:48.381609+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade manual broken 'output' section", 
"title": "Bug #953461 in Percona Toolkit: \"pt-upgrade manual broken 'output' section\"", 
"date_confirmed": "2012-03-26T21:35:42.426279+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/953461", 
"date_left_new": "2012-03-26T21:35:42.426279+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/953461", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"666db5b5ad5afb75ffef0af24146297eb4df2cd5-40e84d55ecc53210e64eb77419a6c968c217fd7e\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": "2012-06-09T22:37:15.108482+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-03-30T21:26:00.644740+00:00", 
"date_fix_released": "2012-06-09T22:38:17.772874+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953461", 
"date_created": "2012-03-12T21:57:05.887444+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"online-docs", 
"pt-upgrade"
]
}, 
{
"date_closed": "2012-08-10T18:16:48.236726+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-07-21T16:51:48.550157+00:00", 
"bug_id": 954990, 
"date_in_progress": "2012-07-21T16:51:48.550157+00:00", 
"bug_description": "~/percona/percona-toolkit-2.0.4# ~/bin/pt-stalk --version\npt-stalk 2.0.4\n~/percona/percona-toolkit-2.0.4# ~/bin/pt-stalk --nostalk\nUnknown option: --nostalk\n\nUsage: pt-stalk [OPTIONS] [-- MYSQL OPTIONS]\n\nFor more information, 'man pt-stalk' or 'perldoc /root/bin/pt-stalk'.\n\n\nQuoth the changelog:\nChangelog for Percona Toolkit\n\nv2.0.4 released 2012-03-07\n  ... \n  * Added --[no]stalk to pt-stalk (bug 932331)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/954990/related_tasks", 
"date_assigned": "2012-07-21T16:51:50.781478+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk --nostalk does not work", 
"title": "Bug #954990 in Percona Toolkit: \"pt-stalk --nostalk does not work\"", 
"date_confirmed": "2012-03-14T13:05:32.327596+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/954990", 
"date_left_new": "2012-03-14T13:05:32.327596+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/954990", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.3", 
"http_etag": "\"15ea8906e6dac168539a52e02b830840032ca726-fb6ce8c8af6e96e89f59e71777015b447e2e27cf\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-21T18:08:31.308951+00:00", 
"date_fix_released": "2012-08-10T18:16:48.236726+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/954990", 
"date_created": "2012-03-14T12:47:30.323989+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"option-parsing", 
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-03T20:05:34.654388+00:00", 
"bug_id": 956981, 
"date_in_progress": "2012-10-03T20:05:34.654388+00:00", 
"bug_description": "From pt-query-digest's manual: \n\n\"You can find an explanation of the structure of $event at http://code.google.com/p/maatkit/wiki/EventAttributes.\"\n\nI don't know if this is right or wrong, but given maatkit's web site has this disclaimer: \n\n\"Maatkit has become part of Percona Toolkit, and there will be no further development or releases of Maatkit separately from Percona Toolkit.\"\n\nI'm assuming we should publish the event attributes details somewhere in PT's documentation?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/956981/related_tasks", 
"date_assigned": "2012-10-03T14:45:19.671605+00:00", 
"bug_information_type": "Public", 
"bug_title": "Event attributes link on pt-query-digest's manual points to maatkit wiki", 
"title": "Bug #956981 in Percona Toolkit: \"Event attributes link on pt-query-digest's manual points to maatkit wiki\"", 
"date_confirmed": "2012-03-16T14:26:15.677708+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/956981", 
"date_left_new": "2012-03-16T14:26:15.677708+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/956981", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"682bc825c42facce98b48c2ba43cc2e04d37ac5f-98b594816af97d5ece04bec0537537f68b11d9e3\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-03T21:38:47.556844+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/956981", 
"date_created": "2012-03-16T13:55:29.572062+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-21T19:42:51.629771+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-11T19:03:54.461813+00:00", 
"bug_id": 984011, 
"date_in_progress": "2012-06-11T19:03:54.461813+00:00", 
"bug_description": "http://www.percona.com/doc/percona-toolkit/2.1/pt-upgrade.html shows a tcpdump piped directly to other tools -- this is a problem because any issues can't be reproduced. We should save the output to files and do it in stages so the input is available for reporting a bug and troubleshooting.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984011/related_tasks", 
"date_assigned": "2012-06-11T19:04:11.985240+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade docs show pipes", 
"title": "Bug #984011 in Percona Toolkit: \"pt-upgrade docs show pipes\"", 
"date_confirmed": "2012-04-17T21:17:04.722287+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/984011", 
"date_left_new": "2012-04-17T21:17:04.722287+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984011", 
"milestone_link": null, 
"http_etag": "\"389a840c4fdda048800db1c7180f8bed6e895490-b6631e8204793d61a8f7c2b4ae7f42e378957382\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T19:03:54.461813+00:00", 
"date_fix_released": "2012-06-21T19:42:51.629771+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984011", 
"date_created": "2012-04-17T14:19:13.165418+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-upgrade"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1012673, 
"date_in_progress": null, 
"bug_description": "It seems that when columns-regex is set through a config file, pt-diskstat loses the outermost parts of the regular expression. Examples:\n\n(garfield:~) macko% cat ~/.pt-diskstats.conf\ngroup-by=all\ncolumns-regex='rd_s|rd_avgkb|rd_rt|rd_cnc|wr_s|wr_avgkb|wr_rt|wr_cnc|busy|qtime'\n(garfield:~) macko% pt-diskstats --devices-regex='sda$' 2012_06_13_11_42_48-diskstats | head -2\n  #ts device rd_cnc   rd_rt    wr_s wr_cnc   wr_rt busy\n  1.0 sda       2.2    12.6     0.0    0.0     0.0 100%\n^C\n\n(garfield:~) macko% cat ~/.pt-diskstats.conf\ngroup-by=all\ncolumns-regex='rd_s|rd_avgkb|rd_rt|rd_cnc|wr_s|wr_avgkb|wr_rt|wr_cnc|busy|qtime|'\n(garfield:~) macko% pt-diskstats --devices-regex='sda$' 2012_06_13_11_42_48-diskstats | head -2\n  #ts device rd_cnc   rd_rt    wr_s wr_cnc   wr_rt busy  qtime\n  1.0 sda       2.2    12.6     0.0    0.0     0.0 100%   13.5\n^C\n\n(garfield:~) macko% cat ~/.pt-diskstats.conf\ngroup-by=all\ncolumns-regex='rd_s|rd_avgkb|rd_rt|rd_cnc|wr_s|wr_avgkb|wr_rt|wr_cnc|busy|qtime|stime'\n(garfield:~) macko% pt-diskstats --devices-regex='sda$' 2012_06_13_11_42_48-diskstats | head -2\n  #ts device rd_cnc   rd_rt    wr_s wr_cnc   wr_rt busy  qtime\n  1.0 sda       2.2    12.6     0.0    0.0     0.0 100%   13.5\n^C\n\n(garfield:~) macko% cat ~/.pt-diskstats.conf\ngroup-by=all\ncolumns-regex='rd_s|rd_avgkb|rd_rt|rd_cnc|wr_s|wr_avgkb|wr_rt|wr_cnc|busy|qtime|stime|whatever'\n(garfield:~) macko% pt-diskstats --devices-regex='sda$' 2012_06_13_11_42_48-diskstats | head -2\n  #ts device rd_cnc   rd_rt    wr_s wr_cnc   wr_rt busy  qtime stime\n  1.0 sda       2.2    12.6     0.0    0.0     0.0 100%   13.5   5.7\n\nIn every case 'rd_s' as well as the last column listed is missing in the output. This does not happen when columns-regex is specified in the command line.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012673/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Configuration files don't support quoted values", 
"title": "Bug #1012673 in Percona Toolkit: \"Configuration files don't support quoted values\"", 
"date_confirmed": "2012-06-19T19:38:58.649110+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1012673", 
"date_left_new": "2012-06-19T19:38:58.649110+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1012673", 
"milestone_link": null, 
"http_etag": "\"45ba4525795c5cb61f6dc8d3099f4976622b97f8-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~reg-launchpad-posterus", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012673", 
"date_created": "2012-06-13T13:37:19.013747+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1012893, 
"date_in_progress": null, 
"bug_description": "pt-config-diff from percona toolkit 2.1.2, used to compare a running MySQL instance with its installed config files on the filesystem, doesn't properly represent the state of the config files if !includedir or !include is used (as is common on Debian and Ubuntu).\n\nE.g.:\n\n/etc/mysql/my.cnf:\n     !includedir /etc/mysql/conf.d/\n\n/etc/mysql/conf.d/blah.cnf:\n     <directives>\n\npt-config-diff /etc/mysql/my.cnf u=root,h=localhost,p=blah\n\nThe comparison is made only between my.cnf and MySQL's running config, which is not really as expected. \n\n\nIt can be worked around with something like the following:\n\n    cat $(find /etc/mysql/ -type f -regex .*cnf -printf %p\\ ) > /tmp/mysql.cnf\n\nand then using the output file with pt-config-diff.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012893/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-config-diff doesn't respect !includedir", 
"title": "Bug #1012893 in Percona Toolkit: \"pt-config-diff doesn't respect !includedir\"", 
"date_confirmed": "2012-06-19T19:26:22.653122+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1012893", 
"date_left_new": "2012-06-19T19:26:22.653122+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1012893", 
"milestone_link": null, 
"http_etag": "\"1dbabda13437ef3c1790594e4ddab2c0dc9fafa5-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~simon.kuhn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1012893", 
"date_created": "2012-06-13T22:38:20.781682+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1015252, 
"date_in_progress": null, 
"bug_description": "This is admittedly a minor/ rare / edge case; however, we experienced this while performing evaluations of our query traffic prior to converting to 5.5 from 5.0. We have a query of the form (setting a value to a query string):\n\nUPDATE TABLE_1 SET COLUMN1_1='SELECT MYSQL_FUNCTION(COLUMN1_2),COLUMN2_2 FROM TABLE_2 WHERE COLUMN3_2=VALUE1_2 GROUP BY MYSQL_FUNCTION(COLUMN1_2)',COLUMN2_1=VALUE1_1 WHERE COLUMN3_1=VALUE2_1;\n\nwhen this went through the conversion to select (pt-upgrade --convert-to-select) and became:\n\nSELECT COLUMN1_1='SELECT MYSQL_FUNCTION(COLUMN1_2),COLUMN2_2 FROM TABLE_2 FROM TABLE_1 WHERE COLUMN2_2=VALUE2_1 GROUP BY MYSQL_FUCTION(COLUMN1_2)', COLUMN1_2=VALUE1_1 WHERE COLUMN1_3=VALUE1_2;\n\nThis  triggers an error of the form:\n\nFailed to execute query: DBD::mysql::st execute failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'where COLUMN1_3=VALUE1_2' at line 1\n\nThis behavior was encountered using percona-toolkit 2.1.1 (and I believe 2.0.3).\n\nI suspect the query should have just been\n\nSELECT COLUMN1_1, COLUMN1_2=VALUE1_1 FROM TABLE_1 WHERE COLUMN1_3=VALUE1_2;\n\nbut was confused by the embedded SQL in the value to which COLUMN1_1 is being set.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015252/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade: convert to select behavior", 
"title": "Bug #1015252 in Percona Toolkit: \"pt-upgrade: convert to select behavior\"", 
"date_confirmed": "2012-06-19T19:25:36.042315+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1015252", 
"date_left_new": "2012-06-19T19:25:36.042315+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1015252", 
"milestone_link": null, 
"http_etag": "\"45172260e761e7960c3f3365682b899e085dbe3e-90a4de569e3033e04910b73759fe051eeb22da08\"", 
"owner_link": "https://api.launchpad.net/devel/~slzd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015252", 
"date_created": "2012-06-19T19:18:01.896002+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": "2012-08-29T14:42:50.113962+00:00", 
"bug_id": 1039074, 
"date_in_progress": null, 
"bug_description": "According to the documentation of pt-table-checksum \"the tool\u2019s exit status is nonzero if any differences are found, or if any warnings or errors occur\". However, if a bad command-line argument is passed the exit status is zero. This make it difficult to check for errors when executing via another script.\n\nExample:\n./pt-table-checksum --foobar\n\nOutput:\nUnknown option: foobar\nUsage: pt-table-checksum [OPTION...] [DSN]\n\nErrors in command-line arguments:\n  * Error parsing options\n\npt-table-checksum performs an online replication consistency check by executing\nchecksum queries on the master, which produces different results on replicas\nthat are inconsistent with the master.  The optional DSN specifies the master\nhost.  The tool's exit status is nonzero if any differences are found, or if any\nwarnings or errors occur.  For more details, please use the --help option, or\ntry 'perldoc ./pt-table-checksum'\nfor complete documentation.\n\nExit status will be 0.\n\nVersion: pt-table-checksum 2.1.3", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039074/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum returns incorrect exit status on error parsing options", 
"title": "Bug #1039074 in Percona Toolkit: \"pt-table-checksum returns incorrect exit status on error parsing options\"", 
"date_confirmed": "2012-08-29T14:42:50.113962+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1039074", 
"date_left_new": "2012-08-29T14:42:50.113962+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1039074", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"e15bdc961b1827e0988a1b95f7e5588a7ceab286-b673ce95f1fbad7d2d7b63f036d5698340f1765d\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039074", 
"date_created": "2012-08-20T15:15:45.656659+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"exit-status", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1039541, 
"date_in_progress": null, 
"bug_description": "Unless I'm reading the code wrong, progress reports will happen even when --quiet is specified, which is bad for cron jobs.\n\nI'll attach a patch against 2.1.3.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039541/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --quiet doesn't disable --progress", 
"title": "Bug #1039541 in Percona Toolkit: \"pt-table-checksum --quiet doesn't disable --progress\"", 
"date_confirmed": "2012-08-29T14:37:21.075527+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1039541", 
"date_left_new": "2012-08-29T14:37:21.075527+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1039541", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"cdb75df276b0539b0860ab9d5e1ca6b75f9b2662-2a3c81919eab2267bd124352b4427a4dab40dab5\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1039541", 
"date_created": "2012-08-21T13:53:26.202378+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-archiver", 
"pt-index-usage", 
"pt-online-schema-change", 
"pt-table-checksum", 
"pt-trend", 
"quiet"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-09-10T14:10:06.953820+00:00", 
"bug_id": 1047532, 
"date_in_progress": null, 
"bug_description": "I am running pt-table-checksum from cron and I want to see diffs but basically nothing else unless it's a fatal error.\n\n7686                   # This warning is printed once per table.\n7687                   if ( !$tbl->{warned}->{slow}++ && $o->get('quiet') < 2 ) {\n7688                      warn ts(\"Checksum queries for table \"\n7689                         . \"$tbl->{db}.$tbl->{tbl} are executing very slowly.  \"\n7690                         . \"--chunk-size has been automatically reduced to 1.  \"\n7691                         . \"Check that the server is not being overloaded, \"\n7692                         . \"or increase --chunk-time.  The last chunk, number \"\n7693                         . \"$chunk of table $tbl->{db}.$tbl->{tbl}, \"\n7694                         . \"selected $cnt rows and took \"\n7695                         . sprintf('%.3f', $tbl->{nibble_time})\n7696                         . \" seconds to execute.\\n\");\n7697                   }\n\nThe '2' in the second line causes pt-table-checksum to spam crontab emails. I've changed it to '1' in my local copy. It is surprisingly common for servers to slow down a lot during backups and chunk sizes get reduced to 1 row.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047532/related_tasks", 
"date_assigned": "2012-09-10T14:09:55.053770+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum is too noisy in --quiet mode", 
"title": "Bug #1047532 in Percona Toolkit: \"pt-table-checksum is too noisy in --quiet mode\"", 
"date_confirmed": "2012-09-10T14:10:06.953820+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1047532", 
"date_left_new": "2012-09-10T14:10:06.953820+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1047532", 
"milestone_link": null, 
"http_etag": "\"c3db38d4c330af68238a4fbe6d5e979a06ed2b64-69c24328f5bfa7633aa9a8e764c601b4a036b32c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1047532", 
"date_created": "2012-09-07T17:42:00.848072+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-11T23:04:51.080274+00:00", 
"bug_id": 1059757, 
"date_in_progress": "2012-10-11T23:04:51.080274+00:00", 
"bug_description": "That's it.  Add headers :)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059757/related_tasks", 
"date_assigned": "2012-10-01T20:45:37.248807+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-trend has no headers", 
"title": "Bug #1059757 in Percona Toolkit: \"pt-trend has no headers\"", 
"date_confirmed": "2012-10-01T20:45:41.174197+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1059757", 
"date_left_new": "2012-10-01T20:45:41.174197+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1059757", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"5f1938afe61c44b22e2217407729e5c81d6a45e4-98b594816af97d5ece04bec0537537f68b11d9e3\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-11T23:04:51.080274+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1059757", 
"date_created": "2012-10-01T17:45:10.809599+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-trend"
]
}, 
{
"date_closed": null, 
"status": "Fix Committed", 
"bug_target_name": "percona-toolkit", 
"importance": "Low", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-10-11T22:03:09.230940+00:00", 
"bug_id": 1063933, 
"date_in_progress": "2012-10-11T23:14:34.808681+00:00", 
"bug_description": "[In:Percona Toolkit Documentation]\n\nThis link no longer works:\n\n http://maatkit.org/presentations/katchaounov_timour.pdf\n\nShould be updated or removed.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063933/related_tasks", 
"date_assigned": "2012-10-11T22:03:15.283409+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-visual-explain docs link to missing pdf", 
"title": "Bug #1063933 in Percona Toolkit: \"pt-visual-explain docs link to missing pdf\"", 
"date_confirmed": "2012-10-11T22:03:09.230940+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1063933", 
"date_left_new": "2012-10-11T22:03:09.230940+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1063933", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.6", 
"http_etag": "\"1764ad477ae3ff76f22ab5631191d014b9aac288-98b594816af97d5ece04bec0537537f68b11d9e3\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-10-11T23:14:34.808681+00:00", 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063933", 
"date_created": "2012-10-08T17:01:39.694940+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs", 
"pt-visual-explain"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821722, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1128\n\nIf sql_mode=ANSI then ANSI quotes are enabled:\n\nTreat \u201c\"\u201d as an identifier quote character (like the \u201c`\u201d quote character) and not as a string quote character. You can still use \u201c`\u201d to quote identifiers with this mode enabled. With ANSI_QUOTES enabled, you cannot use double quotation marks to quote literal strings, because it is interpreted as an identifier. (http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html#sqlmode_ansi_quotes)\n\nThere's a lot of code that uses double quotes.  The workaround: --set-vars \"SQL_MODE=''\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821722/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Most tools won't work when sql_mode=ANSI", 
"title": "Bug #821722 in Percona Toolkit: \"Most tools won't work when sql_mode=ANSI\"", 
"date_confirmed": "2012-04-18T00:06:41.788348+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821722", 
"date_left_new": "2012-04-18T00:06:41.788348+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821722", 
"milestone_link": null, 
"http_etag": "\"87cf9c1fd47cdb52e52a1724f6d77b35ba121df3-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821722", 
"date_created": "2011-08-05T22:58:38.738973+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"all-tools", 
"sql-mode"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 823411, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1024\n\nWhen pt-query-digest --type tcpdump is used and a query has no errors, an \"Error: none\" line is printed.  This don't conform to other attributes where if there's no value then no value is printed.  The \"none\" value is a hack that we need to fix.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823411/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest shouldn't print \"Error: none\" for tcpdump", 
"title": "Bug #823411 in Percona Toolkit: \"pt-query-digest shouldn't print \"Error: none\" for tcpdump\"", 
"date_confirmed": "2012-04-18T00:06:57.164388+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/823411", 
"date_left_new": "2012-04-18T00:06:57.164388+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823411", 
"milestone_link": null, 
"http_etag": "\"14672993cb8e42b75f96605b85389eb0e67348dc-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823411", 
"date_created": "2011-08-09T16:58:33.807043+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": "2012-03-16T01:28:59.380188+00:00", 
"bug_id": 885938, 
"date_in_progress": null, 
"bug_description": "I believe this is legacy left over from when I cared about the tool working by default on PostgreSQL.  But it will be safer for replication if we use --replace by default. This will help avoid problems with missing rows on replicas (for whatever reason). It won't eliminate every possible problem on multi-tier replication topologies with row-based replication enabled (because the SBR statements will then get converted to RBR and logged as an update to an existing row), but it will help in some cases.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885938/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat doesn't REPLACE by default", 
"title": "Bug #885938 in Percona Toolkit: \"pt-heartbeat doesn't REPLACE by default\"", 
"date_confirmed": "2012-03-16T01:28:59.380188+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/885938", 
"date_left_new": "2012-03-16T01:28:59.380188+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/885938", 
"milestone_link": null, 
"http_etag": "\"555f779b2733ee3accdb020f559118254f5d52bb-33abf8a59bb5da938590313c46ef12547336171c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/885938", 
"date_created": "2011-11-04T01:13:06.686113+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-heartbeat"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 886221, 
"date_in_progress": null, 
"bug_description": "pt-mysql-summary needs a way to pass the password without it going into command history or in the ps output.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886221/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary needs a secure password flag", 
"title": "Bug #886221 in Percona Toolkit: \"pt-mysql-summary needs a secure password flag\"", 
"date_confirmed": "2011-12-16T16:44:27.095317+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/886221", 
"date_left_new": "2011-12-16T16:44:27.095317+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/886221", 
"milestone_link": null, 
"http_etag": "\"c97ebfef462ba53fe98bff4d3d7f0837d6ecff27-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886221", 
"date_created": "2011-11-04T16:33:45.144849+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-mysql-summary", 
"spam"
]
}, 
{
"date_closed": "2012-04-17T23:50:13.697640+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 898654, 
"date_in_progress": null, 
"bug_description": "Having a discussion with somebody the other day, it was unclear to them when somebody would use pt-upgrade vs. pt-query-digest --execute vs. pt-log-player.  It may benefit the documentation to provide a more detailed use case (or \"when to use this tool\").", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898654/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Document use cases for pt-log-player", 
"title": "Bug #898654 in Percona Toolkit: \"Document use cases for pt-log-player\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/898654", 
"date_left_new": "2012-04-17T23:50:13.697640+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898654", 
"milestone_link": null, 
"http_etag": "\"33bdf2a029da167d2a8958b71cc1894bec67bcdf-7f8a643f734425efd81f9a340426b73b481c6aa0\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898654", 
"date_created": "2011-12-01T14:18:52.063664+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-log-player"
]
}, 
{
"date_closed": "2012-01-16T16:23:41.068549+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 912238, 
"date_in_progress": null, 
"bug_description": "This is really not a bug but more of a feature request.\n\nIn the previous version of pt-table-checksum, STDOUT was not buffered.  Although I haven't been able to find the Perl code that turns buffering off in either version.\n\nWould it be possible to not buffer stdout?\n\n$| = 1;\n\nThanks.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912238/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum is buffering stdout", 
"title": "Bug #912238 in Percona Toolkit: \"pt-table-checksum is buffering stdout\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/912238", 
"date_left_new": "2012-01-16T16:23:41.068549+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/912238", 
"milestone_link": null, 
"http_etag": "\"07c01ffffe3443602fc9e735218186ab5d294486-7f8a643f734425efd81f9a340426b73b481c6aa0\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912238", 
"date_created": "2012-01-05T12:46:50.272226+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-02-08T15:29:21.891721+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-01-31T18:09:43.446639+00:00", 
"bug_id": 918247, 
"date_in_progress": "2012-01-31T18:09:43.446639+00:00", 
"bug_description": "In version 1.0.2, pt-table-checksum seems to need an 'S' in a sql statement.  In the bin/pt-table-checksum file, at or near line 2924:\n\noriginal:\n$sql = \"INSERT INTO $tmp_db_tbl VALUE (CHAR(?))\"; \n\nnew:\n$sql = \"INSERT INTO $tmp_db_tbl VALUES (CHAR(?))\"; \n\nThis was against stock mysql 4.0.x/5.1.x  checksum.\n\nGiven what I understand about the build process, it may be easier to find it in the else branch in sub _chunk_char.\n\nI have not checked the 2.x version for similar mayhem.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918247/related_tasks", 
"date_assigned": "2012-01-18T18:29:24.865955+00:00", 
"bug_information_type": "Public", 
"bug_title": "Some tools use VALUE instead of VALUES", 
"title": "Bug #918247 in Percona Toolkit: \"Some tools use VALUE instead of VALUES\"", 
"date_confirmed": "2012-01-18T18:29:18.505330+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/918247", 
"date_left_new": "2012-01-18T18:29:18.505330+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/918247", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.0.3", 
"http_etag": "\"544b3468130fd3e05e290bda4c03cfd05d0a4559-84622509f3fd4a69a1a0c67fad23e994546510d3\"", 
"owner_link": "https://api.launchpad.net/devel/~bugs+ubuntu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-01-31T18:09:43.446639+00:00", 
"date_fix_released": "2012-02-08T15:29:21.891721+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918247", 
"date_created": "2012-01-18T15:26:14.362564+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change", 
"pt-table-checksum", 
"pt-table-sync", 
"pt-upgrade", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-03-08T04:59:59.007779+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 923950, 
"date_in_progress": null, 
"bug_description": "As per the summary, the output of SHOW SLAVE STATUS includes the master server id, which should probably be used to get the value.  This is especially helpful in 5.1->5.5 replication", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/923950/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat should use show slave status to determine master server-id in 5.5", 
"title": "Bug #923950 in Percona Toolkit: \"pt-heartbeat should use show slave status to determine master server-id in 5.5\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/923950", 
"date_left_new": "2012-03-08T04:59:59.007779+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/923950", 
"milestone_link": null, 
"http_etag": "\"5ee7bf4ad8744d1610b2fb89dc6ee63c23a242dc-642f2afc38f1336fc5b07fb18640fa31e1bf52f2\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/923950", 
"date_created": "2012-01-30T20:58:53.831140+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-heartbeat"
]
}, 
{
"date_closed": "2012-04-17T23:37:21.183589+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 928088, 
"date_in_progress": null, 
"bug_description": "This is a feature request, not a bug.  It'd be useful if pt-diskstats output could be stored real-time in a mysql table.  Perhaps after each interval (--interval) vs. a bulk load (--save-samples).  Once recorded there are many avenues for usage be it real-time Nagios monitoring, cacti graphs or deeper analysis that can't be done in a flat file like averages, percentiles, deviations, etc.  \n\nThe option name --save-samples-mysql may be fitting :)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928088/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats feature request; --save-samples-mysql", 
"title": "Bug #928088 in Percona Toolkit: \"pt-diskstats feature request; --save-samples-mysql\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/928088", 
"date_left_new": "2012-04-17T23:37:21.183589+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928088", 
"milestone_link": null, 
"http_etag": "\"b5405c6e2b563b738f11a27ecbeb763a83d05635-642f2afc38f1336fc5b07fb18640fa31e1bf52f2\"", 
"owner_link": "https://api.launchpad.net/devel/~sean-chighizola", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928088", 
"date_created": "2012-02-07T06:40:13.622595+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-diskstats"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 929205, 
"date_in_progress": null, 
"bug_description": "The changelog is a single page with multiple releases. I'd like one new page per release for cleanliness and clarity.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929205/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Break the changelog out into pages", 
"title": "Bug #929205 in Percona Toolkit: \"Break the changelog out into pages\"", 
"date_confirmed": "2012-02-21T18:06:23.422298+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/929205", 
"date_left_new": "2012-02-21T18:06:23.422298+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/929205", 
"milestone_link": null, 
"http_etag": "\"33cabbaf7c60f24887f079c085a02d3f3744b44f-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929205", 
"date_created": "2012-02-08T23:21:19.011136+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"docs"
]
}, 
{
"date_closed": "2012-08-29T14:51:50.528826+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-08-29T14:51:50.528826+00:00", 
"bug_id": 929265, 
"date_in_progress": "2012-08-29T14:51:50.528826+00:00", 
"bug_description": "It would be better if the changelog or documentation points to the options which were dropped and/or replacements for them, otherwise this can create confusion when people transition to newer versions. \n\nTo cite a specific example, sleep-coef was dropped in 2.0.3, however there is no mention of it in Changelog, I had to dig through the bzr log and still couldn't get it, the blueprint here helped -- https://blueprints.launchpad.net/percona-toolkit/+spec/redesign-pt-table-checkum\n\nSo, in the documentation linking to selected parts of blueprint would also do.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929265/related_tasks", 
"date_assigned": "2012-02-21T17:41:58.811310+00:00", 
"bug_information_type": "Public", 
"bug_title": "Better changelog for pt-table-checksum/pt-tools on options", 
"title": "Bug #929265 in Percona Toolkit: \"Better changelog for pt-table-checksum/pt-tools on options\"", 
"date_confirmed": "2012-02-21T17:41:44.074758+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/929265", 
"date_left_new": "2012-02-21T17:41:44.074758+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/929265", 
"milestone_link": null, 
"http_etag": "\"4bb6ec07e54b87026169805c8583011b02fd81ba-b1886f573dfcdb97856b7bf54ed05f559d5991bd\"", 
"owner_link": "https://api.launchpad.net/devel/~raghavendra-prabhu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-08-29T14:51:50.528826+00:00", 
"date_fix_released": "2012-08-29T14:51:50.528826+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/929265", 
"date_created": "2012-02-09T02:28:52.498404+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"release"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:31:53.015731+00:00", 
"bug_id": 934321, 
"date_in_progress": null, 
"bug_description": "interval-experimentation $ pt-tcp-model --run-time 10m\nValue \"10m\" invalid for option run-time (real number expected)\nUsage: pt-tcp-model [OPTION...] [FILE]\n\nThis should be interpreted as \"10 minutes\", unless there is a reason not to do so.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934321/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-tcp-model --runtime is not \"time\" type", 
"title": "Bug #934321 in Percona Toolkit: \"pt-tcp-model --runtime is not \"time\" type\"", 
"date_confirmed": "2012-04-17T23:31:53.015731+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/934321", 
"date_left_new": "2012-04-17T23:31:53.015731+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/934321", 
"milestone_link": null, 
"http_etag": "\"f4c365ba2c5ccc2b585a841c37e05913f3b4b2ed-33abf8a59bb5da938590313c46ef12547336171c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934321", 
"date_created": "2012-02-17T16:49:52.068740+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-tcp-model"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:25:36.077314+00:00", 
"bug_id": 942377, 
"date_in_progress": null, 
"bug_description": "Below, is the a test case of running:  SELECT first_name as 'Name', last_name as 'Name' FROM employees.employees LIMIT 1\n\n./pt-upgrade -h localhost D=employees --query=\"SELECT first_name as 'Name', last_name as 'Name' FROM employees.employees LIMIT 1\" \n\n# Query 1: ID 0x02A224E9A90784F3 at byte 0 _______________________________\n# Found 0 differences in 1 samples:\n#   checksums       0\n#   column counts   0\n#   column types    0\n#   query times     0\n#   row counts      0\n#   warning counts  0\n#   warning levels  0\n#   warnings        0\n#            localhost:3306\n# Errors                  1\n# Warnings                1\n# Query_time               \n#   sum                   0\n#   min                   0\n#   max                   0\n#   avg                   0\n#   pct_95                0\n#   stddev                0\n#   median                0\n# row_count                \n#   sum                   0\n#   min                   0\n#   max                   0\n#   avg                   0\n#   pct_95                0\n#   stddev                0\n#   median                0\nuse `employees`;\nSELECT first_name as 'Name', last_name as 'Name' FROM employees.employees LIMIT 1\n/* 02A224E9A90784F3-1 */ SELECT first_name as 'Name', last_name as 'Name' FROM employees.employees LIMIT 1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/942377/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade v. 2.0.3 fails to execute SELECT query when  it contains duplicate labels", 
"title": "Bug #942377 in Percona Toolkit: \"pt-upgrade v. 2.0.3 fails to execute SELECT query when  it contains duplicate labels\"", 
"date_confirmed": "2012-04-17T23:25:36.077314+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/942377", 
"date_left_new": "2012-04-17T23:25:36.077314+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/942377", 
"milestone_link": null, 
"http_etag": "\"8622050ea04253be1924a257fc31219451396dee-33abf8a59bb5da938590313c46ef12547336171c\"", 
"owner_link": "https://api.launchpad.net/devel/~jssicam", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/942377", 
"date_created": "2012-02-28T03:16:12.201354+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"kb-link", 
"pt-upgrade"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:22:48.941067+00:00", 
"bug_id": 944051, 
"date_in_progress": null, 
"bug_description": "From pt-table-checksum manual: \"The tool\u2019s exit status is nonzero if any differences are found, or if any warnings or errors occur.\"\nIt would be nice to distinguish, with different status codes, errors (e.g. table skipped) from diffs (different tables checksum). Indeed errors may occur temporarily and don't break replicas integrity,  while diffs do.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/944051/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum: exit status ambiguous", 
"title": "Bug #944051 in Percona Toolkit: \"pt-table-checksum: exit status ambiguous\"", 
"date_confirmed": "2012-04-17T23:22:48.941067+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/944051", 
"date_left_new": "2012-04-17T23:22:48.941067+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/944051", 
"milestone_link": null, 
"http_etag": "\"8039ca414bb94d42f7aac34dd0aceb54f68f2039-33abf8a59bb5da938590313c46ef12547336171c\"", 
"owner_link": "https://api.launchpad.net/devel/~marco-andreatta", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/944051", 
"date_created": "2012-03-01T14:59:17.481516+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"ambiguity", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 947893, 
"date_in_progress": null, 
"bug_description": "We do use the following mysql-server version :\n\nServer version: 5.0.32-Debian_7etch12-log Debian etch distribution\n\nWhen trying to run pt-table-checksum the following error arise :\n\n03-06T12:10:03 DBD::mysql::db selectrow_array failed: Unknown system variable 'hostname' [for Statement \"SELECT @@hostname, @@server_id\"] at /usr/bin/pt-table-checksum line 1480.\n\nLooking at the code, it's obvious that @@hostname must be defined to succeed :\n\n   my $sql = 'SELECT @@hostname, @@server_id';\n   PTDEBUG && _d($dbh, $sql);\n   my ($hostname, $server_id) = $dbh->selectrow_array($sql);\n   PTDEBUG && _d($dbh, 'hostname:', $hostname, $server_id);\n   if ( $hostname ) {\n      $self->{hostname} = $hostname;\n   }\n\nYou can see here that this was added in version 5.0.38 : http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_hostname\n\nCan you add a way to override this hostname check ? maybe passing it through a command line switch.\n\ncheers\nfred\n\n--- infos ---\ncommand line :  pt-table-checksum h=my-master-server,u=root,p=password\nversion : pt-table-checksum 2.0.3\nmysql-server-version :  5.0.32-Debian_7etch12-log Debian etch distribution", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/947893/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum use @@hostname system variable which is not defined in all mysql versions", 
"title": "Bug #947893 in Percona Toolkit: \"pt-table-checksum use @@hostname system variable which is not defined in all mysql versions\"", 
"date_confirmed": "2012-03-06T22:01:56.196158+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/947893", 
"date_left_new": "2012-03-06T22:01:56.196158+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/947893", 
"milestone_link": null, 
"http_etag": "\"9baf58953115e9a2f75cdc92fee0f257a34f365d-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~leger-frederic", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/947893", 
"date_created": "2012-03-06T11:14:59.743619+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": "2012-06-09T22:38:13.448809+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-26T21:42:23.614298+00:00", 
"bug_id": 949653, 
"date_in_progress": "2012-03-30T16:06:13.393562+00:00", 
"bug_description": "This is either a doc bug or a feature request. \n\nDoc bug: \n\nI think the RISKS section of the manual should warn that pt-table-checksum will break replication if the schema to be checksummed is not consistent.  This may sound obvious but on servers with many databases it may be difficult to know in advance which ones should be skipped because they only exist on the master. \n\nOR\n\nFeature request: \n\nSince the tool now accesses slaves to check their lag and throttle itself, couldn't it also check that the tables to checksum exist on all nodes and have the same structure, and refuse to run otherwise?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949653/related_tasks", 
"date_assigned": "2012-03-26T21:42:28.333707+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum docs don't mention risks posed by inconsistent schemas", 
"title": "Bug #949653 in Percona Toolkit: \"pt-table-checksum docs don't mention risks posed by inconsistent schemas\"", 
"date_confirmed": "2012-03-26T21:42:23.614298+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/949653", 
"date_left_new": "2012-03-26T21:42:23.614298+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/949653", 
"milestone_link": "https://api.launchpad.net/devel/percona-toolkit/+milestone/2.1.1", 
"http_etag": "\"43d2e169393d36638c9a7558edf07ef1780b7824-46f2122d71cf0cd6a33dbcd9a8fad9e10e0b417e\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": "2012-06-09T22:36:31.188780+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-03-30T16:10:51.530922+00:00", 
"date_fix_released": "2012-06-09T22:38:13.448809+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/949653", 
"date_created": "2012-03-08T04:43:58.605713+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-table-checksum", 
"risk"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1015804, 
"date_in_progress": null, 
"bug_description": "Feature request and simple one.  When logging killed queries to the given log file, print the database name that the query was running against.\n\npt-kill 2.1.2 line 4032\n\nThanks!\n\n--Dave", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015804/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-kill does not log DB name to log file.", 
"title": "Bug #1015804 in Percona Toolkit: \"pt-kill does not log DB name to log file.\"", 
"date_confirmed": "2012-06-21T10:37:45.104100+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1015804", 
"date_left_new": "2012-06-21T10:37:45.104100+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1015804", 
"milestone_link": null, 
"http_etag": "\"1091cb8b5cc045270d61b19d743f0ff00c297c3f-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015804", 
"date_created": "2012-06-20T21:31:24.373088+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-kill"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1043552, 
"date_in_progress": null, 
"bug_description": "A small script to check that all need dependencies are installed that are needed to run everything in Percona-Toolkit would be nice.  I know this should be handled by the RPM/DEB but, much of the time PT is copied in place as a tarball due to restrictions on the system repos or lack of root access.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043552/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Enhancement: Dependencies check script", 
"title": "Bug #1043552 in Percona Toolkit: \"Enhancement: Dependencies check script\"", 
"date_confirmed": "2012-08-30T18:11:43.864738+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1043552", 
"date_left_new": "2012-08-30T18:10:49.192217+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1043552", 
"milestone_link": null, 
"http_etag": "\"6560f476368c5b083b2273aa446d284b198148ec-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~nakoa-mccullough", 
"date_left_closed": "2012-08-30T18:11:43.864738+00:00", 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043552", 
"date_created": "2012-08-29T22:19:49.333505+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Wishlist", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1050497, 
"date_in_progress": null, 
"bug_description": "This information could be important to figure out how fast binlogs are being written.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1050497/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk doesn't capture SHOW MASTER LOGS", 
"title": "Bug #1050497 in Percona Toolkit: \"pt-stalk doesn't capture SHOW MASTER LOGS\"", 
"date_confirmed": "2012-09-28T19:41:39.345701+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1050497", 
"date_left_new": "2012-09-28T19:41:39.345701+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1050497", 
"milestone_link": null, 
"http_etag": "\"d14f2a730d5f7da5182c3e16b9b1e3a2c4578f39-a50e06e32b997fde1284dc90e8a72de4d26fa206\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1050497", 
"date_created": "2012-09-13T16:20:23.238749+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 820079, 
"date_in_progress": null, 
"bug_description": "Using --bulk-insert deletes more rows than it inserts, losing data.\n\nOriginally reported at http://code.google.com/p/maatkit/issues/detail?id=1260", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/820079/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-archiver --bulk-insert data loss", 
"title": "Bug #820079 in Percona Toolkit: \"pt-archiver --bulk-insert data loss\"", 
"date_confirmed": "2012-03-16T16:51:19.581506+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/820079", 
"date_left_new": "2012-03-16T16:51:19.581506+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/820079", 
"milestone_link": null, 
"http_etag": "\"dbd8d3e2ba196e23b8356ccca23bfb9ed25077b3-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/820079", 
"date_created": "2011-08-02T21:51:52.337458+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-archiver", 
"risk"
]
}, 
{
"date_closed": "2012-06-07T15:04:59.223557+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-07T15:04:59.223557+00:00", 
"bug_id": 821686, 
"date_in_progress": "2012-06-07T15:04:59.223557+00:00", 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1259\n\nQuoting the original:\n\nThe problem that I encountered is that I cannot ignore a column when I type it on the commandline in mixed case:\n\n--ignore-columns ObsoleteColumn\n\nIn my case, that column had been dropped on the slave, but not yet on the master.  But the list of columns contains \"obsoletecolumn\" which doesn't match what I told it to ignore.  The result was that the checksum query still included \"obsoletecolumn\" in the checksum expression, and that broke replication when it ran on the slave.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821686/related_tasks", 
"date_assigned": "2012-03-08T18:01:13.309037+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --ignore-columns is case-sensitive", 
"title": "Bug #821686 in Percona Toolkit: \"pt-table-checksum --ignore-columns is case-sensitive\"", 
"date_confirmed": "2012-03-08T17:51:02.920590+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821686", 
"date_left_new": "2012-03-08T17:51:02.920590+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821686", 
"milestone_link": null, 
"http_etag": "\"a7935ee93185698f85d36d549b75363aef0ede8e-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-07T15:04:59.223557+00:00", 
"date_fix_released": "2012-06-07T15:04:59.223557+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821686", 
"date_created": "2011-08-05T21:41:05.302260+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 821692, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1233\n\nThis mostly affect pt-query-digest.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821692/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "LOAD DATA doesn't distill correctly", 
"title": "Bug #821692 in Percona Toolkit: \"LOAD DATA doesn't distill correctly\"", 
"date_confirmed": "2012-04-18T00:05:06.380346+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/821692", 
"date_left_new": "2012-04-18T00:05:06.380346+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/821692", 
"milestone_link": null, 
"http_etag": "\"c5b7b953140db6ec8d92d704bf532341f31721af-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/821692", 
"date_created": "2011-08-05T21:49:26.928919+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"distill", 
"pt-query-digest"
]
}, 
{
"date_closed": "2011-08-09T13:41:27.456624+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 822961, 
"date_in_progress": null, 
"bug_description": "I'm not able to run pt-variable-advisor via dns or using a file on fedora 15:\n\n[fred@lefred percona-toolkit]$ mysql -e 'show global variables' >/tmp/variables.txt\n[fred@lefred percona-toolkit]$ pt-variable-advisor --source-of-variables /tmp/variables.txt \nSubroutine new redefined at /usr/local/share/perl5/AdvisorRules.pm line 31.\nCompilation failed in require at (eval 4) line 2.\n\t...propagated at /usr/share/perl5/base.pm line 94.\nBEGIN failed--compilation aborted at /usr/local/bin/pt-variable-advisor line 2217.\n[fred@lefred percona-toolkit]$ pt-variable-advisor localhost\nSubroutine new redefined at /usr/local/share/perl5/AdvisorRules.pm line 31.\nCompila[fred@lefred percona-toolkit]$ mysql -e 'show global variables' >/tmp/variables.txt\n[fred@lefred percona-toolkit]$ man pt-variable-advisor \n[fred@lefred percona-toolkit]$ pt-variable-advisor --source-of-variables /tmp/variables.txt \nSubroutine new redefined at /usr/local/share/perl5/AdvisorRules.pm line 31.\nCompilation failed in require at (eval 4) line 2.\n\t...propagated at /usr/share/perl5/base.pm line 94.\nBEGIN failed--compilation aborted at /usr/local/bin/pt-variable-advisor line 2217.\n[fred@lefred percona-toolkit]$ pt-variable-advisor localhost\nSubroutine new redefined at /usr/local/share/perl5/AdvisorRules.pm line 31.\nCompilation failed in require at (eval 4) line 2.\n\t...propagated at /usr/share/perl5/base.pm line 94.\nBEGIN failed--compilation aborted at /usr/local/bin/pt-variable-advisor line 2217.\ntion failed in require at (eval 4) line 2.\n\t...propagated at /usr/share/perl5/base.pm line 94.\nBEGIN failed--compilation aborted at /usr/local/bin/pt-variable-advisor line 2217.\n\n[fred@lefred percona-toolkit]$ rpm -qf /usr/share/perl5/base.pm\nperl-5.12.4-159.fc15.x86_64", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/822961/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor not working on Fedora15", 
"title": "Bug #822961 in Percona Toolkit: \"pt-variable-advisor not working on Fedora15\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/822961", 
"date_left_new": "2011-08-09T13:41:27.456624+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/822961", 
"milestone_link": null, 
"http_etag": "\"a71e10aa9ad613c524c3ae321a2ada83920c0c8c-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/822961", 
"date_created": "2011-08-08T21:34:11.307762+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 823431, 
"date_in_progress": null, 
"bug_description": "Imported from http://code.google.com/p/maatkit/issues/detail?id=1185\n\nThe original has a sample that can repro this.  It's probably a regex backtracking issue.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823431/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor hangs on big queries", 
"title": "Bug #823431 in Percona Toolkit: \"pt-query-advisor hangs on big queries\"", 
"date_confirmed": "2012-04-18T00:06:23.349241+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/823431", 
"date_left_new": "2012-04-18T00:06:23.349241+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/823431", 
"milestone_link": null, 
"http_etag": "\"d1ba20bcf9e0c49757ac5f440cf21c5935949b3b-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/823431", 
"date_created": "2011-08-09T17:12:09.063229+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"infinite-loop", 
"pt-query-advisor"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 828621, 
"date_in_progress": null, 
"bug_description": "like aspersa mext, using a input file via cat won't work if this file was generated on Windows.\n\nVersion: trunk\n\n$ pt-mext -r -- cat lefred.txt \nawk: cmd. line:1: fatal: cannot open file `/tmp/mext_temp_file-1' for reading (No such file or directory)\n\n$ file lefred.txt \nlefred.txt: ASCII text, with CRLF line terminators\n\n$ dos2unix lefred.txt\ndos2unix: converting file lefred.txt to Unix format ...\n\n$ pt-mext -r -- cat lefred.txt  \nAborted_clients                              49          0          0          0          0\nAborted_connects                              6          0          0          0          0\n[...]\n\nMaybe it could be added to the docs of add a check ?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/828621/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-mext and CRLF files problems", 
"title": "Bug #828621 in Percona Toolkit: \"pt-mext and CRLF files problems\"", 
"date_confirmed": "2012-03-07T13:56:37.337799+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/828621", 
"date_left_new": "2012-03-07T13:56:37.337799+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/828621", 
"milestone_link": null, 
"http_etag": "\"144ce95239f0b7cdb4d75d9d4eab7007949dc397-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/828621", 
"date_created": "2011-08-18T09:38:06.093984+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-mext", 
"windows"
]
}, 
{
"date_closed": "2011-08-23T14:24:10.250952+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 831717, 
"date_in_progress": null, 
"bug_description": "I want two more columns in the new pt-heartbeat functionality: hostname and port.  This makes it harder to make mistakes when you're looking at servers.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/831717/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Add more columns to new pt-heartbeat functionality", 
"title": "Bug #831717 in Percona Toolkit: \"Add more columns to new pt-heartbeat functionality\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/831717", 
"date_left_new": "2011-08-23T14:24:10.250952+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/831717", 
"milestone_link": null, 
"http_etag": "\"9f69fb34f975c7a44a72ac400a6fa7fdbe703a0a-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/831717", 
"date_created": "2011-08-23T01:16:27.171708+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-09-16T20:44:36.062985+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 851979, 
"date_in_progress": null, 
"bug_description": "The project homepage says \"This project and the majority of its code was forked from Maatkit (http://www.maatkit.org) in June 2011.\"\n\nThere are 2 things wrong here - first, it says it was forked, and 2nd, the date says June 2011.\n\nAccording to:\nhttp://groups.google.com/group/maatkit-discuss/browse_thread/thread/2565ba4046c3a23f/0e8c9ac795b029d6?lnk=gst&q=percona+commercial#0e8c9ac795b029d6\n\nBaron himself says on July 6th that it's a \"plan\".... \"We plan to create a Percona Toolkit\". The launchpad page for the Percona Toolkit was registered June 4th, which is planning ahead.\n\nHrm....https://launchpad.net/percona-toolkit/+series shows that the first fork of maatkit was July 1st, 2011.  Which is sadly before Baron's mailing list post, which means that was misleading to begin with.  I would hope for more integrity than that.  Regardless, July 1st is NOT June.  I cannot find a source that verifies the code was forked in June 2011, and many that state or suggest July 2011.\n\nBack to the first issue, and this is a bigger issue, but also deals with integrity.  Saying \"it's forked\" is misleading, because Baron and Daniel are abandoning maatkit and aspersa in favor of Percona Toolkit as per:\n- http://www.xaprb.com/blog/2011/09/01/want-to-hack-maatkit-and-aspersa-were-hiring/\n- the banner at http://www.maatkit.org/, which clearly states \"Maatkit has become part of Percona Toolkit, and there will be no further development or releases of Maatkit separately from Percona Toolkit.\"\n- a similar banner at http://code.google.com/p/aspersa/\n\nPlease stop the misleading propaganda and lies.  Aspersa and Maatkit are abandoned, taken over by the Percona Toolkit.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/851979/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "description is misleading", 
"title": "Bug #851979 in Percona Toolkit: \"description is misleading\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/851979", 
"date_left_new": "2011-09-16T20:44:36.062985+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/851979", 
"milestone_link": null, 
"http_etag": "\"1a8d39e6acde3efdf3ca776d55d1c0ce8ea9df0f-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~awfief", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/851979", 
"date_created": "2011-09-16T15:24:17.037346+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"lies", 
"percona"
]
}, 
{
"date_closed": "2012-01-06T17:13:00.676020+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 855176, 
"date_in_progress": null, 
"bug_description": "Command:\n=========\npt-online-schema-change h=localhost,D=test,t=tbl1 --alter \"add column (age int)\" --child-tables auto_detect --update-foreign-keys-method drop_old_table\n\n# 2011-09-20T16:56:38 /usr/bin/pt-online-schema-change started\n# 2011-09-20T16:56:38 USE `test`\n# 2011-09-20T16:56:38 Alter table tbl1 using temporary table __tmp_tbl1\n# 2011-09-20T16:56:38 Checking if table tbl1 can be altered\n# 2011-09-20T16:56:38 SHOW TRIGGERS FROM `test` LIKE 'tbl1'\n# 2011-09-20T16:56:38 Table tbl1 can be altered\n# 2011-09-20T16:56:38 Chunk column id, index PRIMARY\n# 2011-09-20T16:56:38 Chunked table tbl1 into 1 chunks\n# 2011-09-20T16:56:38 Auto-detecting child tables of tbl1\nUse of uninitialized value in concatenation (.) or string at /usr/bin/pt-online-schema-change line 4331.\n-------------------------\n\nMore Info:\n\nVersion: percona-toolkit-1.0.1.tar.gz\nMySQL Version: Percona 5.5.13-55\n\nCould you please look into this?\n\nThanks.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/855176/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change breaks when using with --child-tables auto_detect", 
"title": "Bug #855176 in Percona Toolkit: \"pt-online-schema-change breaks when using with --child-tables auto_detect\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/855176", 
"date_left_new": "2012-01-06T17:13:00.676020+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/855176", 
"milestone_link": null, 
"http_etag": "\"c296ffbf4fc7ec228454f19b5057db9be86191c1-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~ashok-jivani", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/855176", 
"date_created": "2011-09-21T00:02:00.952561+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-12-23T21:08:16.742658+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 860827, 
"date_in_progress": null, 
"bug_description": "running pt-table-checksum in a sandbox testbed. I get this error:\n\nUse of uninitialized value $cnt in printf at /usr/local/bin/pt-table-checksum line 6742.  while doing test.table10_innodb_bigint_unsigned_not_null_autoinc on P=5005,S=/tmp/mysql_sandbox5005.sock,h=tr1,p=...,u=tungsten\n\nI do get some table checksums, these errors & eventually it hangs w/o doing all the tables. :(\n\nCommand I ran:\npt-table-checksum --count --user=mydbuser --password=mypasswd --databases=test  h=myhost,P=5005 h=myhost,P=5006  h=myhost,P=5007\n\nNothing fancy yet! \n\nI would like to pipe it to pt-checksum-filter, have it look at only one table & small chunks so I can pin point what row has the error.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/860827/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum complains of uninitialized value $cnt", 
"title": "Bug #860827 in Percona Toolkit: \"pt-table-checksum complains of uninitialized value $cnt\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/860827", 
"date_left_new": "2011-12-23T21:08:16.742658+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/860827", 
"milestone_link": null, 
"http_etag": "\"a43b64c0e129d5e9bd920ae81dc705697f16a28c-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~eonarts", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/860827", 
"date_created": "2011-09-27T19:11:12.658207+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-07T22:13:08.867350+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-02T23:11:54.927454+00:00", 
"bug_id": 860927, 
"date_in_progress": "2012-03-02T23:11:54.927454+00:00", 
"bug_description": "pt-mysql-summary strips some values off the end of my.cnf lines when pretty-printing is used. This one:\n\ninnodb_autoinc_lock_mode=0\n\nWill just show up as\n\ninnodb_autoinc_lock_mode", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/860927/related_tasks", 
"date_assigned": "2012-03-01T17:29:09.718702+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary pretty-print strips some values", 
"title": "Bug #860927 in Percona Toolkit: \"pt-mysql-summary pretty-print strips some values\"", 
"date_confirmed": "2012-03-02T23:11:54.927454+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/860927", 
"date_left_new": "2012-03-02T23:11:54.927454+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/860927", 
"milestone_link": null, 
"http_etag": "\"7d8b3e77d7f714242bd65d9ca256f1c29e69603d-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-07T22:13:08.867350+00:00", 
"date_fix_released": "2012-06-07T22:13:08.867350+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/860927", 
"date_created": "2011-09-27T21:30:07.381378+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-mysql-summary", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 863165, 
"date_in_progress": null, 
"bug_description": "pt-sift displays something like this:\n\n\n--innodb--\n    txns: 84xLOCK WAIT (405s) 163xACTIVE (9892s) 36xnot (0s)\n    0 queries inside InnoDB, 0 queries in queue\n    Main thread: making checkpoint, pending reads 1, writes 0, flush 0\n    Log: lsn = 36623175066868, chkp = 36622450173415, chkp age = 724893453\n    Threads are waiting at:\n     32 trx0trx.c line 790\n      7 trx0trx.c line 1767\n      3 trx0trx.c line 1179\n      2 trx0trx.c line 223\n      2 row0sel.c line 3075\n      2 row0ins.c line 2008\n      2 lock0lock.c line 5120\n      1 trx0trx.c line 2137\n      1 trx0trx.c line 2114\n      1 trx0purge.c line 391\n      1 row0sel.c line 4801\n      1 lock0lock.c line 5350\n      1 btr0pcur.c line 426\n      1 btr0cur.c line 546\n    Threads are waiting on:\n      2 X-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\n      2 S-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\n      1 S-lock on RW-latch at 0x2aaaee043638 '&block->lock'\n\n\nwhile inndobstatus1 and innodbstatus2 contains a lot of &kernel_mutex semaphore waits:\n----------\nSEMAPHORES\n----------\nOS WAIT ARRAY INFO: reservation count 13055816227, signal count 3164232053\n--Thread 1264777536 has waited at btr0cur.c line 546 for 0.0000 seconds the semaphore:\nX-lock (wait_ex) on RW-latch at 0x2ab72a741a08 '&new_index->lock'\na writer (thread id 1264777536) has reserved it in mode  wait exclusive\nnumber of readers 5, waiters flag 0, lock_word: fffffffffffffffb\nLast time read locked in file btr0cur.c line 553\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/btr/btr0cur.c line 546\n--Thread 1315363136 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1268771136 has waited at row0ins.c line 2008 for 0.0000 seconds the semaphore:\nX-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\na writer (thread id 1288206656) has reserved it in mode  exclusive\nnumber of readers 0, waiters flag 0, lock_word: 0\nLast time read locked in file row0sel.c line 3075\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/row/row0ins.c line 2008\n--Thread 1272232256 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1346513216 has waited at lock0lock.c line 5120 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1348110656 has waited at row0ins.c line 2008 for 0.0000 seconds the semaphore:\nX-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\na writer (thread id 1288206656) has reserved it in mode  exclusive\nnumber of readers 0, waiters flag 0, lock_word: 0\nLast time read locked in file row0sel.c line 3075\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/row/row0ins.c line 2008\n--Thread 1351838016 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1345182016 has waited at trx0trx.c line 2114 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1326278976 has waited at trx0purge.c line 391 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1281816896 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1285544256 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1348376896 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1333467456 has waited at trx0trx.c line 2137 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1316960576 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1327343936 has waited at row0sel.c line 4801 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1345714496 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1334266176 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1280751936 has waited at row0sel.c line 3075 for 0.0000 seconds the semaphore:\nS-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\na writer (thread id 1288206656) has reserved it in mode  exclusive\nnumber of readers 0, waiters flag 0, lock_word: 0\nLast time read locked in file row0sel.c line 3075\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/row/row0ins.c line 2008\n--Thread 1298323776 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1343052096 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1269303616 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1306310976 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1293265216 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1310038336 has waited at lock0lock.c line 5120 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1341987136 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1306044736 has waited at trx0trx.c line 223 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1272498496 has waited at row0sel.c line 3075 for 0.0000 seconds the semaphore:\nS-lock on RW-latch at 0x2aaaaefc91b8 '&block->lock'\na writer (thread id 1288206656) has reserved it in mode  exclusive\nnumber of readers 0, waiters flag 0, lock_word: 0\nLast time read locked in file row0sel.c line 3075\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/row/row0ins.c line 2008\n--Thread 1297791296 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1339857216 has waited at trx0trx.c line 223 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1341188416 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1311369536 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1305512256 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1344915776 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1273297216 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1349441856 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1300719936 has waited at trx0trx.c line 1179 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1324415296 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1328675136 has waited at trx0trx.c line 1179 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1340123456 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1291934016 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1303648576 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1332668736 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1318025536 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1297525056 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1277024576 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1295661376 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1330006336 has waited at trx0trx.c line 1767 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1278089536 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1348909376 has waited at lock0lock.c line 5350 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1307375936 has waited at btr0pcur.c line 426 for 0.0000 seconds the semaphore:\nS-lock on RW-latch at 0x2aaaee043638 '&block->lock'\na writer (thread id 1346513216) has reserved it in mode  exclusive\nnumber of readers 0, waiters flag 1, lock_word: 0\nLast time read locked in file row0sel.c line 3075\nLast time write locked in file /home/buildbot/slaves/percona-server-51-12/CentOS-5-x86-RPM_CentOS_5_x86_64/work/BUILD/Percona-Server-5.5.14-rel20.5/Percona-Server-5.5.14-rel20.5/storage/innobase/row/row0ins.c line 2008\n--Thread 1349175616 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1295395136 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1268504896 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1338526016 has waited at trx0trx.c line 1179 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1337461056 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1330272576 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\n--Thread 1294596416 has waited at trx0trx.c line 790 for 0.0000 seconds the semaphore:\nMutex at 0x1905aa18 '&kernel_mutex', lock var 1\nwaiters flag 0\nMutex spin waits 16210335455, rounds 431570432038, OS waits 10966433915\nRW-shared spins 1483243861, rounds 37761580946, OS waits 1040814371\nRW-excl spins 239209004, rounds 29473436626, OS waits 888212940\nSpin rounds per wait: 26.62 mutex, 25.46 RW-shared, 123.21 RW-excl", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/863165/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-sift doesnot seem to calculate the right mutexes", 
"title": "Bug #863165 in Percona Toolkit: \"pt-sift doesnot seem to calculate the right mutexes\"", 
"date_confirmed": "2011-12-16T16:57:42.088283+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/863165", 
"date_left_new": "2011-12-16T16:57:42.088283+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/863165", 
"milestone_link": null, 
"http_etag": "\"1a81309126252a651acca7f8eb8f7abcc39c8a12-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/863165", 
"date_created": "2011-09-30T10:32:22.512900+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-sift", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-03-08T13:40:30.247986+00:00", 
"bug_id": 866075, 
"date_in_progress": null, 
"bug_description": "[In:<strong class=\"program\">pt-show-grants</strong>]\n\nGood day,\n\nshow-grant outputs incorrect Sql format when access to the table is on selected fields only.\n\nconsider the ff. table\nCode: [Select all] [Show/ hide]\nCREATE TABLE IF NOT EXISTS `table3` (\n  `SOrNum` mediumint(9) unsigned NOT NULL auto_increment,\n  `SPNum` mediumint(9) unsigned NOT NULL,\n  `DateCreated` timestamp NOT NULL default CURRENT_TIMESTAMP,\n  `DateRelease` timestamp NOT NULL default '0000-00-00 00:00:00',\n  `ActualReleasedDate` timestamp NULL default NULL,\n  `PckPrice` decimal(10,2) NOT NULL default '0.00',\n  `Status` varchar(20) NOT NULL,\n  `PaymentStat` varchar(20) NOT NULL default 'Unpaid',\n  `CusCode` int(9) unsigned NOT NULL,\n  `SANumber` mediumint(9) unsigned NOT NULL default '0',\n  `SpecialInstruction` varchar(500) default NULL,\n  PRIMARY KEY  (`SOrNum`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;\n\n\n\nif the user have only access to the following fields: DateCreated, PckPrice, PaymentStat, SANumber\nthe ouput of \nCode: [Select all] [Show/ hide]\npt-show-grants --user=root --ask-pass --only=user\n\n\nis the ff. which is invalid\nGRANT DateCreated, PaymentStat, PckPrice), SELECT (SANumber ON `inventory`.`table3` TO 'user'@'%';\n\nmysql-server-5.0.77-4.el5_6.6\npercona-toolkit-1.0.1-1\n\n\nRegards,", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/866075/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-show-grant shows incorrect SQL format output", 
"title": "Bug #866075 in Percona Toolkit: \"pt-show-grant shows incorrect SQL format output\"", 
"date_confirmed": "2012-03-08T13:40:30.247986+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/866075", 
"date_left_new": "2012-03-08T13:40:30.247986+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/866075", 
"milestone_link": null, 
"http_etag": "\"c27b0626cc44e221beaa978cf9b2af216f275dba-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~none-enon", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/866075", 
"date_created": "2011-10-04T10:19:49.481014+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-show-grants", 
"wrong-output"
]
}, 
{
"date_closed": "2012-08-16T17:11:33.338310+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 869032, 
"date_in_progress": null, 
"bug_description": "The error message on failed permission checks looks the same for failed checks on the source or destination side, not revealing which side the check actually failed on. The error message always just reads\n\n User $user does not have all necessary privileges on $db.$table\n\nIMHO it should either include the actual host name or simply add source/destination like\n\n ... privileges on source table $db.$table", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/869032/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync ambiguous error message on permission check", 
"title": "Bug #869032 in Percona Toolkit: \"pt-table-sync ambiguous error message on permission check\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/869032", 
"date_left_new": "2012-03-07T14:02:40.980457+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/869032", 
"milestone_link": null, 
"http_etag": "\"5d51fe3fe3c15a7b01ff1f7386a0acb4d1eec0ab-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~hartmut-php", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/869032", 
"date_created": "2011-10-06T09:50:57.012400+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"ambiguity", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-06-07T14:10:21.879595+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 870510, 
"date_in_progress": null, 
"bug_description": "Hi :\n\nI am trouble when i use  pt-table-sync tool\n\ni run command:\n   pt-table-sync --databases=test --user=root --socket=/data/mysqldata3306/sock/mysql.sock --print --sync-to-master --replicate test.checksum localhost\n\nresult :\nThe server specified as a master has no connected slaves at /usr/bin/pt-table-sync line 6004\n\nReplicat is running , and it is nomal .I try to remove --socket from DSN,still have problem\n\nPlease reslove it ,thanks", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/870510/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync cannot connected slave", 
"title": "Bug #870510 in Percona Toolkit: \"pt-table-sync cannot connected slave\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/870510", 
"date_left_new": "2012-04-18T00:00:19.345154+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/870510", 
"milestone_link": null, 
"http_etag": "\"0308756116db94479c80019bb9760dbc6b38fbb2-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~ben-xiaowei", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/870510", 
"date_created": "2011-10-08T07:06:53.987804+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-sync", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-08-14T21:03:47.906542+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-14T21:02:58.066738+00:00", 
"bug_id": 872175, 
"date_in_progress": "2012-08-14T21:02:58.066738+00:00", 
"bug_description": "I am porting percona-toolkit to OpenBSD, here a set of patches to support most tools.\npt-diskstats and pt-pmp don't work yet.\n Giovanni Bechis", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872175/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "OpenBSD support", 
"title": "Bug #872175 in Percona Toolkit: \"OpenBSD support\"", 
"date_confirmed": "2012-08-14T21:02:58.066738+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/872175", 
"date_left_new": "2012-02-02T14:58:51.110103+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/872175", 
"milestone_link": null, 
"http_etag": "\"79905e835b1a90fef76f820e89ee14db15811ef2-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~bigionews", 
"date_left_closed": "2012-08-14T21:02:58.066738+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-08-14T21:02:58.066738+00:00", 
"date_fix_released": "2012-08-14T21:03:47.906542+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872175", 
"date_created": "2011-10-11T08:54:18.761352+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"bsd", 
"crash", 
"shell-tools"
]
}, 
{
"date_closed": "2011-11-21T16:02:11.441540+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 872807, 
"date_in_progress": null, 
"bug_description": "bash pt-summary:\n\n# Processor ##################################################\n  Processors | physical = 16, cores = 16, virtual = 16, hyperthreading = no\n      Speeds | 16x2400.084\n      Models | 16xIntel(R) Xeon(R) CPU E5620 @ 2.40GHz\n      Caches | 16x12288 KB\n\n\n\n=head1 VERSION\n\npt-summary 1.0.1\n\n=cut\n\n\nuname -a\n2.6.18-194.32.1.el5xen #1 SMP Wed Jan 5 18:44:24 EST 2011 x86_64 x86_64 x86_64 GNU/Linux\nCentOS release 5.7 (Final)\nProLiant DL360 G7\n\nProcessor Information\n        Socket Designation: Proc 1\n        Type: Central Processor\n        Family: Xeon\n        Manufacturer: Intel\n        ID: C2 06 02 00 FF FB EB BF\n        Signature: Type 0, Family 6, Model 44, Stepping 2\n        Flags:\n                FPU (Floating-point unit on-chip)\n                VME (Virtual mode extension)\n                DE (Debugging extension)\n                PSE (Page size extension)\n                TSC (Time stamp counter)\n                MSR (Model specific registers)\n                PAE (Physical address extension)\n                MCE (Machine check exception)\n                CX8 (CMPXCHG8 instruction supported)\n                APIC (On-chip APIC hardware supported)\n                SEP (Fast system call)\n                MTRR (Memory type range registers)\n                PGE (Page global enable)\n                MCA (Machine check architecture)\n                CMOV (Conditional move instruction supported)\n                PAT (Page attribute table)\n                PSE-36 (36-bit page size extension)\n                CLFSH (CLFLUSH instruction supported)\n                DS (Debug store)\n                ACPI (ACPI supported)\n                MMX (MMX technology supported)\n                FXSR (FXSAVE and FXSTOR instructions supported)\n                SSE (Streaming SIMD extensions)\n                SSE2 (Streaming SIMD extensions 2)\n                SS (Self-snoop)\n                HTT (Multi-threading)\n                TM (Thermal monitor supported)\n                PBE (Pending break enabled)\n        Version: Intel(R) Xeon(R) CPU E5620 @ 2.40GHz            \n        Voltage: 1.4 V\n        External Clock: 133 MHz\n        Max Speed: 4800 MHz\n        Current Speed: 2400 MHz\n        Status: Populated, Enabled\n        Upgrade: Socket LGA1366\n        L1 Cache Handle: 0x0710\n        L2 Cache Handle: 0x0720\n        L3 Cache Handle: 0x0730\n        Serial Number: Not Specified\n        Asset Tag: Not Specified\n        Part Number: Not Specified\n        Core Count: 4\n        Core Enabled: 4\n        Thread Count: 8\n        Characteristics:\n                64-bit capable", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872807/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Wrong hyperthreading report in pt-summary", 
"title": "Bug #872807 in Percona Toolkit: \"Wrong hyperthreading report in pt-summary\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/872807", 
"date_left_new": "2011-11-21T16:02:11.441540+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/872807", 
"milestone_link": null, 
"http_etag": "\"5bf35fb78d71dfc3f41e77c1c2357925c135ef5c-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~kazimieras", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/872807", 
"date_created": "2011-10-12T11:45:47.830251+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"cpu-info", 
"pt-summary"
]
}, 
{
"date_closed": "2011-11-01T16:39:07.989347+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 873026, 
"date_in_progress": null, 
"bug_description": "I got chastised in bug 851979 about not putting questions in the right place, so I asked a question about whether the existing maatkit issues were going to be imported into the Percona toolkit bugs.  That question is here:\n\nhttps://answers.launchpad.net/percona-toolkit/+question/171416\n\nBut it was closed after 2 weeks of nobody doing anything about it, and that was 10 days ago, so I'm worried it will be closed again in a few days.  I apologize for making a bug, but when I put my question in the proper place it is going unnoticed, so I am forced to resort to trying to get attention here.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873026/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Importing the maatkit issues", 
"title": "Bug #873026 in Percona Toolkit: \"Importing the maatkit issues\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/873026", 
"date_left_new": "2011-11-01T16:39:07.989347+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/873026", 
"milestone_link": null, 
"http_etag": "\"51375f39649fdd887f41306e51c67a754a157015-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~awfief", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873026", 
"date_created": "2011-10-12T19:01:15.649958+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-10-13T18:57:55.000579+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 873073, 
"date_in_progress": null, 
"bug_description": "Similar to Bug #821673, the since clause should be considered when building chunks.\n\nSimplistic example.\n\nSay you have the following table:\nCREATE TABLE `chunk_test` (\n  `id` int(10) unsigned NOT NULL,\n  `date` datetime default NULL,\n  PRIMARY KEY  (`id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8\n\nand the following data:\nid date\n1  2011-03-01\n2  2011-03-01\n3  2011-03-01\n4  2011-03-01\n5  2011-03-01\n6  2011-03-02\n7  2011-03-02\n8  2011-03-02\n9  2011-03-02\n10 2011-03-02\n11 2011-03-03\n12 2011-03-03\n13 2011-03-03\n14 2011-03-03\n15 2011-03-03\n\nAnd --since=10 --chunk-size=2\n\nWithout considering the since clause when building the chunks, the chunk range would be 1, 15. So, when chunking you would have chunk queries for 1 - 9 that would have had to run, but that don't have a checksum because they don't match the since condition.\n\nWith including the since clause, the chunk range would be 10, 15. This would cause chunk queries to only be ran for rows 10 - 15.\n\nI have attached a patch for this bug/enhancement.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873073/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum should consider since when building chunks", 
"title": "Bug #873073 in Percona Toolkit: \"pt-table-checksum should consider since when building chunks\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/873073", 
"date_left_new": "2011-10-13T18:57:55.000579+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/873073", 
"milestone_link": null, 
"http_etag": "\"0c17297a1f0d1c829473f8e1344ee75808e364a0-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/873073", 
"date_created": "2011-10-12T20:41:01.850119+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-11-01T16:43:32.735140+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 875895, 
"date_in_progress": null, 
"bug_description": "It did happen to me that I chose the wrong --type with pt-query-digest.\nIf you're processing a large file, pt-query-digest might start using a lot of memory and only show you at the end of the processing that no events have been processed.\n\nIt would be a good feature to be safe and bail out when the wrong type is given, or detect the type automatically.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/875895/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest should detect --type, or bail out if the wrong one is given", 
"title": "Bug #875895 in Percona Toolkit: \"pt-query-digest should detect --type, or bail out if the wrong one is given\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/875895", 
"date_left_new": "2011-11-01T16:43:32.735140+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/875895", 
"milestone_link": null, 
"http_etag": "\"5118e0bf4065bb4cae47fdad1ba6721821572d65-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~gryp", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/875895", 
"date_created": "2011-10-16T18:28:41.473265+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-11-01T16:26:25.917333+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 876474, 
"date_in_progress": null, 
"bug_description": "Hi,\ni use pt-table-sync for host1 to host2 synchronising.\nFor example when i change a row in my table1  i get an exit status 2.\nBut the Update Query gets still executed !  Do you use exit status 2\nfor success or failure ?  The problem is that when my table1 has really\na different structure i get an exit status 2 too. But the difference is that\nthis Update Query doesn't get executed.\n\nAccording your documentation:\n\nSTATUS  MEANING\n======  =======================================================\n0       Success.\n1       Internal error.\n2       At least one table differed on the destination.\n3       Combination of 1 and 2.\n\n\n\n\nregards,\nStefan", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/876474/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync exit status 2", 
"title": "Bug #876474 in Percona Toolkit: \"pt-table-sync exit status 2\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/876474", 
"date_left_new": "2011-11-01T16:26:25.917333+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/876474", 
"milestone_link": null, 
"http_etag": "\"80234853abe63c1accd5006f34757111802a1d1d-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~1tef3n", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/876474", 
"date_created": "2011-10-17T12:49:11.198844+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"doc"
]
}, 
{
"date_closed": "2012-10-13T17:13:13.703331+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 879194, 
"date_in_progress": null, 
"bug_description": "--replicate-check by default will find slaves by:\n\n  - SHOW PROCESSLIST\n  - SHOW SLAVE HOSTS\n\nBut if I'm not using MySQL's built-in replication, slaves don't show up on either commands. However slaves are already being specified at the end of @ARGV. Why can't --replicate-check use these values to connect and do the checking?\n\nThe only problem I see is that @ARGV can only specify one level of the replication network and so it can't recurse. But that is all I need for now :)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/879194/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "--replicate-check doesn't look at @ARGV", 
"title": "Bug #879194 in Percona Toolkit: \"--replicate-check doesn't look at @ARGV\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/879194", 
"date_left_new": "2011-11-01T16:55:54.311877+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/879194", 
"milestone_link": null, 
"http_etag": "\"0d5886a4fdda4772ae3b229b6889986f4713fa66-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~alfiejohn", 
"date_left_closed": "2011-11-21T15:55:30.722601+00:00", 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/879194", 
"date_created": "2011-10-21T02:11:33.488742+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"finding-slaves", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2011-12-16T15:36:14.951938+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 880341, 
"date_in_progress": null, 
"bug_description": "In the documentation it's mention that if the file pt-stalk.conf exists in the current working directory, then \u201cENVIRONMENT\u201d variables are imported from it. But in fact if pt-stalk is in the path, it won't use the config file in the current working dir but in the directory where the command is.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/880341/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk documentation for .conf file is wrong", 
"title": "Bug #880341 in Percona Toolkit: \"pt-stalk documentation for .conf file is wrong\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/880341", 
"date_left_new": "2011-12-16T15:36:14.951938+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/880341", 
"milestone_link": null, 
"http_etag": "\"233fdc0cdcadc185fe7bd95c2740b854fcd035f8-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/880341", 
"date_created": "2011-10-23T13:07:36.777947+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-stalk"
]
}, 
{
"date_closed": "2011-11-01T16:17:40.542623+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 880629, 
"date_in_progress": null, 
"bug_description": "Can $0 be stripped of the password?\n\nEven though if timed properly the password will be shown, the password won't be easily available for long running instances (which is the normal case).", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/880629/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "password shown in process name", 
"title": "Bug #880629 in Percona Toolkit: \"password shown in process name\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/880629", 
"date_left_new": "2011-11-01T16:17:40.542623+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/880629", 
"milestone_link": null, 
"http_etag": "\"34314382e6c1f67e8c29c172b24dccbcccaf5cd7-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~alfiejohn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/880629", 
"date_created": "2011-10-24T03:25:56.804316+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 886059, 
"date_in_progress": null, 
"bug_description": "I have a master in GMT and a slave in IST.  CentOS 5, perl 5.8.8, pt-heartbeat v1.0.1.\n\nWhen I set pt-heartbeat to monitor in other timezones it translates the time so I get 0.00s but it seems to ignore IST so I get 19800.00s.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886059/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat timezone ignores IST", 
"title": "Bug #886059 in Percona Toolkit: \"pt-heartbeat timezone ignores IST\"", 
"date_confirmed": "2011-12-16T16:45:51.794596+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/886059", 
"date_left_new": "2011-12-16T16:45:51.794596+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/886059", 
"milestone_link": null, 
"http_etag": "\"0d7c9aa8d32aeea40ca27e47b2f808c69109babe-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~kristian-davies", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886059", 
"date_created": "2011-11-04T11:39:56.179026+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-heartbeat", 
"tz"
]
}, 
{
"date_closed": "2011-11-04T17:12:22.547657+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 886201, 
"date_in_progress": null, 
"bug_description": "Hi,\n\nCalling pt-table-checksum with\n\npt-table-checksum --count --nocrc h=localhost work as expected and only the count() is performed.\n\nWhen called with the --replicate option:\n\npt-table-checksum --count  --nocrc --create-replicate-table --no-check-replication-filters h=localhost --replicate=test.checksums\n\nThe checksum is also performed", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886201/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --no-crc doesn't work with --replicate", 
"title": "Bug #886201 in Percona Toolkit: \"pt-table-checksum --no-crc doesn't work with --replicate\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/886201", 
"date_left_new": "2011-11-04T17:12:22.547657+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/886201", 
"milestone_link": null, 
"http_etag": "\"f1c2f0ffb2d7a4de25050c953b8121b0b7161cde-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~bigon", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886201", 
"date_created": "2011-11-04T16:08:41.866441+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-11-04T17:07:10.100706+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 886220, 
"date_in_progress": null, 
"bug_description": "$ ./pt-summary  --help\n# Percona Toolkit System Summary Report ######################\n*goes about its way creating the report*\n\nThere should be usage information (just the perldoc?) for every pt script to explain what it does and any command line options, at least briefly.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886220/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt scripts need --help/-?/whatever", 
"title": "Bug #886220 in Percona Toolkit: \"pt scripts need --help/-?/whatever\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/886220", 
"date_left_new": "2011-11-04T17:07:10.100706+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/886220", 
"milestone_link": null, 
"http_etag": "\"5deb198e68d18110d9f593f252537b0fd8db815e-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886220", 
"date_created": "2011-11-04T16:31:47.703117+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-06-09T21:45:39.023134+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-21T04:44:25.298376+00:00", 
"bug_id": 886223, 
"date_in_progress": "2012-03-21T04:44:25.298376+00:00", 
"bug_description": "I have a server with a LSI MegaRaid Perc 6/i card.  pt-summary outputs the following:\n\n# RAID Controller ############################################\n  Controller | LSI Logic MegaRAID SAS\n       Model | PERC 6/i Integrated, PCIE interface, 8 ports\n       Cache | 256MB Memory, BBU\n         BBU | 87% Charged, Temperature 22C, isSOHGood=Yes\n\n  VirtualDev Size      RAID Level Disks SpnDpth Stripe Status  Cache\n  ========== ========= ========== ===== ======= ====== ======= =========\n\n  PhysiclDev Type State   Errors Vendor  Model        Size\n  ========== ==== ======= ====== ======= ============ ===========\n  Hard Disk  SAS  Online,  0/0/0 SEAGATE ST3146356SS  136.732\n  Hard Disk  SAS  Online,  0/0/0 SEAGATE ST3146356SS  136.732\n  Hard Disk  SAS  Online,  0/0/0 SEAGATE ST3146356SS  136.732\n  Hard Disk  SAS  Online,  0/0/0 SEAGATE ST3146356SS  136.732\n\nIf I run megacli manually, I can see the logical drive information clearly:\n\n$ sudo /opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -Lall -aAll\n                                     \n\nAdapter 0 -- Virtual Drive Information:\nVirtual Drive: 0 (Target Id: 0)\nName                :RAID 10\nRAID Level          : Primary-1, Secondary-3, RAID Level Qualifier-0\nSize                : 272.25 GB\nMirror Data         : 272.25 GB\nState               : Optimal\nStrip Size          : 64 KB\nNumber Of Drives per span:2\nSpan Depth          : 2\nDefault Cache Policy: WriteBack, ReadAdaptive, Direct, No Write Cache if Bad BBU\nCurrent Cache Policy: WriteBack, ReadAdaptive, Direct, No Write Cache if Bad BBU\nDefault Access Policy: Read/Write\nCurrent Access Policy: Read/Write\nDisk Cache Policy   : Disk's Default\nEncryption Type     : None\nIs VD Cached: No\n\n\n\nExit Code: 0x00\n\n\npt-summary should output the logical drive correctly with this controller/megacli.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886223/related_tasks", 
"date_assigned": "2012-03-21T04:44:22.003530+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary megacli not showing logical drives", 
"title": "Bug #886223 in Percona Toolkit: \"pt-summary megacli not showing logical drives\"", 
"date_confirmed": "2011-12-16T17:00:23.559133+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/886223", 
"date_left_new": "2011-12-16T17:00:23.559133+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/886223", 
"milestone_link": null, 
"http_etag": "\"d710e85780ba51f355b0b7f1ab0ac9db0c0bef74-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-09T21:45:39.023134+00:00", 
"date_fix_released": "2012-06-09T21:45:39.023134+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/886223", 
"date_created": "2011-11-04T16:36:47.442621+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 887638, 
"date_in_progress": null, 
"bug_description": "I have added the requested information to the original bug report, whose status I can't change...\n\nhttp://code.google.com/p/maatkit/issues/detail?id=1352", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/887638/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest prints negative byte offset", 
"title": "Bug #887638 in Percona Toolkit: \"pt-query-digest prints negative byte offset\"", 
"date_confirmed": "2011-12-16T17:00:15.248843+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/887638", 
"date_left_new": "2011-12-16T17:00:15.248843+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/887638", 
"milestone_link": null, 
"http_etag": "\"e59cb80e86dab7b16dc094d6508d790a14e508d6-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~google-r", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/887638", 
"date_created": "2011-11-08T16:17:15.301172+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"wrong-output"
]
}, 
{
"date_closed": "2012-05-31T13:39:42.083319+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-05-31T13:39:42.083319+00:00", 
"bug_id": 888113, 
"date_in_progress": "2012-05-31T13:39:42.083319+00:00", 
"bug_description": "Pipeline process 3 (MySQLProtocolParser) caused an error: Argument \"\" isn't numeric in substr at ./pt-query-digest line 3410, <> line 1304.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888113/related_tasks", 
"date_assigned": "2012-05-31T13:52:43.821130+00:00", 
"bug_information_type": "Public", 
"bug_title": "MySQLProtocolParser crashes on some prepared statements", 
"title": "Bug #888113 in Percona Toolkit: \"MySQLProtocolParser crashes on some prepared statements\"", 
"date_confirmed": "2012-03-08T03:30:17.856142+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/888113", 
"date_left_new": "2012-03-08T03:30:17.856142+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/888113", 
"milestone_link": null, 
"http_etag": "\"ef7a5df21f26072df7ffad4e9304e147b94da945-d83dbd4553160edb345b5d5ac964e42241d0c11f\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-05-31T13:39:42.083319+00:00", 
"date_fix_released": "2012-05-31T13:39:42.083319+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/888113", 
"date_created": "2011-11-09T15:23:51.483160+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"prep-stmt", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-11T16:02:11.257857+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 889742, 
"date_in_progress": null, 
"bug_description": "pt-config-diff does SHOW VARIABLES to collect the configuration settings. This is wrong and it should use SHOW GLOBAL VARIABLES which ensures that global settings are used.  SHOW VARIABLES shows session settings which may vary from the global values, and using SHOW GLOBAL VARIABLES makes it clear you are trying to collect global settings.  Perhaps the impact is not large but it seems more correct to do this.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889742/related_tasks", 
"date_assigned": "2012-02-21T18:11:34.582213+00:00", 
"bug_information_type": "Public", 
"bug_title": "Should use SHOW GLOBAL VARIABLES", 
"title": "Bug #889742 in Percona Toolkit: \"Should use SHOW GLOBAL VARIABLES\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/889742", 
"date_left_new": "2012-03-08T03:58:36.696300+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/889742", 
"milestone_link": null, 
"http_etag": "\"1c1121b79026c7b51f534d29441dfdb76e86a9ef-49eff5a1c4e2737bdeaf0238cfc32a71694a6c17\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889742", 
"date_created": "2011-11-13T07:59:35.831659+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-config-diff", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-01-31T20:37:30.163833+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 889765, 
"date_in_progress": null, 
"bug_description": "When there is a \"percona-toolkit-collect-lockfile\" file in /tmp/ pt-collect execute but doesn't show any warnings and collect no data. Only an empty  2011_11_10_10_22_53-output. If there is a lock file, pt-collect should show a self explanatory warning and then exit.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889765/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "no warnings when you execute pt-collect and there is a percona-toolkit-collect-lockfile", 
"title": "Bug #889765 in Percona Toolkit: \"no warnings when you execute pt-collect and there is a percona-toolkit-collect-lockfile\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/889765", 
"date_left_new": "2012-01-31T20:37:30.163833+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/889765", 
"milestone_link": null, 
"http_etag": "\"43e968ad87402d481dd57417df733a528ace9763-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/889765", 
"date_created": "2011-11-13T09:55:08.269389+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect", 
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:54:09.684662+00:00", 
"bug_id": 890650, 
"date_in_progress": null, 
"bug_description": "As per a discussion just had on irc:\n\n15/11/2011 12:32:39  walterheck> hello, I have a slave 'x' which serves as a master for another cluster. the second cluster is a master 'y' with 4 slaves. I used pt-table-checksum from 'x' to show me the changes (I already know that x is in sync with it's own master 'a', so I didn't want to run the checksum from 'a'). now when I run pt-table-sync from 'x', it's not doing anything. --verbose --execute shows just two lines and no actual queries. What's up there?\n15/11/2011 12:40:54  gryp> walterheck: try with 'env PTDEBUG'\n15/11/2011 12:53:33  gryp> walterheck: which version of pt-table-checksum did you use?\n15/11/2011 12:54:46  walterheck> root@db05:~# ./pt-table-sync --version\n15/11/2011 12:54:46  walterheck> pt-table-sync 1.0.1\n15/11/2011 12:56:02  gryp> are there any inconsistencies?\n15/11/2011 12:56:13  gryp> :)\n[...]\n15/11/2011 13:00:33  walterheck> gryp: interesting though that mk-table-checksum had no problem finding the correct slave ip's?\n15/11/2011 13:00:46  walterheck> *pt-table-checksum\n[..]\n15/11/2011 13:04:24  gryp> voila, so pt-table-checksum checks replication lag\n15/11/2011 13:04:27  gryp> and there's none\n15/11/2011 13:04:33  gryp> it does not check where it is replicating from\n15/11/2011 13:04:37  gryp> and doesn't check the checksum table\n15/11/2011 13:04:41  gryp> unless you do --replicate-check2\n15/11/2011 13:05:01  walterheck> not sure I follow. I used this for checksumming:\n15/11/2011 13:05:58  walterheck> ./pt-table-checksum -umaatkit --ask-pass --replicate=test.checksum --empty-replicate-table --create-replicate-table --no-check-replication-filters localhost\n15/11/2011 13:05:58  gryp> well, pt-table-checksum does not run queries on the slaves, it only logs in on the slaves to verify if the slave is lagging or not. if a slave is lagging, it will wait until it's back in sync. But in your case, the slave that it connects to is not the right one, so it monitoring the wrong server.\n15/11/2011 13:06:25  gryp> try doing ./pt-table-checksum -umaatkit --ask-pass --replicate=test.checksum --replicate-check=2 localhost\n15/11/2011 13:06:34  walterheck> and then ./pt-table-checksum -umaatkit --ask-pass --replicate=test.checksum --replicate-check=2 --no-check-replication-filters localhost\n15/11/2011 13:06:41  gryp> it didnt' fail?\n15/11/2011 13:06:50  gryp> the slave must have test.checksum by itself :)\n15/11/2011 13:07:09  walterheck> that actually does not fail, it starts\n15/11/2011 13:07:10  walterheck> root@db05:~# ./pt-table-checksum -umaatkit --ask-pass --replicate=test.checksum --replicate-check=2 --no-check-replication-filters localhostEnter password for localhost: \n15/11/2011 13:07:10  walterheck> Differences on P=3306,h=10.0.100.19\n15/11/2011 13:07:10  walterheck> DB         TBL                       CHUNK CNT_DIFF CRC_DIFF BOUNDARIES\n15/11/2011 13:07:19  walterheck> and then a whole list of differences for all of the slaves\n15/11/2011 13:07:25  gryp> and are they correct?\n15/11/2011 13:07:29  walterheck> yup\n15/11/2011 13:07:32  gryp> hmm.\n15/11/2011 13:07:40  gryp> it also uses processlist to figure that out\n15/11/2011 13:07:42  walterheck> gryp: my thought :)\n15/11/2011 13:09:45  walterheck> gryp: MKDEBUG=1 ./pt-table-checksum -umaatkit --ask-pass --replicate=test.checksum --replicate-check=2 --no-check-replication-filters localhost\n15/11/2011 13:10:21  walterheck> that shows me that it does connect to 10.0.78.38 correctly and there runs a show proceslist and finds the other 4 slaves\n15/11/2011 13:10:38  gryp> weird\n15/11/2011 13:12:26  walterheck> gryp: ah, it seems that pt-table-sync just checks the one slave it finds, but doesn't recurse\n15/11/2011 13:12:42  walterheck> and the one slave happens to have no differences, just the slaves of that one slave\n15/11/2011 13:13:42  walterheck> gryp: and it doesn't seem to be able to do that\n15/11/2011 13:14:35  walterheck> so basically I need to run pt-table-sync from the slave 'y' of the server 'x' i'm running it from now\n15/11/2011 13:14:46  gryp> hmm\n15/11/2011 13:14:46  walterheck> since y=x that makes no difference I guess?\n15/11/2011 13:14:59  gryp> didn't know that it doesn't support recursion\n15/11/2011 13:15:08  gryp> should not be a problem to fix the inconsistencies like that\n15/11/2011 13:15:18  gryp> let's call it a missing feature? :)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/890650/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync doesn't recursively find slaves as opposed to pt-table-checksum", 
"title": "Bug #890650 in Percona Toolkit: \"pt-table-sync doesn't recursively find slaves as opposed to pt-table-checksum\"", 
"date_confirmed": "2012-04-17T23:54:09.684662+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/890650", 
"date_left_new": "2012-04-17T23:54:09.684662+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/890650", 
"milestone_link": null, 
"http_etag": "\"72cc2eea202d68ffe56b5031a918cc5e37466e62-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~walterheck", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/890650", 
"date_created": "2011-11-15T11:24:34.340913+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-sync", 
"slave-recursion"
]
}, 
{
"date_closed": "2012-01-19T20:14:25.641684+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 893423, 
"date_in_progress": null, 
"bug_description": "The problem: if there are many tables in the table cache, SHOW OPEN TABLES will lock the server for a long time.\n\nThe fix: before pt-collect runs SHOW OPEN TABLES, it should check the value of Open_tables from SHOW STATUS, and not run it if there are more than 1000.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/893423/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-collect should check before running SHOW OPEN TABLES", 
"title": "Bug #893423 in Percona Toolkit: \"pt-collect should check before running SHOW OPEN TABLES\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/893423", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/893423", 
"milestone_link": null, 
"http_etag": "\"c589cf891fda9d3aaf7ef50aa5b17fd2fc94840c-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/893423", 
"date_created": "2011-11-22T02:15:01.039838+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect"
]
}, 
{
"date_closed": "2011-11-29T09:58:26.911574+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 897275, 
"date_in_progress": null, 
"bug_description": "This is our situation:\n- We did an alter on all slaves, which was succesfully finished\n- Now we try to do it on the master, so all machines have the new modifications, but somehow our slaves crash because the INSERT-SELECT are send to the slaves, and they don't have the tmp table so they crash\n\nThe command I used: pt-online-schema-change h=db14,t=database.table --drop-old-table --alter \"add column(uTime int(11) UNSIGNED NOT NULL DEFAULT 0), add key \\`uTime\\` (\\`uTime\\`)\" -uroot -p.... --sleep=0.1\n\nPS.: I use percona debian package.\n\nPPS.: I've done 2 alters before, with the  .tar.gz package and all worked fine (on the slaves AND master)\nBut now with the debian package I have this new issue.\n\nMaster server version: 5.5.15-log MySQL Community Server (GPL)\nVersion of one of the slaves: 5.5.15-log MySQL Community Server (GPL)\n\nIf you need more information, please tell me", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897275/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change, INSERT-SELECT on master are executed on slave as well", 
"title": "Bug #897275 in Percona Toolkit: \"pt-online-schema-change, INSERT-SELECT on master are executed on slave as well\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/897275", 
"date_left_new": "2011-11-29T09:58:26.911574+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897275", 
"milestone_link": null, 
"http_etag": "\"8ecb123b5d54bf9a6d854fee234bab8c45cf4f14-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~alitrix", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897275", 
"date_created": "2011-11-28T15:57:38.774486+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change", 
"replication"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 897685, 
"date_in_progress": null, 
"bug_description": "In the fingerprint() subroutine, we have:\n\n   $query =~ m#/\\*\\w+\\.\\w+:[0-9]/[0-9]\\*/#     # pt-table-checksum, etc query\n      && return 'percona-toolkit';\n\nBut in other tools, I doubt we have tests to ensure that they don't get changed in a way that will break these expectations. We should test the other tools to prevent this problem.  In addition, I worry that this pattern is generic -- it is the type of thing that any application could put into a query comment.  We should make our tools put a specific comment into their queries, like /* pt-table-checksum .......... */ and the pattern should pull out the tool's name and return that as the fingerprint.\n\nAlso, in pt-query-digest, we are not exposing to the user the fact that a given class of queries is a special case.  We might want to address this in a separate bug report though.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897685/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Special pt-query-digest fingerprints no longer work", 
"title": "Bug #897685 in Percona Toolkit: \"Special pt-query-digest fingerprints no longer work\"", 
"date_confirmed": "2012-01-31T18:46:11.398561+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897685", 
"date_left_new": "2012-01-31T18:46:11.398561+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897685", 
"milestone_link": null, 
"http_etag": "\"5c56dad2730b1d6ff9d82068a01a02de536b9332-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897685", 
"date_created": "2011-11-29T13:50:13.181468+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"fingerprints", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-03-08T03:24:26.821267+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-03-08T03:24:26.821267+00:00", 
"bug_id": 897691, 
"date_in_progress": "2012-03-08T03:24:26.821267+00:00", 
"bug_description": "We should include the information from http://www.xaprb.com/blog/2011/11/29/special-mysqldump-fingerprinting-rule-in-pt-query-digest/ into the pt-query-digest documentation.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897691/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Mention special fingerprinting rules in pt-query-digest docs", 
"title": "Bug #897691 in Percona Toolkit: \"Mention special fingerprinting rules in pt-query-digest docs\"", 
"date_confirmed": "2012-03-08T03:24:26.821267+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/897691", 
"date_left_new": "2012-03-08T03:24:26.821267+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/897691", 
"milestone_link": null, 
"http_etag": "\"6bf1f027462b4c6ead2c9c2e2263daae4649b075-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-08T03:24:26.821267+00:00", 
"date_fix_released": "2012-03-08T03:24:26.821267+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/897691", 
"date_created": "2011-11-29T14:00:40.592965+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 898140, 
"date_in_progress": null, 
"bug_description": "$ ./pt-variable-advisor --version\npt-variable-advisor 1.0.1\n$ ./pt-variable-advisor \nUsage: pt-variable-advisor [OPTION...] [DSN]\n\nErrors in command-line arguments:\n  * A DSN must be specified when --source-of-variables=mysql\n\npt-variable-advisor analyzes variables and advises on possible problems.  For\nmore details, please use the --help option, or try 'perldoc\n./pt-variable-advisor' for complete documentation.\n$ ./pt-variable-advisor localhost\n# WARN delay_key_write: MyISAM index blocks are never flushed until necessary.\n... (omitted) ...\n\nA sane behavior would be to (as mysql client itself and most/all other Percona-Toolkit tools) default to the most useful case and examine the localhost.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898140/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-variable-advisor should default to localhost", 
"title": "Bug #898140 in Percona Toolkit: \"pt-variable-advisor should default to localhost\"", 
"date_confirmed": "2012-04-17T23:50:59.095187+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898140", 
"date_left_new": "2012-04-17T23:50:59.095187+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898140", 
"milestone_link": null, 
"http_etag": "\"089d526f48b61085744c9a83afcd9ce0d349a180-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898140", 
"date_created": "2011-11-30T12:57:03.425357+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-variable-advisor", 
"wrong-default"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:47:06.208827+00:00", 
"bug_id": 898692, 
"date_in_progress": null, 
"bug_description": "If I invoke pt-log-player as follows:\n\n%> pt-log-player --split Thread_id --session-files 1 --only-select FILENAME\n\nIt creates two directories: ./1 and ./2 as well as two files: sessions-1.txt and sessions-2.txt.  ./1 and ./2 both have content, as does sessions-1.txt, but sessions-2.txt does not.  Why are sessions-2.txt and ./2 created when I have clearly only asked for one session?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898692/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-log-player creates an extra session directory", 
"title": "Bug #898692 in Percona Toolkit: \"pt-log-player creates an extra session directory\"", 
"date_confirmed": "2012-04-17T23:47:06.208827+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898692", 
"date_left_new": "2012-04-17T23:47:06.208827+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898692", 
"milestone_link": null, 
"http_etag": "\"515125aa9e686dc836639d6ce65998d60279df40-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898692", 
"date_created": "2011-12-01T15:37:13.352826+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-log-player"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:46:59.347943+00:00", 
"bug_id": 898694, 
"date_in_progress": null, 
"bug_description": "If I invoke pt-log-player as follows:\n\n%> pt-log-player --split Thread_id --session-files 1 --only-select FILENAME\n\nThe resulting session files contain non-SELECT statements.  I suppose this is to be expected because (according to the docs) --only-select only works with the \"play\" group, but I would expect at least a warning to STDERR to let me know one of my options is going to be ignored?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898694/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-log-player silently ignores --only-select when invoked with --split (not --play)", 
"title": "Bug #898694 in Percona Toolkit: \"pt-log-player silently ignores --only-select when invoked with --split (not --play)\"", 
"date_confirmed": "2012-04-17T23:46:59.347943+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/898694", 
"date_left_new": "2012-04-17T23:46:59.347943+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898694", 
"milestone_link": null, 
"http_etag": "\"2af7e9855c4a4a1f44e5de43eb1929a3e5e88478-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898694", 
"date_created": "2011-12-01T15:43:03.421224+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-log-player"
]
}, 
{
"date_closed": "2011-12-16T16:16:53.433514+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 898760, 
"date_in_progress": null, 
"bug_description": "This applies to all tools.  We have L<\"--[no]-foo\"> all over the place; I'd like to change the docs so they just list --foo as negatable and we don't have to list them with the optional negatableness.  So it'd be like this:\n\n=item --foo\n\nnegatable: yes", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898760/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Clarify negatable options in the docs", 
"title": "Bug #898760 in Percona Toolkit: \"Clarify negatable options in the docs\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/898760", 
"date_left_new": "2011-12-16T16:16:53.433514+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/898760", 
"milestone_link": null, 
"http_etag": "\"2b522731108d7734e0ce34f2924b75ef4136382d-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/898760", 
"date_created": "2011-12-01T18:08:23.903416+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2011-12-16T16:13:05.068474+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 899034, 
"date_in_progress": null, 
"bug_description": "After an installation via the .deb (on an Ubuntu 8.04.4 Ubuntu box) I've placed an configuration file in\n/etc/percona-toolkit/percona-toolkit.conf as follows:\nA=utf8\nh=localhost\np=percona\nu=percona\n\nBug: Adding a D configuration parameter (and value) fails every call to 'pt-query-digest' with an 'Unknown option: D'\ndocumentation bug: the DSN port / password are both lowercased in the documentation\n\nMoving all parameters into the comandline like:\n\npt-query-digest --create-review-table A=utf8,h=localhost,p=percona,u=percona,D=percona-toolkit,t=review\n\nfails. (or seems to wait for input)\n\nAdding a slow log to the call:\npt-query-digest --create-review-table A=utf8,h=localhost,p=percona,u=percona,D=percona-toolkit,t=review ./slowlog.log\n\ndoesnt create a table (even if the user does have the correct rights in the database)\n\nThe same goes for the history-variant of the --review option.\n\nAlso i feel that the documentation is lacking in the usage of the --review and --review-history options of the query-digest. I have a feeling that this could very well be very usefull (allowing monitoring of query optimization progress due to schema changes etc) but for now i have no clue as to apply these techniques to good use...", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/899034/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest create-review-table fails to create table", 
"title": "Bug #899034 in Percona Toolkit: \"pt-query-digest create-review-table fails to create table\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/899034", 
"date_left_new": "2011-12-16T16:13:05.068474+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/899034", 
"milestone_link": null, 
"http_etag": "\"e6b343e0190b95bbd33e9a7273cfe23f85c4a667-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~n-launchpad-kingsquare-nl", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/899034", 
"date_created": "2011-12-02T09:33:48.673035+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-query-digest", 
"query-review"
]
}, 
{
"date_closed": "2012-06-09T21:44:03.389065+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-08T05:11:33.630695+00:00", 
"bug_id": 900285, 
"date_in_progress": "2012-03-08T05:11:33.630695+00:00", 
"bug_description": "pt-summary exiting with this error:  (1.0.1) (running as root)\n\n# RAID Controller ############################################\n  Controller | AACRAID\n/home/percona/percona-toolkit-1.0.1/bin/pt-summary: 1189: Bad substitution\n\n\nI added /usr/StorMan to the PATH and I get the same error.\n\n\nHere's what I see from arrconf:\n\n# arcconf getconfig 1\nControllers found: 1\n----------------------------------------------------------------------\nController information\n----------------------------------------------------------------------\n   Controller Status                        : Optimal\n   Channel description                      : SAS/SATA\n   Controller Model                         : Adaptec 5805Z\n   Controller Serial Number                 : 0A11115148F\n   Physical Slot                            : 2\n   Temperature                              : 68 C/ 154 F (Normal)\n   Installed memory                         : 512 MB\n   Copyback                                 : Disabled\n   Background consistency check             : Disabled\n   Automatic Failover                       : Enabled\n   Global task priority                     : High\n   Performance Mode                         : Default/Dynamic\n   Stayawake period                         : Disabled\n   Spinup limit internal drives             : 0\n   Spinup limit external drives             : 0\n   Defunct disk drive count                 : 0\n   Logical devices/Failed/Degraded          : 2/0/0\n   SSDs assigned to MaxIQ Cache pool        : 0\n   Maximum SSDs allowed in MaxIQ Cache pool : 8\n   MaxIQ Read Cache Pool Size               : 0.000 GB\n   MaxIQ cache fetch rate                   : 0\n   MaxIQ Cache Read, Write Balance Factor   : 3,1\n   NCQ status                               : Enabled\n   Statistics data collection mode          : Enabled\n   --------------------------------------------------------\n\n   --------------------------------------------------------\n   Controller Version Information\n   --------------------------------------------------------\n   BIOS                                     : 5.2-0 (18252)\n   Firmware                                 : 5.2-0 (18252)\n   Driver                                   : 1.1-7 (28000)\n   Boot Flash                               : 5.2-0 (18252)\n   --------------------------------------------------------\n   Controller ZMM Information\n   --------------------------------------------------------\n   Status                                   : ZMM Optimal\n\n----------------------------------------------------------------------\nLogical device information\n----------------------------------------------------------------------\nLogical device number 0\n   Logical device name                      : RAID10-A\n   RAID level                               : 10\n   Status of logical device                 : Optimal\n   Size                                     : 121790 MB\n   Stripe-unit size                         : 256 KB\n   Read-cache mode                          : Enabled\n   MaxIQ preferred cache setting            : Enabled\n   MaxIQ cache setting                      : Disabled\n   Write-cache mode                         : Enabled (write-back)\n   Write-cache setting                      : Enabled (write-back) when protected by battery/ZMM\n   Partitioned                              : Yes\n   Protected by Hot-Spare                   : No\n   Bootable                                 : Yes\n   Failed stripes                           : No\n   Power settings                           : Disabled\n   --------------------------------------------------------\n   Logical device segment information\n   --------------------------------------------------------\n   Group 0, Segment 0                       : Present (0,0) CVEM939500TN064KGN\n   Group 0, Segment 1                       : Present (0,1) CVEM940200NT064KGN\n   Group 1, Segment 0                       : Present (0,2) CVEM004300A4064KGN\n   Group 1, Segment 1                       : Present (0,3) CVEM9214000F064KGN\n\nLogical device number 1\n   Logical device name                      : RAID1-A\n   RAID level                               : 1\n   Status of logical device                 : Optimal\n   Size                                     : 285686 MB\n   Read-cache mode                          : Enabled\n   MaxIQ preferred cache setting            : Enabled\n   MaxIQ cache setting                      : Disabled\n   Write-cache mode                         : Enabled (write-back)\n   Write-cache setting                      : Enabled (write-back) when protected by battery/ZMM\n   Partitioned                              : Yes\n   Protected by Hot-Spare                   : No\n   Bootable                                 : No\n   Failed stripes                           : No\n   Power settings                           : Disabled\n   --------------------------------------------------------\n   Logical device segment information\n   --------------------------------------------------------\n   Segment 0                                : Present (0,4) 6SJ1CG1A0000N1407G9E\n   Segment 1                                : Present (0,5) 6SJ1F1XW0000N1407EXC\n\n\n----------------------------------------------------------------------\nPhysical Device information\n----------------------------------------------------------------------\n      Device #0\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SATA 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,0(0:0)\n         Reported Location                  : Connector 0, Device 0\n         Vendor                             : INTEL\n         Model                              : SSDSA2SH064G1GC\n         Firmware                           : 045C8790\n         Serial number                      : CVEM939500TN064KGN\n         Size                               : 61057 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : Yes\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n         NCQ status                         : Enabled\n      Device #1\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SATA 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,1(1:0)\n         Reported Location                  : Connector 0, Device 1\n         Vendor                             : INTEL\n         Model                              : SSDSA2SH064G1GC\n         Firmware                           : 045C8860\n         Serial number                      : CVEM940200NT064KGN\n         Size                               : 61057 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : Yes\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n         NCQ status                         : Enabled\n      Device #2\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SATA 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,2(2:0)\n         Reported Location                  : Connector 0, Device 2\n         Vendor                             : INTEL\n         Model                              : SSDSA2SH064G1GC\n         Firmware                           : 045C8860\n         Serial number                      : CVEM004300A4064KGN\n         Size                               : 61057 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : Yes\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n         NCQ status                         : Enabled\n      Device #3\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SATA 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,3(3:0)\n         Reported Location                  : Connector 0, Device 3\n         Vendor                             : INTEL\n         Model                              : SSDSA2SH064G1GC\n         Firmware                           : 045C8860\n         Serial number                      : CVEM9214000F064KGN\n         Size                               : 61057 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : Yes\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n         NCQ status                         : Enabled\n      Device #4\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SAS 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,4(4:0)\n         Reported Location                  : Connector 1, Device 0\n         Vendor                             : SEAGATE\n         Model                              : ST3300657SS\n         Firmware                           : 0008\n         Serial number                      : 6SJ1CG1A0000N1407G9E\n         World-wide name                    : 5000C50039EE5900\n         Size                               : 286102 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : No\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n      Device #5\n         Device is a Hard drive\n         State                              : Online\n         Supported                          : Yes\n         Transfer Speed                     : SAS 3.0 Gb/s\n         Reported Channel,Device(T:L)       : 0,5(5:0)\n         Reported Location                  : Connector 1, Device 1\n         Vendor                             : SEAGATE\n         Model                              : ST3300657SS\n         Firmware                           : 0008\n         Serial number                      : 6SJ1F1XW0000N1407EXC\n         World-wide name                    : 5000C50039EE6A38\n         Size                               : 286102 MB\n         Write Cache                        : Enabled (write-back)\n         FRU                                : None\n         S.M.A.R.T.                         : No\n         S.M.A.R.T. warnings                : 0\n         Power State                        : Full rpm\n         Supported Power States             : Full rpm,Powered off\n         SSD                                : No\n         MaxIQ Cache Capable                : No\n         MaxIQ Cache Assigned               : No\n\n\nCommand completed successfully.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900285/related_tasks", 
"date_assigned": "2012-03-08T03:17:07.091813+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary not happy with aacraid ", 
"title": "Bug #900285 in Percona Toolkit: \"pt-summary not happy with aacraid \"", 
"date_confirmed": "2012-03-08T05:11:33.630695+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/900285", 
"date_left_new": "2012-03-08T05:11:33.630695+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/900285", 
"milestone_link": null, 
"http_etag": "\"3624d4f65a7f1d2becb14e7c22b192332f9e7040-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-09T21:44:03.389065+00:00", 
"date_fix_released": "2012-06-09T21:44:03.389065+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900285", 
"date_created": "2011-12-05T13:28:31.739160+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-summary"
]
}, 
{
"date_closed": "2011-12-16T16:03:38.448695+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 900544, 
"date_in_progress": null, 
"bug_description": "If the credentials for pt-collect are wrong, pt-stalk outputs an error, but still triggers pt-collect. \nThis is wrong, as pt-collect is unable to measure whatever variable is being monitored without mysql access. \n\nBesides the bug, a feature request would be that pt-stalk fails upfront if mysql access doesn't work, or more generically, if it can't check it's condition against the threshold. \n\nHere's a sample output from running with no mysql access: \n\n[root@localhost ~]# ./pt-stalk \nmysqladmin: connect to server at 'localhost' failed\nerror: 'Access denied for user 'root'@'localhost' (using password: NO)'\n2011_12_05_21_26_38 The detected value is empty; something failed?  Exit status is 0\n2011_12_05_21_26_38 check results: Threads_connected = , matched = yes, cycles_true = 1\nGathering info for 2011_12_05_21_26_38\n2011_12_05_21_26_38 sleeping 300 seconds to avoid DOS attack", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900544/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk will trigger collect even if mysql access fails, and pt-collect will also collect non-mysql data. ", 
"title": "Bug #900544 in Percona Toolkit: \"pt-stalk will trigger collect even if mysql access fails, and pt-collect will also collect non-mysql data. \"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/900544", 
"date_left_new": "2011-12-16T16:03:38.448695+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/900544", 
"milestone_link": null, 
"http_etag": "\"86fabdb4185b16d12e18e2fc5b2abaf619d8e944-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900544", 
"date_created": "2011-12-06T00:47:22.983775+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": "2012-02-08T21:25:58.895472+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 900548, 
"date_in_progress": null, 
"bug_description": "If pt-collect is set up with a mysql user with not enough privileges (I tested with \"GRANT SELECT ON ...\"), it will still run when triggered by pt-stalk, and will not produce errors. \n\nHowever, the mysql part of the data capture will fail: \n\n[root@localhost ~]# more collected/*innodbstatus1\nERROR 1227 (42000) at line 1: Access denied; you need (at least one of) the PROCESS privilege(s) for this operation\n\nI believe one or all of the following things should happen: \n- pt-collect outputs an error if the mysql user configured has not enough privileges (though it's good that it still goes ahead and collects non-mysql data. This can still be useful for analysis)\n- pt-stalk checks the needed privileges and doesn't start its loop if this error happens. Even if these are two separate scripts, I believe they're already symbiotic enough (pt-stalk actually lets you configure MYSQLOPTIONS, GDB, and other things for pt-collect) so that this would be a good thing to do\n- The docs should state what MySQL privileges are needed for the tool to run properly. Right now it only says root access, but (as demonstrated in my sample output) having shell root access doesn't mean having mysql SUPER privileges.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900548/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-collect will run with no errors even if the mysql user has not enough privileges", 
"title": "Bug #900548 in Percona Toolkit: \"pt-collect will run with no errors even if the mysql user has not enough privileges\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/900548", 
"date_left_new": "2012-02-08T21:25:58.895472+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/900548", 
"milestone_link": null, 
"http_etag": "\"372f0e375866f72aed2ce9c3b9e609d204aa1712-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/900548", 
"date_created": "2011-12-06T00:51:22.610259+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-collect"
]
}, 
{
"date_closed": "2011-12-16T16:02:16.368223+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 901921, 
"date_in_progress": null, 
"bug_description": "mk-table-usage does not properly parse DROP TABLE IF EXISTS statements\nIt assumes the table name is `IF`", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/901921/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "mk-table-usage does not properly parse DROP TABLE IF EXISTS statements", 
"title": "Bug #901921 in Percona Toolkit: \"mk-table-usage does not properly parse DROP TABLE IF EXISTS statements\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/901921", 
"date_left_new": "2011-12-16T16:02:16.368223+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/901921", 
"milestone_link": null, 
"http_etag": "\"ceda5d703356b42a51677d129297edcfba85119b-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~dhassouni", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/901921", 
"date_created": "2011-12-08T23:22:42.129917+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-07-26T20:41:07.574187+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 903387, 
"date_in_progress": null, 
"bug_description": "Version: percona-toolkit-1.0.1-1\n\nFull command:\n\npt-archiver \\\n--source h=localhost,D=database,t=table_I,b=1,i=index \\\n--dest h=localhost,D=database,t=table_II,b=1,i=index  \\\n--columns column1,column2,column3,column4,column5 \\\n--where \"changed_when < '2011-12-01 00:00:00'\" --limit 1000 --commit-each \\\n--nocheck-columns --replace --commit-each --bulk-insert --bulk-delete  \\\n--statistics \\\n--no-check-charset \\\n--file '/tmp/mysql/%Y-%m-%d-%D_%H:%i:%s.%t'\n\nIssue: No \",b=1\" nor \",b=true\" flags won't create expected SET SQL_LOG_BIN = 0; statement neither with --dry-run nor with actual run.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903387/related_tasks", 
"date_assigned": "2012-07-19T21:40:24.080380+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-archiver doesn't honor b=1 flag to create SQL_LOG_BIN statement", 
"title": "Bug #903387 in Percona Toolkit: \"pt-archiver doesn't honor b=1 flag to create SQL_LOG_BIN statement\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/903387", 
"date_left_new": "2012-04-17T23:41:36.027112+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/903387", 
"milestone_link": null, 
"http_etag": "\"15ba918206d12e26ff522d75ecdf8439fa63873f-49eff5a1c4e2737bdeaf0238cfc32a71694a6c17\"", 
"owner_link": "https://api.launchpad.net/devel/~maxim.volkov", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/903387", 
"date_created": "2011-12-12T20:33:18.040211+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"log-bin", 
"pt-archiver", 
"risk"
]
}, 
{
"date_closed": "2011-12-16T15:49:32.567459+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 904287, 
"date_in_progress": null, 
"bug_description": "Hi,\n\nI'm not too good at perl myself, but I have an idea to make pt-online-schema-change support row based replication; it's quite easy.\n\nThere ar, as far as I have noticed, 2 problems when running pt-online-schema-change in replication:\n1. Master performance may differ from slave performance, therefor you cannot just replicate it\n2. osc cannot influence binlog state from within a trigger\n\nMy idea is this:\nInstead of just locally creating the temp table, first create a BLACKHOLE table with sql_log_bin=1. Then, after setting sql_log_bin=0, alter the tmp table to the correct engine.\n\n1 problem arises: You still cannot alter table on both the slaves and the master at the same time. To fix this, you should put (for example) the MySQL server id of the current server in the generated tmp table name.\n\nIf my perl skills were better I would have implemented it. :)\n\nThanks", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/904287/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change replication support idea", 
"title": "Bug #904287 in Percona Toolkit: \"pt-online-schema-change replication support idea\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/904287", 
"date_left_new": "2011-12-16T15:49:32.567459+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/904287", 
"milestone_link": null, 
"http_etag": "\"086cb133eb029fcb96c77560097cb781fe0c2d29-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~hu6hzq0z-7aoyae9-t16qijz8", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/904287", 
"date_created": "2011-12-14T14:44:15.616355+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-01-16T18:08:58.432616+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 907050, 
"date_in_progress": null, 
"bug_description": "I would like to execute pt-mysql-summary remotely non-interactively.  However, it current prompts for input twice:  once to ask if I want to do a mysqldump -d on the databases, and once to ask which databases I want. \n\nI should be able to specify those options on the command line so I can run pt-mysql-summary remotely on a large set of hosts without needing to log into each of them.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907050/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary set options about schema dump via command line parameters", 
"title": "Bug #907050 in Percona Toolkit: \"pt-mysql-summary set options about schema dump via command line parameters\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/907050", 
"date_left_new": "2012-01-16T18:08:58.432616+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/907050", 
"milestone_link": null, 
"http_etag": "\"d870c03052cbf393103e2dcbdb041142e5f0af63-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907050", 
"date_created": "2011-12-20T20:06:43.473407+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-06-09T21:42:40.812424+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-01T18:23:23.799702+00:00", 
"bug_id": 907424, 
"date_in_progress": "2012-03-01T18:23:23.799702+00:00", 
"bug_description": "On 64-bit machines, with 64-bit OS, if the command file is missing, pt-summary prints an error but then continue and provide wrong information: \n    \n            Kernel | 2.6.32-131.21.1.el6.x86_64\n./pt-summary: line 918: file: command not found\nArchitecture | CPU = 64-bit, OS = 32-bit\n\n\nthe OS in this case should be 64-bit, or if the tool can't find it, not put 32-bit.\n\nAfter having installed file, the result is of course correct:\n\n\n      Kernel | 2.6.32-131.21.1.el6.x86_64\nArchitecture | CPU = 64-bit, OS = 64-bit", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907424/related_tasks", 
"date_assigned": "2012-03-01T18:23:17.524629+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary providing wrong information when command file is missing", 
"title": "Bug #907424 in Percona Toolkit: \"pt-summary providing wrong information when command file is missing\"", 
"date_confirmed": "2012-01-16T18:05:57.058348+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/907424", 
"date_left_new": "2012-01-16T18:05:57.058348+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/907424", 
"milestone_link": null, 
"http_etag": "\"4e108dcf727f085cc13f4ab2865678c871e7f5f0-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-03-01T18:23:23.799702+00:00", 
"date_fix_released": "2012-06-09T21:42:40.812424+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907424", 
"date_created": "2011-12-21T16:27:56.794686+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-summary"
]
}, 
{
"date_closed": "2012-01-16T18:04:47.545937+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 907556, 
"date_in_progress": null, 
"bug_description": "\npt-query-digest does not successfully parse binlogs using RBR.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907556/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest doesn't parse RBR", 
"title": "Bug #907556 in Percona Toolkit: \"pt-query-digest doesn't parse RBR\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/907556", 
"date_left_new": "2012-01-16T18:04:47.545937+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/907556", 
"milestone_link": null, 
"http_etag": "\"3c08dfefce5ff5d93a93550d8a9e8ca62892930b-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-a-lowe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/907556", 
"date_created": "2011-12-21T22:46:07.253110+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-query-digest", 
"rbr"
]
}, 
{
"date_closed": "2012-01-05T20:26:26.633736+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 912470, 
"date_in_progress": null, 
"bug_description": "pt-table-checksum was reporting diffs between data on the master and data on the slave, despite numerous attempts to create and re-create the slave.\n\nIn the end it turned out to be that because the Master server was set to EST and the slave HST (Master should have been HST like the rest of the servers, something had messed up the tzdata), the returned data from timestamp fields was different.  timestamp data is stored as UTC but converted to localtime during select.\n\nYou might want to either throw up an error if you can detect that the master & slave are on different timezones, or maybe force the timezone to UTC for your connection through the time_zone variable.\n\npt-table-checksum version 2.0.1, mysql 5.1.58 on master, 5.1.59 on slave.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912470/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum inaccurate reports when timezones are different", 
"title": "Bug #912470 in Percona Toolkit: \"pt-table-checksum inaccurate reports when timezones are different\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/912470", 
"date_left_new": "2012-01-05T20:26:26.633736+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/912470", 
"milestone_link": null, 
"http_etag": "\"0ee520eee2473f80228ae0f666b40dab76935296-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~twirrim", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/912470", 
"date_created": "2012-01-05T20:17:12.643534+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": null, 
"bug_id": 913854, 
"date_in_progress": null, 
"bug_description": "Hi Daniel,\n\nThe current Makefile produces errors, not letting 'clean' stage to exit cleanly in the first try, but works if you run it twice...\n\n\n[ --- First run --- ]\n\n$ fakeroot debian/rules clean ; quilt pop -a\ndh clean \n   dh_testdir\n   dh_auto_clean\nmake[1]: Entering directory `/home/midget/git/git.debian.org/packages/percona-toolkit'\nMakefile out-of-date with respect to Makefile.PL\nCleaning current config before rebuilding Makefile...\nmake -f Makefile.old clean > /dev/null 2>&1\n/usr/bin/perl Makefile.PL \"INSTALLDIRS=vendor\"\nChecking if your kit is complete...\nLooks good\nWriting Makefile for percona-toolkit\nWriting MYMETA.yml\n==> Your Makefile has been rebuilt. <==\n==> Please rerun the make command.  <==\nfalse\nmake[1]: *** [Makefile] Error 1\nmake[1]: Leaving directory `/home/midget/git/git.debian.org/packages/percona-toolkit'\ndh_auto_clean: make -j1 distclean returned exit code 2\nmake: *** [clean] Error 29\nNo patch removed\n\n\n[ --- Second run --- ]\n$ fakeroot debian/rules clean ; quilt pop -a\ndh clean \n   dh_testdir\n   dh_auto_clean\n   dh_clean\nNo patch removed", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/913854/related_tasks", 
"date_assigned": "2012-08-13T04:48:13.669516+00:00", 
"bug_information_type": "Public", 
"bug_title": "dh_auto_clean: make -j1 distclean returned exit code 2", 
"title": "Bug #913854 in Percona Toolkit: \"dh_auto_clean: make -j1 distclean returned exit code 2\"", 
"date_confirmed": "2012-01-16T16:12:32.166252+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/913854", 
"date_left_new": "2012-01-16T16:12:32.166252+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/913854", 
"milestone_link": null, 
"http_etag": "\"b6277f84fd46527a47ab67d72140971352609f96-aa8fbe53f0c86b4c8896317172318bb458b1ae06\"", 
"owner_link": "https://api.launchpad.net/devel/~midget", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/913854", 
"date_created": "2012-01-09T15:57:59.140396+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"debian"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 917747, 
"date_in_progress": null, 
"bug_description": "# WARN delay_key_write: MyISAM index blocks are never flushed until necessary.\n\nValue ON for delay key writes simply means they are allowed to be enabled on per table basics which is default.  ALL would be value to force it for all tables.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917747/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Warning about delay_key_write is incorrect", 
"title": "Bug #917747 in Percona Toolkit: \"Warning about delay_key_write is incorrect\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/917747", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/917747", 
"milestone_link": null, 
"http_etag": "\"2570050731921699323f182c2fe82cbbaec07394-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917747", 
"date_created": "2012-01-17T16:47:20.290562+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-variable-advisor", 
"wrong-output"
]
}, 
{
"date_closed": "2012-07-30T03:44:38.809797+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-07-30T03:44:38.809797+00:00", 
"bug_id": 917781, 
"date_in_progress": "2012-07-30T03:44:38.809797+00:00", 
"bug_description": "Attached file produces:\n\n# RAID Controller ############################################\n  Controller | AACRAID\n       Specs | Adaptec 5405Z, SAS/SATA, 512 MB cache, Optimal\n     Battery | 0%, remaining,", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917781/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-summary doesn't understand RAID which use ZMM instead of BBU", 
"title": "Bug #917781 in Percona Toolkit: \"pt-summary doesn't understand RAID which use ZMM instead of BBU\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/917781", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/917781", 
"milestone_link": null, 
"http_etag": "\"6e9a2660aee761d5a46dbe9a387e6a9f73c2b553-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-30T03:44:38.809797+00:00", 
"date_fix_released": "2012-07-30T03:44:38.809797+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/917781", 
"date_created": "2012-01-17T18:01:34.004620+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": "2012-04-10T14:22:44.390873+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 918051, 
"date_in_progress": null, 
"bug_description": "I get some errors about chunk size when using the resume option but not always. The example database is \"employees\":\n\nhttps://launchpad.net/test-db/\n\nIf you don't cancel the checksum it works perfect:\n\nroot@debian-sandbox:~/sandboxes/rsandbox_5_1_50# pt-table-checksum --databases=employees u=root,p=msandbox,h=127.0.0.1,P=26165 \n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n01-18T08:42:44      0      0        9       1       0   0.009 employees.departments\n01-18T08:42:45      0      1   331601       5       0   1.579 employees.dept_emp\n01-18T08:42:45      0      0       24       1       0   0.011 employees.dept_manager\n01-18T08:42:47      0      0   300024       1       0   1.140 employees.employees\n01-18T08:43:00      0      1  2844024      12       0  13.380 employees.salaries\n01-18T08:43:01      0      0   443306       1       0   1.297 employees.titles\n\nIf you cancel it and try to resume later, sometimes I get this error:\n\nroot@debian-sandbox:~/sandboxes/rsandbox_5_1_50# pt-table-checksum --databases=employees u=root,p=msandbox,h=127.0.0.1,P=26165 \n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n01-18T08:44:09      0      0        9       1       0   0.010 employees.departments\n01-18T08:44:10      0      1   331601       5       0   1.533 employees.dept_emp\n01-18T08:44:10      0      0       24       1       0   0.015 employees.dept_manager\n^C# Caught SIGINT.\n01-18T08:44:11      0      0   300024       1       0   0.606 employees.employees\n\nroot@debian-sandbox:~/sandboxes/rsandbox_5_1_50# pt-table-checksum --databases=employees --resume u=root,p=msandbox,h=127.0.0.1,P=26165 \n01-18T08:44:13 Skipping table employees.employees because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  300024 rows on debian-sandbox\n  300024 rows on debian-sandbox\nThe current chunk size limit is 2000 rows (chunk size=1000 * chunk size limit=2.0).\n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n01-18T08:44:26      0      1  2844024      14       0  12.807 employees.salaries\n01-18T08:44:26      0      0   443306       1       0   0.532 employees.titles\n\nIf I stop the checksum while checksumming other tables, for example departments or salaries, I don't get the error.\n\nAlso, if you try to resume with nothing to resume it complains again about the chunk size. The error should be \"There is nothing to resume\" or something similar:\n\nroot@debian-sandbox:~/sandboxes/rsandbox_5_1_50# pt-table-checksum --databases=employees --resume u=root,p=msandbox,h=127.0.0.1,P=26165 \n01-18T08:45:10 Skipping table employees.titles because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  443306 rows on debian-sandbox\n  443306 rows on debian-sandbox\nThe current chunk size limit is 2000 rows (chunk size=1000 * chunk size limit=2.0).", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918051/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "chunk size error if you use --resume option", 
"title": "Bug #918051 in Percona Toolkit: \"chunk size error if you use --resume option\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/918051", 
"date_left_new": "2012-01-18T15:29:01.502980+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/918051", 
"milestone_link": null, 
"http_etag": "\"dfe639f18fe3acddcf8ec3858336feb5c6f95504-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~correo-miguelangelnieto", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/918051", 
"date_created": "2012-01-18T07:50:33.911922+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-table-checksum", 
"resume"
]
}, 
{
"date_closed": "2012-03-08T03:02:34.015649+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 919471, 
"date_in_progress": null, 
"bug_description": "Hi,\n\nWe are running into this issue while running pt-online-schema-change on a heavily concurrent environment. The pt-online-schema-change hangs on the following line.\n\nWaiting for table metadata lock CREATE TRIGGER mk_osc_del AFTER DELETE ON `test`.`emp` FOR EACH ROW DELETE IGNORE FROM `test`.`__tmp_emp` WHERE `beta1`.`__tmp_emp`.id = OLD.id\n\n\nAny help would be appreciated...\n\nThanks", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919471/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Waiting for table metadata lock error while running pt-online-schema-change", 
"title": "Bug #919471 in Percona Toolkit: \"Waiting for table metadata lock error while running pt-online-schema-change\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/919471", 
"date_left_new": "2012-03-08T03:02:34.015649+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/919471", 
"milestone_link": null, 
"http_etag": "\"faf8895e1a6398c1b15403e3964c95c71c253290-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~ashok-jivani", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/919471", 
"date_created": "2012-01-21T01:01:46.988883+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"locking", 
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T23:41:06.167582+00:00", 
"bug_id": 925781, 
"date_in_progress": "2012-08-30T06:14:48.419876+00:00", 
"bug_description": "Received  Error executing checksum query messages on several tables.  Was working successfully from a remote server but not on localhost.\n\nFailing hosts had \"default-character-set = utf8\" defined\nOnce \"loose-default-character-set = utf8\" was used, toolkit worked successfully on localhost.\n\n-bash-3.2$ pt-table-checksum --version\npt-table-checksum 2.0.2\n\nmysql> select version();\n+------------+\n| version()  |\n+------------+\n| 5.5.17-log |\n+------------+\n1 row in set (0.00 sec)\n\n-bash-3.2$  pt-table-checksum h=c1-dbdev103,u=perconaadm  --ask-pass --recursion-method=hosts\nEnter MySQL password: \n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n02-02T13:47:50      0      0        3       1       0   1.018 HMS_CampaignAPI.DATABASECHANGELOG\n02-02T13:47:51      0      0        1       1       0   0.279 HMS_CampaignAPI.DATABASECHANGELOGLOCK\n02-02T13:47:51 Error checksumming table HMS_CampaignAPI.campaign: Error executing checksum query: DBD::mysql::st execute failed: Incorrect string value: '\\xB1T\\\\xAA\\-...' for column 'lower_boundary' at row 96 [for Statement \"REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `campaign_buuid`, `marketing_plan_buuid`, `account_id`, `name`, `description`, `input_source`, `is_default`, `current_status`, `created_at`, `updated_at`, `campaign_type`, CONCAT(ISNULL(`name`), ISNULL(`description`), ISNULL(`input_source`), ISNULL(`is_default`), ISNULL(`created_at`), ISNULL(`updated_at`), ISNULL(`campaign_type`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `HMS_CampaignAPI`.`campaign` FORCE INDEX(`PRIMARY`) WHERE ((`campaign_buuid` >= ?)) AND ((`campaign_buuid` <= ?)) /*checksum chunk*/\" with ParamValues: 6='..\u00b1T\u00aa-K..]\u00e2#r.z.', 4='\\.\\.\\\u00b1T\\\u00aa\\-K\\.\\.\\]\\\u00e2\\#r\\.z\\.', 1='campaign', 3='PRIMARY', 0='HMS_CampaignAPI', 7='.\u00b1t.TMh..\u00ca..+n4', 2=1, 5='\\.\\\u00b1t\\\\.TMh\\.\\.\\\u00ca\\.\\.\\+n4'] at /usr/bin/pt-table-checksum line 6830, <STDIN> line 1.\n\n\n02-02T13:47:51      1      0        0       1       0   0.004 HMS_CampaignAPI.campaign\n02-02T13:47:51 Error checksumming table HMS_CampaignAPI.campaign_activity: Error executing checksum query: DBD::mysql::st execute failed: Incorrect string value: '\\x8A\\\\xEB\\\\xA1\\...' for column 'lower_boundary' at row 96 [for Statement \"REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `campaign_activity_buuid`, `campaign_buuid`, `account_id`, `name`, `description`, `activity_type`, `document_collection_id`, `assignment_list_id`, `input_source`, `source_name`, `provider_name`, `start_at`, `end_at`, `time_zone`, `is_default`, `current_status`, `created_at`, `updated_at`, CONCAT(ISNULL(`name`), ISNULL(`description`), ISNULL(`document_collection_id`), ISNULL(`assignment_list_id`), ISNULL(`input_source`), ISNULL(`source_name`), ISNULL(`provider_name`), ISNULL(`start_at`), ISNULL(`end_at`), ISNULL(`time_zone`), ISNULL(`is_default`), ISNULL(`created_at`), ISNULL(`updated_at`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `HMS_CampaignAPI`.`campaign_activity` FORCE INDEX(`PRIMARY`) WHERE ((`campaign_activity_buuid` >= ?)) AND ((`campaign_activity_buuid` <= ?)) /*checksum chunk*/\" with ParamValues: 6='..\u00eb\u00a1\u00d2O..\u00e6\u00f9\u00a9cf. ', 4='\\.\\.\\\\\u00eb\\\u00a1\\\u00d2O\\.\\.\\\u00e6\\\u00f9\\\u00a9cf\\.\\ ', 1='campaign_activity', 3='PRIMARY', 0='HMS_CampaignAPI', 7='.wy\u00ceK\u00edI..\u00d2\u00fe\u00ee..\u00a0', 2=1, 5='\\.wy\\\u00ceK\\\u00edI\\.\\.\\\u00d2\\\u00fe\\\u00ee\\\\.\\.\\\u00a0'] at /usr/bin/pt-table-checksum line 6830, <STDIN> line 1.\n\n\n02-02T13:47:51      1      0        0       1       0   0.003 HMS_CampaignAPI.campaign_activity\n02-02T13:47:51      0      0        0       1       0   0.012 HMS_CampaignAPI.campaign_activity_exec_list_ids\n02-02T13:47:51      0      0        0       1       0   0.011 HMS_CampaignAPI.campaign_activity_properties\n02-02T13:47:51 Error checksumming table HMS_CampaignAPI.campaign_activity_status_history: Error executing checksum query: DBD::mysql::st execute failed: Incorrect string value: '\\x8A\\\\xEB\\\\xA1\\...' for column 'lower_boundary' at row 96 [for Statement \"REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `campaign_activity_buuid`, `created_at`, `status_code`, `change_source`, CONCAT(ISNULL(`change_source`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `HMS_CampaignAPI`.`campaign_activity_status_history` FORCE INDEX(`PRIMARY`) WHERE ((`campaign_activity_buuid` > ?) OR (`campaign_activity_buuid` = ? AND `created_at` >= ?)) AND ((`campaign_activity_buuid` < ?) OR (`campaign_activity_buuid` = ? AND `created_at` <= ?)) /*checksum chunk*/\" with ParamValues: 6='..\u00eb\u00a1\u00d2O..\u00e6\u00f9\u00a9cf. ', 11='2011-12-12 15:53:11', 3='PRIMARY', 7='..\u00eb\u00a1\u00d2O..\u00e6\u00f9\u00a9cf. ', 9='.wy\u00ceK\u00edI..\u00d2\u00fe\u00ee..\u00a0', 2=1, 8='2011-12-08 17:08:33', 1='campaign_activity_status_history', 4='\\.\\.\\\\\u00eb\\\u00a1\\\u00d2O\\.\\.\\\u00e6\\\u00f9\\\u00a9cf\\.\\ ,\\.\\.\\\\\u00eb\\\u00a1\\\u00d2O\\.\\.\\\u00e6\\\u00f9\\\u00a9cf\\.\\ ,2011\\-12\\-08\\ 17\\:08\\:33', 0='HMS_CampaignAPI', 10='.wy\u00ceK\u00edI..\u00d2\u00fe\u00ee..\u00a0', 5='\\.wy\\\u00ceK\\\u00edI\\.\\.\\\u00d2\\\u00fe\\\u00ee\\\\.\\.\\\u00a0,\\.wy\\\u00ceK\\\u00edI\\.\\.\\\u00d2\\\u00fe\\\u00ee\\\\.\\.\\\u00a0,2011\\-12\\-12\\ 15\\:53\\:11'] at /usr/bin/pt-table-checksum line 6830, <STDIN> line 1.\n\n\n02-02T13:47:51      1      0        0       1       0   0.003 HMS_CampaignAPI.campaign_activity_status_history\n02-02T13:47:51 Error checksumming table HMS_CampaignAPI.campaign_properties: Error executing checksum query: DBD::mysql::st execute failed: Incorrect string value: '\\xB1T\\\\xAA\\-...' for column 'lower_boundary' at row 96 [for Statement \"REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `campaign_buuid`, `property_name`, `property_value`)) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `HMS_CampaignAPI`.`campaign_properties` FORCE INDEX(`PRIMARY`) WHERE ((`campaign_buuid` > ?) OR (`campaign_buuid` = ? AND `property_name` >= ?)) AND ((`campaign_buuid` < ?) OR (`campaign_buuid` = ? AND `property_name` <= ?)) /*checksum chunk*/\" with ParamValues: 6='..\u00b1T\u00aa-K..]\u00e2#r.z.', 11='TEMPLATE_COLLECTION_ID', 3='PRIMARY', 7='..\u00b1T\u00aa-K..]\u00e2#r.z.', 9='.\u00b1t.TMh..\u00ca..+n4', 2=1, 8='TEMPLATE_COLLECTION_ID', 1='campaign_properties', 4='\\.\\.\\\u00b1T\\\u00aa\\-K\\.\\.\\]\\\u00e2\\#r\\.z\\.,\\.\\.\\\u00b1T\\\u00aa\\-K\\.\\.\\]\\\u00e2\\#r\\.z\\.,TEMPLATE_COLLECTION_ID', 0='HMS_CampaignAPI', 10='.\u00b1t.TMh..\u00ca..+n4', 5='\\.\\\u00b1t\\\\.TMh\\.\\.\\\u00ca\\.\\.\\+n4,\\.\\\u00b1t\\\\.TMh\\.\\.\\\u00ca\\.\\.\\+n4,TEMPLATE_COLLECTION_ID'] at /usr/bin/pt-table-checksum line 6830, <STDIN> line 1.\n\n\n02-02T13:47:51      1      0        0       1       0   0.003 HMS_CampaignAPI.campaign_properties\n02-02T13:47:51 Error checksumming table HMS_CampaignAPI.campaign_status_history: Error executing checksum query: DBD::mysql::st execute failed: Incorrect string value: '\\xB1T\\\\xAA\\-...' for column 'lower_boundary' at row 96 [for Statement \"REPLACE INTO `percona`.`checksums` (db, tbl, chunk, chunk_index, lower_boundary, upper_boundary, this_cnt, this_crc) SELECT ?, ?, ?, ?, ?, ?, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `campaign_buuid`, `created_at`, `status_code`, `change_source`, CONCAT(ISNULL(`change_source`)))) AS UNSIGNED)), 10, 16)), 0) AS crc FROM `HMS_CampaignAPI`.`campaign_status_history` FORCE INDEX(`PRIMARY`) WHERE ((`campaign_buuid` > ?) OR (`campaign_buuid` = ? AND `created_at` >= ?)) AND ((`campaign_buuid` < ?) OR (`campaign_buuid` = ? AND `created_at` <= ?)) /*checksum chunk*/\" with ParamValues: 6='..\u00b1T\u00aa-K..]\u00e2#r.z.', 11='2011-12-13 08:23:05', 3='PRIMARY', 7='..\u00b1T\u00aa-K..]\u00e2#r.z.', 9='N\u00fc}\u00c1\u00a5L\u00fe\u00a3\u00cf\u00bdpCr\u00d3M', 2=1, 8='2011-12-12 23:38:08', 1='campaign_status_history', 4='\\.\\.\\\u00b1T\\\u00aa\\-K\\.\\.\\]\\\u00e2\\#r\\.z\\.,\\.\\.\\\u00b1T\\\u00aa\\-K\\.\\.\\]\\\u00e2\\#r\\.z\\.,2011\\-12\\-12\\ 23\\:38\\:08', 0='HMS_CampaignAPI', 10='N\u00fc}\u00c1\u00a5L\u00fe\u00a3\u00cf\u00bdpCr\u00d3M', 5='\\N\\\u00fc\\}\\\u00c1\\\u00a5L\\\u00fe\\\u00a3\\\u00cf\\\u00bdpCr\\\u00d3M,\\N\\\u00fc\\}\\\u00c1\\\u00a5L\\\u00fe\\\u00a3\\\u00cf\\\u00bdpCr\\\u00d3M,2011\\-12\\-13\\ 08\\:23\\:05'] at /usr/bin/pt-table-checksum line 6830, <STDIN> line 1.\n\n\n02-02T13:47:51      1      0        0       1       0   0.003 HMS_CampaignAPI.campaign_status_history\n02-02T13:47:51      0      0        0       1       0   0.259 HMS_CampaignAPI.marketing_plan\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.columns_priv\n02-02T13:48:56      0      0       13       1       0   0.004 mysql.db\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.event\n02-02T13:48:56      0      0        0       1       0   0.007 mysql.func\n02-02T13:48:56      0      0       38       1       0   0.005 mysql.help_category\n02-02T13:48:56      0      0      453       1       0   0.006 mysql.help_keyword\n02-02T13:48:56      0      0      992       1       0   0.006 mysql.help_relation\n02-02T13:48:56      0      0      505       1       0   0.009 mysql.help_topic\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.host\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.ndb_binlog_index\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.plugin\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.proc\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.procs_priv\n02-02T13:48:56      0      0        2       1       0   0.007 mysql.proxies_priv\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.servers\n02-02T13:48:56      0      0        3       1       0   0.005 mysql.tables_priv\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.time_zone\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.time_zone_leap_second\n02-02T13:48:56      0      0        0       1       0   0.005 mysql.time_zone_name\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.time_zone_transition\n02-02T13:48:56      0      0        0       1       0   0.006 mysql.time_zone_transition_type\n02-02T13:48:56      0      0       52       1       0   0.008 mysql.user\n-bash-3.2$", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925781/related_tasks", 
"date_assigned": "2012-08-30T03:38:12.342774+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum checksum error when default-character-set = utf8", 
"title": "Bug #925781 in Percona Toolkit: \"pt-table-checksum checksum error when default-character-set = utf8\"", 
"date_confirmed": "2012-04-17T23:41:06.167582+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/925781", 
"date_left_new": "2012-04-17T23:41:06.167582+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/925781", 
"milestone_link": null, 
"http_etag": "\"0d07d007ed2960ae6e49e5ed7b2d3f787793ff6a-27027fb722aef4bec61a86393492728a55a3b5a1\"", 
"owner_link": "https://api.launchpad.net/devel/~hsullivan", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/925781", 
"date_created": "2012-02-02T22:52:00.855464+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"charset", 
"pt-table-checksum", 
"wrong-sql"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-03-19T17:03:03.457972+00:00", 
"bug_id": 928961, 
"date_in_progress": null, 
"bug_description": "Hi,\n\nI have a 3-node Percona XtraDB Cluster with Galera - 5.5.17-22.1-log with wsrep_OSU_method='TOI'.\n\nWas testing pt-online-schema-change (v2.0.3) and it works on the \"primary\" node (node1) but it truncates / deletes all the data from the table on the recipient nodes (node2 and node3).  Schema *IS* changed successfully on all 3 nodes.\n\nFrom node1:\nmysql> select count(*) from n126db1.t1;\n+----------+\n| count(*) |\n+----------+\n|  7417938 |\n+----------+\n1 row in set (1.62 sec)\n(This count matches on node2 and node3).\n\n./pt-online-schema-change h=localhost,D=n126db1,t=t1 --alter \"ADD COLUMN c10 varchar(10)\" --ask-pass --drop-old-table\n# 2012-02-08T18:01:02 ./pt-online-schema-change started\nEnter password:\n# 2012-02-08T18:01:06 USE `n126db1`\n# 2012-02-08T18:01:06 Alter table t1 using temporary table __tmp_t1\n# 2012-02-08T18:01:06 Checking if table t1 can be altered\n# 2012-02-08T18:01:06 SHOW TRIGGERS FROM `n126db1` LIKE 't1'\n# 2012-02-08T18:01:06 Table t1 can be altered\n# 2012-02-08T18:01:06 Chunk column id, index PRIMARY\n# 2012-02-08T18:01:06 Chunked table t1 into 7416 chunks\n# 2012-02-08T18:01:06 Starting online schema change\n# 2012-02-08T18:01:06 CREATE TABLE `n126db1`.`__tmp_t1` LIKE `n126db1`.`t1`\n# 2012-02-08T18:01:06 ALTER TABLE `n126db1`.`__tmp_t1` ADD COLUMN c10 varchar(10)\n# 2012-02-08T18:01:06 Shared columns: id, hostname, port, instime, c5\n# 2012-02-08T18:01:06 Calling OSCCaptureSync::capture()\n# 2012-02-08T18:01:06 CREATE TRIGGER mk_osc_del AFTER DELETE ON `n126db1`.`t1` FOR EACH ROW DELETE IGNORE FROM `n126db1`.`__tmp_t1` WHERE `n126db1`.`__tmp_t1`.id = OLD.id\n# 2012-02-08T18:01:06 CREATE TRIGGER mk_osc_upd AFTER UPDATE ON `n126db1`.`t1` FOR EACH ROW REPLACE INTO `n126db1`.`__tmp_t1` (id, hostname, port, instime, c5) VALUES (NEW.id, NEW.hostname, NEW.port, NEW.instime, NEW.c5)\n# 2012-02-08T18:01:06 CREATE TRIGGER mk_osc_ins AFTER INSERT ON `n126db1`.`t1` FOR EACH ROW REPLACE INTO `n126db1`.`__tmp_t1` (id, hostname, port, instime, c5) VALUES(NEW.id, NEW.hostname, NEW.port, NEW.instime, NEW.c5)\n# 2012-02-08T18:01:07 Calling CopyRowsInsertSelect::copy()\nCopying rows:  15% 02:40 remain\nCopying rows:  33% 02:00 remain\nCopying rows:  51% 01:26 remain\nCopying rows:  68% 00:54 remain\nCopying rows:  85% 00:24 remain\n# 2012-02-08T18:04:01 Calling OSCCaptureSync::sync()\n# 2012-02-08T18:04:01 Renaming tables\n# 2012-02-08T18:04:01 RENAME TABLE `n126db1`.`t1` TO `n126db1`.`__old_t1`, `n126db1`.`__tmp_t1` TO `n126db1`.`t1`\n# 2012-02-08T18:04:01 Original table t1 renamed to __old_t1\n# 2012-02-08T18:04:01 Calling CopyRowsInsertSelect::cleanup()\n# 2012-02-08T18:04:01 Calling OSCCaptureSync::cleanup()\n# 2012-02-08T18:04:01 DROP TRIGGER IF EXISTS `n126db1`.`mk_osc_del`\n# 2012-02-08T18:04:01 DROP TRIGGER IF EXISTS `n126db1`.`mk_osc_ins`\n# 2012-02-08T18:04:01 DROP TRIGGER IF EXISTS `n126db1`.`mk_osc_upd`\n# 2012-02-08T18:04:01 DROP TABLE `n126db1`.`__old_t1`\n# 2012-02-08T18:04:02 ./pt-online-schema-change ended, exit status 0\n\n\nPTDEBUG output file is attached from a second test - row count is 2 million less and column name being added was different than above (c11).\nPTDEBUG=1 ./pt-online-schema-change h=localhost,u=root,p-password,D=n126db1,t=t1 --alter \"ADD COLUMN c11 varchar(10)\" --drop-old-table > pt-osc-debug.out_pzoblisein 2>&1\n\nThanks\nPatrick", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928961/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change truncates recipient tables in XtraDB Cluster with Galera", 
"title": "Bug #928961 in Percona Toolkit: \"pt-online-schema-change truncates recipient tables in XtraDB Cluster with Galera\"", 
"date_confirmed": "2012-03-19T17:03:03.457972+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/928961", 
"date_left_new": "2012-03-19T17:03:03.457972+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/928961", 
"milestone_link": null, 
"http_etag": "\"5cec4681e71b9f386931946c8e146f34060c66bb-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~patrickzoblisein", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/928961", 
"date_created": "2012-02-08T16:26:30.353809+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"galera", 
"pt-online-schema-change", 
"risk", 
"xtradb-cluster"
]
}, 
{
"date_closed": "2012-06-19T19:04:06.686890+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 930300, 
"date_in_progress": null, 
"bug_description": "It would be nice if we could have the arg-table option back in pt-table-checksum again. This is so that we can have an easy way to configure different arguments per table, such as where clauses.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930300/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Add --arg-table back to pt-table-checksum", 
"title": "Bug #930300 in Percona Toolkit: \"Add --arg-table back to pt-table-checksum\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/930300", 
"date_left_new": "2012-03-01T18:22:59.682709+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/930300", 
"milestone_link": null, 
"http_etag": "\"5d9f99005c4a4912b1d22cd51deb3abb7687204e-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930300", 
"date_created": "2012-02-10T17:55:12.838446+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:33:18.324601+00:00", 
"bug_id": 930414, 
"date_in_progress": null, 
"bug_description": "If the slave pt-slave-delay runs on stops with an replication error, for example when a table does not exist, every time pt-slave-delay tries to restart the slave there are errors logged:\n\nFeb 10 21:58:28 rinske mysqld: 120210 21:58:28 [Note] Slave SQL thread initialized, starting replication in log 'mysql-bin.004782' at position 206803715, relay log '/var/log/mysql/mysqld-relay-bin.002046' position: 206803860\nFeb 10 21:58:28 rinske mysqld: 120210 21:58:28 [ERROR] Slave SQL: Error 'Table 'scratch0.afval_agenda' doesn't exist' on query. Default database: 'afval'. Query: 'update afval.afval_agenda left join scratch0.afval_agenda using (agendaid) set afval.afval_agenda.afloop = scratch0.afval_agenda.afloop', Error_code: 1146\nFeb 10 21:58:28 rinske mysqld: 120210 21:58:28 [Warning] Slave: Table 'scratch0.afval_agenda' doesn't exist Error_code: 1146\nFeb 10 21:58:28 rinske mysqld: 120210 21:58:28 [ERROR] Error running query, slave SQL thread aborted. Fix the problem, and restart the slave SQL thread with \"SLAVE START\". We stopped at log 'mysql-bin.004782' position 206803715\n\nCould pt-slave-delay possibly check Last_Errno from SHOW SLAVE STATUS before restarting the slave thread?\n\nI run pt-slave-delay like this:\n\npt-slave-delay --delay 60m --interval 5m --defaults-file=/etc/mysql/debian.cnf --daemonize --pid=/var/run/pt-slave-delay.pid \n\nroot@rinske:/var/log# pt-slave-delay --version\npt-slave-delay 2.0.2\n\nmysql> SHOW VARIABLES LIKE \"%version%\";\n+-------------------------+--------------------------------------------+\n| Variable_name           | Value                                      |\n+-------------------------+--------------------------------------------+\n| innodb_version          | 1.0.17-rel13.1                             |\n| protocol_version        | 10                                         |\n| version                 | 5.1.60-rel13.1-log                         |\n| version_comment         | (Percona Server (GPL), 13.1, Revision 413) |\n| version_compile_machine | x86_64                                     |\n| version_compile_os      | debian-linux-gnu                           |\n+-------------------------+--------------------------------------------+\n6 rows in set (0.00 sec)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930414/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-delay causes errors if slave is stopped with an error", 
"title": "Bug #930414 in Percona Toolkit: \"pt-slave-delay causes errors if slave is stopped with an error\"", 
"date_confirmed": "2012-04-17T23:33:18.324601+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/930414", 
"date_left_new": "2012-04-17T23:33:18.324601+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/930414", 
"milestone_link": null, 
"http_etag": "\"62c55f97e9e46ede7cdf725121f0febc3014b8ea-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/930414", 
"date_created": "2012-02-10T21:19:10.272791+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-slave-delay"
]
}, 
{
"date_closed": "2012-02-17T18:08:50.557949+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 931702, 
"date_in_progress": null, 
"bug_description": "We have a reached a point where we have 38 tools under percona toolkit. It  would be better if we had a common man page for all with each tool being mentioned and a one-line summary as to what it does, along with general description of percona toolkit.\n\nTo give a similar example -- http://schacon.github.com/git/git.html \n\nThis also helps in easier cross-referencing.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/931702/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "[Documentation] Common man page for pt-tools", 
"title": "Bug #931702 in Percona Toolkit: \"[Documentation] Common man page for pt-tools\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/931702", 
"date_left_new": "2012-02-17T18:08:50.557949+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/931702", 
"milestone_link": null, 
"http_etag": "\"83512b85618a1eb4107440946b6bc40664517943-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~raghavendra-prabhu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/931702", 
"date_created": "2012-02-13T21:11:46.039260+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 932614, 
"date_in_progress": null, 
"bug_description": "This is very low priority I guess but had me confused for a few minutes.\n\nI've got a crashed replication and thought 'what the hell, lets see what pt-slave-restart does on it'.\n\nrelevant excerpt of SHOW SLAVE STATUS:\n\n               Last_SQL_Errno: 1594\n               Last_SQL_Error: Relay log read failure: Could not parse relay log event entry. The possible reasons are: the master's binary log is corrupted (you can check this by running 'mysqlbinlog' on the binary log), the slave's relay log is corrupted (you can check this by running 'mysqlbinlog' on the relay log), a network problem, or a bug in the master's or slave's MySQL code. If you want to check the master's binary log or slave's relay log, you will be able to know their names by issuing 'SHOW SLAVE STATUS' on this slave.\n\nThis is the result:\n\nroot@miho:/var/log/mysql# pt-slave-restart\n2012-02-15T10:50:28  mysqld-relay-bin.001752    56390555 1594 \nDBD::mysql::st execute failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''56390410'' at line 1 [for Statement \"CHANGE MASTER TO MASTER_LOG_FILE=?, MASTER_LOG_POS=?\" with ParamValues: 0='mysql-bin.000142', 1='56390410'] at /usr/bin/pt-slave-restart line 2673.\n\n\"Huh? What's wrong with that query then?\"\n\nI understand why it doesn't work, and that it can't work, but perhaps there should be a list of errors that pt-slave-restart should refuse to run on?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932614/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-restart slightly confusing error if slave crashed", 
"title": "Bug #932614 in Percona Toolkit: \"pt-slave-restart slightly confusing error if slave crashed\"", 
"date_confirmed": "2012-02-17T18:25:42.441309+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932614", 
"date_left_new": "2012-02-17T18:25:42.441309+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932614", 
"milestone_link": null, 
"http_etag": "\"7e9dbcda0ddc18b433a5a723de82f15e2b943291-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932614", 
"date_created": "2012-02-15T09:53:24.683411+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-slave-restart", 
"wrong-sql"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 932992, 
"date_in_progress": null, 
"bug_description": "SELECT c FROM t where 1 = 1 FOR UPDATE\n\nThat should trigger a rule warning about the dangers of FOR UPDATE. The same for LOCK IN SHARE MODE.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932992/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor doesn't warn about FOR UPDATE", 
"title": "Bug #932992 in Percona Toolkit: \"pt-query-advisor doesn't warn about FOR UPDATE\"", 
"date_confirmed": "2012-02-17T18:09:42.745048+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/932992", 
"date_left_new": "2012-02-17T18:09:42.745048+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/932992", 
"milestone_link": null, 
"http_etag": "\"551125fd9f9090f4fb940377a348596e9bb9c2dc-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/932992", 
"date_created": "2012-02-15T19:05:40.888243+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933009, 
"date_in_progress": null, 
"bug_description": "This query is an error:\n\nUPDATE tbl SET c1=4 AND c2=5 WHERE id = 1\n\nThis becomes equivalent to:\n\nUPDATE tbl SET c1=IF(c2=5, 1, 0) WHERE id = 1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933009/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor doesn't catch UPDATE/SET bug", 
"title": "Bug #933009 in Percona Toolkit: \"pt-query-advisor doesn't catch UPDATE/SET bug\"", 
"date_confirmed": "2012-02-17T18:07:21.851587+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933009", 
"date_left_new": "2012-02-17T18:07:21.851587+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933009", 
"milestone_link": null, 
"http_etag": "\"090ad0e8742ab360db5cb30f724e6640e277d22f-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933009", 
"date_created": "2012-02-15T19:32:42.666876+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": "2012-02-16T15:14:51.344915+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933252, 
"date_in_progress": null, 
"bug_description": "So, _find_slaves_by_dsn method does not exist but when you run pt-table-checksum with --recursion-method and --replicate, the script looks for the method, _find_slaves_by_dsn:\n\npt-table-sync --print --recursion-method=dsn=h=localhost,D=percona,t=dsns --replicate percona.checksums h=192.168.1.98,u=user,p=password\n\nCan't locate object method \"_find_slaves_by_dsn=h=localhost,D=percona,t=dsns\" via package \"MasterSlave\" at ./pt-table-sync line 5977.\nIssuing rollback() for database handle being DESTROY'd without explicit disconnect().\nIssuing rollback() for database handle being DESTROY'd without explicit disconnect().", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933252/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync 2.0.3 --recursion-method=dsn doesn't work", 
"title": "Bug #933252 in Percona Toolkit: \"pt-table-sync 2.0.3 --recursion-method=dsn doesn't work\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/933252", 
"date_left_new": "2012-02-16T15:14:51.344915+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933252", 
"milestone_link": null, 
"http_etag": "\"9856f7f972b4387a5908bcfebcdaf3c3dc5f60da-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~jssicam", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933252", 
"date_created": "2012-02-16T04:16:50.916664+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933463, 
"date_in_progress": null, 
"bug_description": "This query should throw an error:\n\nselect name from world.Country where continent = NULL\n\nThe query should say \"IS NULL\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933463/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor doesn't warn about =NULL", 
"title": "Bug #933463 in Percona Toolkit: \"pt-query-advisor doesn't warn about =NULL\"", 
"date_confirmed": "2012-02-17T18:01:21.721354+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933463", 
"date_left_new": "2012-02-17T18:01:21.721354+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933463", 
"milestone_link": null, 
"http_etag": "\"376e250d166698433f878665f6a81ee6b7fcd531-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933463", 
"date_created": "2012-02-16T13:51:22.597981+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933465, 
"date_in_progress": null, 
"bug_description": "select name, population, count(*) from world.Country group by name, population\n\nhas no non-deterministic group-by.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933465/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor false positive on RES.001", 
"title": "Bug #933465 in Percona Toolkit: \"pt-query-advisor false positive on RES.001\"", 
"date_confirmed": "2012-02-17T17:56:19.631138+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933465", 
"date_left_new": "2012-02-17T17:56:19.631138+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933465", 
"milestone_link": null, 
"http_etag": "\"eaf63321d067506eed994b60c3139254640cdf4e-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933465", 
"date_created": "2012-02-16T13:52:36.327608+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933467, 
"date_in_progress": null, 
"bug_description": "select continent, group_concat(name) from world.Country\n\nshould be RES.001 because if there is an aggregate function and no GROUP BY, then it's an implicit GROUP BY.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933467/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor doesn't warn on a mixture of aggregates and columns in a non-GROUP-BY query", 
"title": "Bug #933467 in Percona Toolkit: \"pt-query-advisor doesn't warn on a mixture of aggregates and columns in a non-GROUP-BY query\"", 
"date_confirmed": "2012-02-17T17:51:26.757527+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933467", 
"date_left_new": "2012-02-17T17:51:26.757527+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933467", 
"milestone_link": null, 
"http_etag": "\"276c3291f30c75c8deb7a068787f2999860bcc0e-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933467", 
"date_created": "2012-02-16T13:54:33.180517+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933469, 
"date_in_progress": null, 
"bug_description": "select distinct (continent), name from world.Country;\n\nShlomi's description is best: \"there is nothing wrong syntactically, but the author of the query might be confused to think that DISTINCT is a function, and that it only works for the 'continent' column, whereas it works for the entire set of columns.\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933469/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor treats distinct() as a function", 
"title": "Bug #933469 in Percona Toolkit: \"pt-query-advisor treats distinct() as a function\"", 
"date_confirmed": "2012-02-17T17:46:42.432192+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933469", 
"date_left_new": "2012-02-17T17:46:42.432192+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933469", 
"milestone_link": null, 
"http_etag": "\"627c63414e2819f4cdc748ceae8072ae50e0f568-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933469", 
"date_created": "2012-02-16T13:56:13.095874+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 933522, 
"date_in_progress": null, 
"bug_description": "I just noticed this:\n\npt-table-checksum --lock --help\nValue \"--help\" invalid for option lock-wait-timeout (number expected)\n\nIt's recognizing --lock, which doesn't exist anymore, as the unambiguous prefix of --lock-wait-timeout.  This is like the most evil thing ever about commandline option parsing.  I hate this \"feature\" because it can be very dangerous.  I thought I had chosen to disable this years back when I started writing the original tools.\n\nWe need to disable this in the next release and include a warning.  Otherwise we basically never can safely remove options and we'll have to be paranoid about introducing new options that create ambiguity about prefixes, e.g. right now, this will work:\n\npt-table-checksum --loc 1\n\nit'll recognize that as --lock-wait-timeout.  But in the future, suppose we introduce --lock-foo, then it'll break, with a message like this:\n\npt-table-checksum --recur 1\nOption recur is ambiguous (recurse, recursion-method)\nUsage: pt-table-checksum [OPTION...] [DSN]\n\nCurse you, commandline option \"smartness\" :-(", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933522/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Tools should not recognize option prefixes", 
"title": "Bug #933522 in Percona Toolkit: \"Tools should not recognize option prefixes\"", 
"date_confirmed": "2012-02-17T17:43:29.775783+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/933522", 
"date_left_new": "2012-02-17T17:43:29.775783+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/933522", 
"milestone_link": null, 
"http_etag": "\"8d795c58b458c57e9f6504c1bc5e451c928c79f0-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/933522", 
"date_created": "2012-02-16T15:15:17.433166+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"all-tools"
]
}, 
{
"date_closed": "2012-06-09T21:42:23.780429+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-08T03:13:50.327066+00:00", 
"bug_id": 934190, 
"date_in_progress": "2012-03-08T03:13:50.327066+00:00", 
"bug_description": "For the operation of openvz does not need the program lspci, many images does not contain it, but the logic of the script requires their presence. Would be better to make the processing of openvz separately.\n\nI note that the information in /proc/userbeancounters may be indicative in terms of performance analysis. It can be included in the brief output. Non-zero failcnt column is an indicator of problems.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934190/related_tasks", 
"date_assigned": "2012-03-08T03:13:38.827041+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary does not detect openzv virtualization without lspci", 
"title": "Bug #934190 in Percona Toolkit: \"pt-summary does not detect openzv virtualization without lspci\"", 
"date_confirmed": "2012-03-08T03:13:50.327066+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/934190", 
"date_left_new": "2012-03-08T03:13:50.327066+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/934190", 
"milestone_link": null, 
"http_etag": "\"7d6c0021b38163d2e73e77e67a14ff490363442f-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~pwlnw", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-09T21:42:23.780429+00:00", 
"date_fix_released": "2012-06-09T21:42:23.780429+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/934190", 
"date_created": "2012-02-17T13:25:55.382713+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-summary"
]
}, 
{
"date_closed": "2012-05-07T23:09:03.035768+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 937793, 
"date_in_progress": null, 
"bug_description": "The output of pt-mysql-summary displays wrong value in calculation for InnoDB log files:\n\n       Log File Size | 2 * 1G = 2.9G\n\nin my.cnf:\n\ninnodb_log_file_size                = 1500M\n\nmysql> show global variables like 'innodb_log_file%';\n+---------------------------+------------+\n| Variable_name             | Value      |\n+---------------------------+------------+\n| innodb_log_file_size      | 1572864000 |\n| innodb_log_files_in_group | 2          |\n+---------------------------+------------+", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937793/related_tasks", 
"date_assigned": "2012-02-21T17:16:15.285091+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-mysql-summary : bad size of transaction logs", 
"title": "Bug #937793 in Percona Toolkit: \"pt-mysql-summary : bad size of transaction logs\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/937793", 
"date_left_new": "2012-02-21T17:15:46.559077+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/937793", 
"milestone_link": null, 
"http_etag": "\"9c2ce0160d25c6bf83fd6c728822375edcd582aa-49eff5a1c4e2737bdeaf0238cfc32a71694a6c17\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/937793", 
"date_created": "2012-02-21T13:41:51.027059+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-mysql-summary", 
"wrong-output"
]
}, 
{
"date_closed": "2012-03-14T17:10:57.278851+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 939585, 
"date_in_progress": null, 
"bug_description": "Running pt-query-digest with --group-by tables on a binlog that is still in use, exits with this error: \n\nnice ./pt-query-digest --group-by tables /path/to/bin.log\nPipeline process 8 (tables) caused an error: Substitution loop at ./pt-query-digest line 7495, <> line 1.\n\nI believe we should print out a more useful message instead. This may impact other options too, this happened while running it with a customer.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/939585/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest aborts with an error when using --tables on a currently open binlog", 
"title": "Bug #939585 in Percona Toolkit: \"pt-query-digest aborts with an error when using --tables on a currently open binlog\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/939585", 
"date_left_new": "2012-03-14T17:10:57.278851+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/939585", 
"milestone_link": null, 
"http_etag": "\"acf2819b81961d167bfe137d2f47d554c8e78f3d-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/939585", 
"date_created": "2012-02-23T15:27:26.927451+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-10T00:11:47.212921+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 940253, 
"date_in_progress": null, 
"bug_description": "When archiving table with text field error occured:\n\nWide character in print at /usr/local/bin/pt-archiver line 4010.\n\n\nadding   binmode $archive_fh, \":utf8\";    fixes it\n\n\nFreeBSD 8.2-RELEASE-p1 amd64\nperl, v5.10.1 (*) built for amd64-freebsd-thread-multi", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940253/related_tasks", 
"date_assigned": "2012-02-24T13:45:42.579063+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-archiver: Wide character in print", 
"title": "Bug #940253 in Percona Toolkit: \"pt-archiver: Wide character in print\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940253", 
"date_left_new": "2012-03-01T22:26:10.312386+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940253", 
"milestone_link": null, 
"http_etag": "\"68c89e0dc36414bb1b76999399f9a3fe25deed3d-8feae1d9aba1f8ba66eb155a86c379c1f5457b96\"", 
"owner_link": "https://api.launchpad.net/devel/~pservit", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940253", 
"date_created": "2012-02-24T12:07:34.899174+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-archiver"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 940965, 
"date_in_progress": null, 
"bug_description": "The environment is supposedly OK:\n\n[baron@localhost ~]$ 2.0/sandbox/test-env checkconfig\nPERCONA_TOOLKIT_BRANCH=2.0/ - ok\nPERCONA_TOOLKIT_SANDBOX=5.5.20/ - ok\nPercona Toolkit test environment config is ok!\n\nBut,\n\n[baron@localhost ~]$ 2.0/sandbox/test-env start\nInvalid PERCONA_TOOLKIT_BRANCH directory: 2.0/\nThere was an error starting the Percona Toolkit test environment.\n\nThis is because:\n\nif [ ! -d \"$PERCONA_TOOLKIT_BRANCH\" ]; then\n   die \"Invalid PERCONA_TOOLKIT_BRANCH directory: $PERCONA_TOOLKIT_BRANCH\"\nfi\n\nThat's executed with a different cwd.  Something is doing a \"cd\" to 2.0/sandbox and then executing the script.  We almost surely shouldn't do that, because if we do, then it forces everyone to use absolute paths, which is never the expected behavior.\n\nThe workaround right now is to set the environment variables to absolute paths.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940965/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "test-env doesn't agree with start-sandbox", 
"title": "Bug #940965 in Percona Toolkit: \"test-env doesn't agree with start-sandbox\"", 
"date_confirmed": "2012-03-08T05:06:34.615004+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/940965", 
"date_left_new": "2012-03-08T05:06:34.615004+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940965", 
"milestone_link": null, 
"http_etag": "\"981531fe9f300143fa468ac52ce931119ad19dff-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940965", 
"date_created": "2012-02-25T15:08:34.871263+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": "2012-06-11T11:40:00.709681+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-03-06T18:57:46.962444+00:00", 
"bug_id": 940972, 
"date_in_progress": "2012-03-06T18:57:46.962444+00:00", 
"bug_description": "The pt-upgrade test suite breaks replication on the test environment, causing subsequent tests to fail. This affects at least MySQL 5.5.20.  After running the tests, we have:\n\n12345\n12346\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: Yes\n12347\n             Slave_IO_Running: Yes\n            Slave_SQL_Running: No\n\nThe errors in the server's log:\n\n120225 10:11:04 [Warning] Unsafe statement written to the binary log using statement format since BINLOG_FORMAT = STATEMENT. Statement accesses nontransactional table as well as transactional or temporary table, and writes to any of them. Statement: INSERT INTO film VALUES (1,'ACADEMY DINOSAUR','A Epic Drama of a Feminist And a Mad Scientist who must Battle a Teacher in The Canadian Rockies',2006,1,NULL,6,'0.99',86,'20.99','PG','Deleted Scenes,Behind the Scenes','2006-02-15 05:03:42'),(2,'ACE GOLDFINGER','A Astounding Epistle of a Database Administrator And a Explorer who must Find a Car in Ancient China',2006,1,NULL,3,'4.99',48,'12.99','G','Trailers,Deleted Scenes','2006-02-15 05:03:42'),(3,'ADAPTATION HOLES','A Astounding Reflection of a Lumberjack And a Car who must Sink a Lumberjack in A Baloon Factory',2006,1,NULL,7,'2.99',50,'18.99','NC-17','Trailers,Deleted Scenes','2006-02-15 05:03:42'),(4,'AFFAIR PREJUDICE','A Fanciful Documentary of a Frisbee And a Lumberjack who must Chase a Monkey in A Shark Tank',2006,1,NULL,5,'2.99',117\n120225 10:15:00 [ERROR] Slave SQL: Error 'Table 't' already exists' on query. Default database: 'test'. Query: 'CREATE TABLE `t` (\n  `id` int(10) NOT NULL,\n  `name` varchar(255) default NULL,\n  `last_login` datetime default NULL,\n  PRIMARY KEY  (`id`)\n)', Error_code: 1050", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940972/related_tasks", 
"date_assigned": "2012-02-25T15:38:29.541091+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade test breaks replication", 
"title": "Bug #940972 in Percona Toolkit: \"pt-upgrade test breaks replication\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/940972", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/940972", 
"milestone_link": null, 
"http_etag": "\"cd20316cdd5b23e651628f2a5cf6d645712210b1-d83dbd4553160edb345b5d5ac964e42241d0c11f\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:03:43.045516+00:00", 
"date_fix_released": "2012-06-11T11:40:00.709681+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/940972", 
"date_created": "2012-02-25T15:18:19.936136+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"breaks-replication", 
"mysql-5.5", 
"pt-upgrade", 
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T23:23:29.665036+00:00", 
"bug_id": 943521, 
"date_in_progress": null, 
"bug_description": "More of a feature request than a bug but we run a slave delayed two days in our office from our production system. autossh is used to ensure a tunnel to production exists but there are still occasions when the slave has an issue connecting and we get an IO error 2013 'error reconnecting to master 'repl@localhost:2306' - retry-time: 60  retries: 86400'.\n\nThis IO error appears to cause pt-slave-delay to never restart unless we manually issue a \"slave start\" so we have this in an hourly cron. It would be nice if pt-slave-delay would automatically try to restart regardless of the IO issue.\n\npt-slave-delay version 2.0.3\n\n\n2012-02-29T11:18:19 slave stopped at master position mysql-bin.000922/298211578\n2012-02-29T11:19:19 slave stopped at master position mysql-bin.000922/298338346\n2012-02-29T11:20:19 slave stopped at master position mysql-bin.000922/298452192\n2012-02-29T11:21:19 slave stopped at master position mysql-bin.000922/298589990\n2012-02-29T11:22:19 slave stopped at master position mysql-bin.000922/298673234\n2012-02-29T11:23:19 slave stopped at master position mysql-bin.000922/298771151\n2012-02-29T11:24:19 slave stopped at master position mysql-bin.000922/298889517\n2012-02-29T11:25:19 slave stopped at master position mysql-bin.000922/298989539\n2012-02-29T11:26:19 slave stopped at master position mysql-bin.000922/299186614\n2012-02-29T11:27:19 slave stopped at master position mysql-bin.000922/299327914", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/943521/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-delay won't restart after mysql IO error", 
"title": "Bug #943521 in Percona Toolkit: \"pt-slave-delay won't restart after mysql IO error\"", 
"date_confirmed": "2012-04-17T23:23:29.665036+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/943521", 
"date_left_new": "2012-04-17T23:23:29.665036+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/943521", 
"milestone_link": null, 
"http_etag": "\"06d2f33006aee7fbc61eff60bc4047844ef84000-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~j-jarrod", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/943521", 
"date_created": "2012-02-29T19:35:14.836308+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-slave-delay"
]
}, 
{
"date_closed": "2012-06-19T20:57:35.044591+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 947987, 
"date_in_progress": null, 
"bug_description": "lib/MySQLDump.pm was removed on r121, but several packages still use it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/947987/related_tasks", 
"date_assigned": "2012-04-17T23:22:03.526189+00:00", 
"bug_information_type": "Public", 
"bug_title": "Some tools still use removed package (MySQLDump)", 
"title": "Bug #947987 in Percona Toolkit: \"Some tools still use removed package (MySQLDump)\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/947987", 
"date_left_new": "2012-04-17T23:22:06.031942+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/947987", 
"milestone_link": null, 
"http_etag": "\"595e5e9439c6f69a171d26dc1ce635418ae20271-3e66d32f1fcad24589877e734c104df5b709b68b\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/947987", 
"date_created": "2012-03-06T13:26:37.894320+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-archiver", 
"pt-duplicate-key-checker", 
"pt-find", 
"pt-index-usage", 
"pt-query-advisor", 
"pt-query-digest", 
"pt-table-sync", 
"pt-upgrade"
]
}, 
{
"date_closed": "2012-06-10T02:08:11.997617+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 953098, 
"date_in_progress": null, 
"bug_description": "pt-stalk (and any tool intended to be using parse_options.sh) has an undocumented Perl dependency. Rather than documenting it, I think we should take the hit to maintainability and try converting those to awk.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953098/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Perl dependency in the new bash tools", 
"title": "Bug #953098 in Percona Toolkit: \"Perl dependency in the new bash tools\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/953098", 
"date_left_new": "2012-03-16T01:22:21.236983+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/953098", 
"milestone_link": null, 
"http_etag": "\"2acf5af3ea7d9462262bb4206f8c2fef89ac2318-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953098", 
"date_created": "2012-03-12T15:17:12.914991+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-10-13T16:57:31.382902+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 953101, 
"date_in_progress": null, 
"bug_description": "# TableSyncNibble:4800 23720 Next boundary sql: SELECT /*nibble boundary 0*/ `id`,`id_type`,`pat_id`,`role_id`,`rank`,`entered_date` FROM `wc_gyn`.`user_patients` FORCE INDEX (`PRIMARY`) WHERE (((`pat_id` > 479583) OR (`pat_id` = 479583 AND `id` > 3357) OR (`pat_id` = 479583 AND `id` = 3357 AND `id_type` > user) OR (`pat_id` = 479583 AND `id` = 3357 AND `id_type` = user AND `role_id` >= 2)) AND ((`pat_id` < 548043) OR (`pat_id` = 548043 AND `id` < 6337) OR (`pat_id` = 548043 AND `id` = 6337 AND `id_type` < user) OR (`pat_id` = 548043 AND `id` = 6337 AND `id_type` = user AND `role_id` <= 3))) ORDER BY `pat_id`,`id`,`id_type`,`role_id` LIMIT 999, 1\n# TableSyncNibble:4812 23720 DBD::mysql::db selectall_arrayref failed: fetch() without execute() [for Statement \"EXPLAIN SELECT /*nibble boundary 0*/ `id`,`id_type`,`pat_id`,`role_id`,`rank`,`entered_date` FROM `wc_gyn`.`user_patients` FORCE INDEX (`PRIMARY`) WHERE (((`pat_id` > 479583) OR (`pat_id` = 479583 AND `id` > 3357) OR (`pat_id` = 479583 AND `id` = 3357 AND `id_type` > user) OR (`pat_id` = 479583 AND `id` = 3357 AND `id_type` = user AND `role_id` >= 2)) AND ((`pat_id` < 548043) OR (`pat_id` = 548043 AND `id` < 6337) OR (`pat_id` = 548043 AND `id` = 6337 AND `id_type` < user) OR (`pat_id` = 548043 AND `id` = 6337 AND `id_type` = user AND `role_id` <= 3))) ORDER BY `pat_id`,`id`,`id_type`,`role_id` LIMIT 999, 1\"] at ./pt-table-sync line 4809.\n# \nCannot nibble table `wc_gyn`.`user_patients` because MySQL chose no index instead of the `PRIMARY` index at ./pt-table-sync line 4748.  while doing wc_gyn.user_patients on xxx.xxx.xxx.xxx\n\n\nI believe this might have been report once before but without PTDEBUG=1 turn on.\n\nIn this example, the column 'id_type' is a varchar() and the WHERE criteria must be quoted, so:\n\n(`pat_id` = 548043 AND `id` = 6337 AND `id_type` < user)  -- BAD\n\nshould be:\n\n(`pat_id` = 548043 AND `id` = 6337 AND `id_type` < 'user') -- MAYBE???\n\nNow that I think of it, the expression `id_type` < 'user' may produce incorrect results when comparing strings.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953101/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "TableSyncNibble fails to quote varchar columns in primary key", 
"title": "Bug #953101 in Percona Toolkit: \"TableSyncNibble fails to quote varchar columns in primary key\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/953101", 
"date_left_new": "2012-04-17T23:21:15.410502+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/953101", 
"milestone_link": null, 
"http_etag": "\"5bee03124e5be620204ec15529fccc52da2d6a05-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/953101", 
"date_created": "2012-03-12T15:18:40.276613+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-sync", 
"value-quoting"
]
}, 
{
"date_closed": "2012-03-26T21:39:58.410685+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": null, 
"bug_id": 955578, 
"date_in_progress": null, 
"bug_description": "In order to make some custom patches to fix inhouse issues we want to rebuild the spec files.  You build rpms for percona-toolkit but there's no .src.rpm and also the .tar.gz file has no spec file which rpm _could_ use to build the rpm files. Please provide this to make it easier to modify the \"source\" if needed, and then later we can possibly provide the patches back to you once we're happy with them.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955578/related_tasks", 
"date_assigned": "2012-03-26T21:40:04.398290+00:00", 
"bug_information_type": "Public", 
"bug_title": "no spec file in percona-2.0.4.tar.gz file", 
"title": "Bug #955578 in Percona Toolkit: \"no spec file in percona-2.0.4.tar.gz file\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/955578", 
"date_left_new": "2012-03-26T21:39:58.410685+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/955578", 
"milestone_link": null, 
"http_etag": "\"5b2c886d73aac02a009ee54a54a202efd5264c3b-49eff5a1c4e2737bdeaf0238cfc32a71694a6c17\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955578", 
"date_created": "2012-03-14T22:52:33.759409+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"release"
]
}, 
{
"date_closed": "2012-06-12T00:37:51.739852+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 955615, 
"date_in_progress": null, 
"bug_description": "Command line:\n\n\n# /usr/local/bin/pt-mext -r -- \"mysqladmin ext -i10 -c3\"\ngetopt: illegal option -- n\n/usr/local/bin/pt-mext: syntax error at line 31: `;' unexpected\n\nNot sure which version of pt tools, but one released in the last 6 months.\n\nIt looks like pt-mext uses \"getopt\", the default version of which on Solaris doesn't support the \"-n\" argument. (Solaris man pages  also say \"getopt\" is going away to be replaced by \"getopts\")\n\nI rewrote it to use \"getopts\" instead. Seems to work on solaris and a quick test on linux (FC 15) didn't complain either.\n\nI've included the short patch, but note I'm not a shell developer!", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955615/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-mext won't run on Solaris", 
"title": "Bug #955615 in Percona Toolkit: \"pt-mext won't run on Solaris\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/955615", 
"date_left_new": "2012-04-17T21:39:42.678219+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/955615", 
"milestone_link": null, 
"http_etag": "\"de508517015c666b2adfd221b3945a89d780e759-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~chris-valaas", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/955615", 
"date_created": "2012-03-15T00:28:21.614820+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-mext", 
"solaris"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-03-26T21:30:56.749356+00:00", 
"bug_id": 957787, 
"date_in_progress": null, 
"bug_description": "with the following invocation ;\n/usr/bin/pt-heartbeat --user=heartbeat --password=XXX --create-table -D percona --table heartbeat --update -h myserver --interval 10 --sentinel /tmp/pt-heartbeat-sentinel  --stop --daemonize\n\nthe command is not going into the background, or returning an error.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957787/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat not daemonizing when invoked with --stop --update", 
"title": "Bug #957787 in Percona Toolkit: \"pt-heartbeat not daemonizing when invoked with --stop --update\"", 
"date_confirmed": "2012-03-26T21:30:56.749356+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/957787", 
"date_left_new": "2012-03-26T21:30:56.749356+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/957787", 
"milestone_link": null, 
"http_etag": "\"1f793a51c75e12a3e17fbf661b27197e677e9a5d-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~09rp9wq-tom-anzd5so", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/957787", 
"date_created": "2012-03-17T09:57:44.131211+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"daemon", 
"pt-heartbeat"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 958061, 
"date_in_progress": null, 
"bug_description": "This code in get_fks() looks very wrong to me:\n\n      $fks->{$name} = {\n         name           => $name,\n         colnames       => $cols,\n         cols           => [ map { s/[ `]+//g; $_; } split(',', $cols) ],\n         parent_tbl     => \\%parent_tbl,\n         parent_tblname => $parent,\n         parent_cols    => [ map { s/[ `]+//g; $_; } split(',', $parent_cols) ],\n         parent_colnames=> $parent_cols,\n         ddl            => $fk,\n      };\n\nIt is replacing [ `] with nothing. That means that a foreign key like this,\n\nREFERENCES foo (`abc def`)\n\nis going to come out as abcdef which is wrong.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/958061/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "TableParser doesn't handle column names with spaces", 
"title": "Bug #958061 in Percona Toolkit: \"TableParser doesn't handle column names with spaces\"", 
"date_confirmed": "2012-03-24T19:44:18.753917+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/958061", 
"date_left_new": "2012-03-24T19:44:18.753917+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/958061", 
"milestone_link": null, 
"http_etag": "\"79e48a7e6f4833a060a9cdb7c7666067ece1865b-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/958061", 
"date_created": "2012-03-17T18:17:45.647786+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"ident-parsing", 
"whitespace"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 959491, 
"date_in_progress": null, 
"bug_description": "A handful of things stop of the bash tools from working across the board on sh:\n - The ${!var}. ${var/pat/rep}, and ${var// /replacement} substitutions don't exist in sh\n - trap doesn't like signals with SIG prepended. So SIGTERM doesn't work, but TERM does.\n - Using $@ outside of a function when called without arguments doesn't work under set -u\n - Apparently, 'source FILE' is a bashism, and we actually need to use '. FILE'\n- 'expr \"$number\" : \"-\"' doesn't work in FreeBSD. Instead you need expr -- \"$number\" : \"\\-\"\n- FreeBSD and test num -eq num occasionally dies. I don't quite follow how.\n- var=$(cmd) nearly always works in bash, but definitely requires quoting in sh if the output can have spaces.\n\nTangentially related, some seds allows you to drop the semicolon at the end of a block, some don't and die with the most obscure of error messages. So we probably should check up on that.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/959491/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Bash tools don't work with real sh", 
"title": "Bug #959491 in Percona Toolkit: \"Bash tools don't work with real sh\"", 
"date_confirmed": "2012-03-19T17:15:00.120171+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/959491", 
"date_left_new": "2012-03-19T17:15:00.120171+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/959491", 
"milestone_link": null, 
"http_etag": "\"8060f5c5b1ae63e5655c4485e5182591121bf96f-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/959491", 
"date_created": "2012-03-19T17:04:17.943826+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"shell-tools"
]
}, 
{
"date_closed": "2012-06-06T17:30:02.101689+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-03-26T21:27:17.365187+00:00", 
"bug_id": 962213, 
"date_in_progress": "2012-06-06T17:30:02.101689+00:00", 
"bug_description": "Hi.\n\nIs pt-summary 2.0.3 compatible with RHEL 6.1?  Or could this be an issue with my deployment of RHEL 6.1?\n\n[root@$]# uname -a\nLinux host.com 2.6.32-131.0.15.el6.x86_64 #1 SMP Tue May 10 15:42:40 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\n\n[root@$]# cat /proc/version\nLinux version 2.6.32-131.0.15.el6.x86_64 (<email address hidden>) (gcc version 4.4.4 20100726 (Red Hat 4.4.4-13) (GCC) ) #1 SMP Tue May 10 15:42:40 EDT 2011\n\n./pt-summary --version does not return any version information.\n\n<snip>   \nKernel | 2.6.32-131.0.15.el6.x86_64\n./pt-summary: line 957: file: command not found\nArchitecture | CPU = 64-bit, OS = 32-bit\n<snip>\n\ncommand not found is:\n   if file /bin/sh | grep '64-bit' >/dev/null; then\n      OS_ARCH='64-bit'\n   fi\n\n# Percona Toolkit System Summary Report ######################\n        Date | 2012-03-22 14:18:36 UTC (local TZ: GMT +0000)\n    Hostname | host.com\n      Uptime | 6 days, 19:11, 3 users, load average: 0.25, 0.25, 0.43\n      System | Dell Inc.; PowerEdge R900; vNot Specified (<OUT OF SPEC>)\n Service Tag | C4CT14J\n    Platform | Linux\n     Release | Red Hat Enterprise Linux Server release 6.1 (Santiago)\n      Kernel | 2.6.32-131.0.15.el6.x86_64\n./pt-summary: line 957: file: command not found\nArchitecture | CPU = 64-bit, OS = 32-bit\n   Threading | NPTL 2.12\n    Compiler | GNU CC version 4.4.5 20110214 (Red Hat 4.4.5-6).\n     SELinux | Disabled\n Virtualized | No virtualization detected\n# Processor ##################################################\n  Processors | physical = 4, cores = 24, virtual = 24, hyperthreading = no\n      Speeds | 24x2659.390\n      Models | 24xIntel(R) Xeon(R) CPU X7460 @ 2.66GHz\n      Caches | 24x16384 KB\n# Memory #####################################################\n       Total | 126.17G\n        Free | 4.93G\n        Used | physical = 121.24G, swap = 8.00k, virtual = 121.24G\n     Buffers | 224.68M\n      Caches | 96.16G\n       Dirty | 1232 kB\n     UsedRSS | 21.9G\n  Swappiness | vm.swappiness = 60\n DirtyPolicy | vm.dirty_ratio = 20, vm.dirty_background_ratio = 10\n DirtyStatus | vm.dirty_bytes = 0, vm.dirty_background_bytes = 0\n  Locator   Size     Speed             Form Factor   Type          Type Detail\n  ========= ======== ================= ============= ============= ===========\n  DIMM A1   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A2   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A3   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A4   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A5   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A6   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A7   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM A8   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B1   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B2   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B3   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B4   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B5   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B6   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B7   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM B8   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C1   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C2   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C3   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C4   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C5   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C6   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C7   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM C8   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D1   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D2   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D3   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D4   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D5   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D6   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D7   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n  DIMM D8   4096 MB  667 MHz           FB-DIMM       DDR2 FB-DIMM  Synchronous\n# Mounted Filesystems ########################################\n  Filesystem                           Size Used Type  Opts                  Mountpoint\n  1.8.1.1:/backup_1/root  4.4T  84% nfs   rw,addr=10.21.9.3 /var/lib/mysqlbackups\n  /dev/mapper/vg_system-lv_root        364G   5% ext4  rw                    /\n  /dev/sda1                            194M  14% ext3  rw                    /boot\n  /dev/sdc1                            2.0T  42% ext4  rw                    /var/lib/mysql\n  tmpfs                                 64G   0% tmpfs rw                    /dev/shm\n# Disk Schedulers And Queue Size #############################\n        dm-0 | 128\n        dm-1 | 128\n         sda | [cfq] 128\n         sdb | [cfq] 128\n         sdc | [noop] 128\n         sr0 | [cfq] 128\n         sr1 | [cfq] 128\n# Disk Partioning ############################################\nDevice       Type      Start        End               Size\n============ ==== ========== ========== ==================\n/dev/dm-0    Disk                               2147483648\n/dev/dm-1    Disk                             397049593856\n/dev/sda     Disk                             399431958528\n/dev/sda1    Part          1         26          205632000\n/dev/sda2    Part         26      48562       399222190080\n/dev/sdc     Disk                            2796023709696\n/dev/sdc1    Part          8   15907287      2199022248960\n# Kernel Inode State #########################################\ndentry-state | 21472 14643 45 0 0 0\n     file-nr | 1392 0 12899371\n    inode-nr | 16613 1014\n# LVM Volumes ################################################\n  LV      VG        Attr   LSize   Origin Snap%  Move Log Copy%  Convert\n  lv_root vg_system -wi-ao 369.78g\n  lv_swap vg_system -wi-ao   2.00g\n# RAID Controller ############################################\n  Controller | LSI Logic MegaRAID SAS\n   RAID controller software not found; try getting it from\n   your package repository or the manufacturer's website\n# Network Config #############################################\n  Controller | Broadcom Corporation NetXtreme II BCM5708 Gigabit Ethernet (rev 12)\n  Controller | Broadcom Corporation NetXtreme II BCM5708 Gigabit Ethernet (rev 12)\n  Controller | Broadcom Corporation NetXtreme II BCM5708 Gigabit Ethernet (rev 12)\n  Controller | Broadcom Corporation NetXtreme II BCM5708 Gigabit Ethernet (rev 12)\n FIN Timeout | net.ipv4.tcp_fin_timeout = 60\n  Port Range | net.ipv4.ip_local_port_range = 32768 61000\n# Interface Statistics #######################################\n  interface  rx_bytes rx_packets  rx_errors   tx_bytes tx_packets  tx_errors\n  ========= ========= ========== ========== ========== ========== ==========\n  lo          9000000      50000          0    9000000      50000          0\n  eth0     3500000000  150000000          0  700000000  150000000          0\n  eth1        5000000      80000          0          0          0          0\n  eth2              0          0          0          0          0          0\n  eth3              0          0          0          0          0          0\n  bond0    3500000000  150000000          0  700000000  150000000          0\n# Network Connections ########################################\n<snip>\n  Connections to local IP addresses\n<snip>\n  Connections to top 10 local ports\n    199                 1\n    22                  3\n    3306                1\n    36949               1\n    38400               1\n    59033               1\n    890                 1\n  States of connections\n    ESTABLISHED        10\n    LISTEN             15\n# Top Processes ##############################################\n  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND\n11213 mysql     20   0  104g  21g 5916 S  3.8 17.1   5:33.70 mysqld\n    1 root      20   0 21288 1124  860 S  0.0  0.0   0:02.03 init\n    2 root      20   0     0    0    0 S  0.0  0.0   0:00.06 kthreadd\n    3 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 migration/0\n    4 root      20   0     0    0    0 S  0.0  0.0   0:01.61 ksoftirqd/0\n    5 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 migration/0\n    6 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 watchdog/0\n    7 root      RT   0     0    0    0 S  0.0  0.0   0:00.06 migration/1\n    8 root      RT   0     0    0    0 S  0.0  0.0   0:00.00 migration/1\n# Simplified and fuzzy rounded vmstat (wait please) ##########\n  procs  ---swap-- -----io---- ---system---- --------cpu--------\n   r  b    si   so    bi    bo     ir     cs  us  sy  il  wa  st\n   1  1     0    0   500   250      1      2   1   1  97   2   0\n   1  0     0    0  2250 12500   6000   5000   0   0  95   4   0\n   0  0     0    0   700  4000   1250   1250   0   0  99   1   0\n   0  0     0    0     0  1250    250    350   0   0 100   0   0\n   0  0     0    0     0  1250    250    350   0   0 100   0   0\n# The End ####################################################", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962213/related_tasks", 
"date_assigned": "2012-03-24T17:49:13.326539+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary 2.0.3 causes errors on RHEL 6.1", 
"title": "Bug #962213 in Percona Toolkit: \"pt-summary 2.0.3 causes errors on RHEL 6.1\"", 
"date_confirmed": "2012-03-26T21:27:17.365187+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/962213", 
"date_left_new": "2012-03-26T21:27:17.365187+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/962213", 
"milestone_link": null, 
"http_etag": "\"dcdae97be3545a4819277e1c8040a377807a8706-65652eb5fceae6e6a4cff01e2238c8a4f519e968\"", 
"owner_link": "https://api.launchpad.net/devel/~patrickzoblisein", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-06T17:30:02.101689+00:00", 
"date_fix_released": "2012-06-06T17:30:02.101689+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962213", 
"date_created": "2012-03-22T14:35:16.224603+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-summary", 
"rhel"
]
}, 
{
"date_closed": "2012-04-30T18:29:59.590510+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": null, 
"bug_id": 962305, 
"date_in_progress": null, 
"bug_description": "### Happened on: \n\n[root@<some-aws-instance> ~]# cat /etc/redhat-release \nRed Hat Enterprise Linux Server release 6.2 (Santiago)\n[root@<some-aws-instance> ~]# uname -a\nLinux <some-aws-instance> 2.6.32-220.el6.x86_64 #1 SMP Wed Nov 9 08:03:13 EST 2011 x86_64 x86_64 x86_64 GNU/Linux\n\n### This was installed from yum: \n\n[root@<some-aws-instance> ~]# rpm -qa|egrep -i 'percona|mysql'\nPercona-Server-shared-55-5.5.21-rel25.0.227.rhel6.x86_64\nPercona-Server-server-55-5.5.21-rel25.0.227.rhel6.x86_64\npercona-release-0.0-1.x86_64\nPercona-Server-client-55-5.5.21-rel25.0.227.rhel6.x86_64\n\n\n### This is what I tried to run: \n\n[root@<some-aws-instance> ~]# yum install percona-toolkit\nLoaded plugins: amazon-id, rhui-lb, security\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package percona-toolkit.noarch 0:2.0.4-1 will be installed\n--> Processing Dependency: perl(Term::ReadKey) >= 2.10 for package: percona-toolkit-2.0.4-1.noarch\n--> Processing Dependency: perl(DBD::mysql) >= 1.0 for package: percona-toolkit-2.0.4-1.noarch\n--> Running transaction check\n---> Package perl-DBD-MySQL.x86_64 0:4.013-3.el6 will be installed\n--> Processing Dependency: libmysqlclient.so.16(libmysqlclient_16)(64bit) for package: perl-DBD-MySQL-4.013-3.el6.x86_64\n--> Processing Dependency: libmysqlclient.so.16()(64bit) for package: perl-DBD-MySQL-4.013-3.el6.x86_64\n---> Package perl-TermReadKey.x86_64 0:2.30-13.el6 will be installed\n--> Running transaction check\n---> Package Percona-Server-shared-51.x86_64 0:5.1.61-rel13.2.430.rhel6 will be installed\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n==============================================================================================================================================================\n Package                                Arch                 Version                                  Repository                                         Size\n==============================================================================================================================================================\nInstalling:\n percona-toolkit                        noarch               2.0.4-1                                  percona                                           1.3 M\nInstalling for dependencies:\n Percona-Server-shared-51               x86_64               5.1.61-rel13.2.430.rhel6                 percona                                           2.8 M\n perl-DBD-MySQL                         x86_64               4.013-3.el6                              rhui-us-east-1-rhel-server-releases               134 k\n perl-TermReadKey                       x86_64               2.30-13.el6                              rhui-us-east-1-rhel-server-releases                31 k\n\nTransaction Summary\n==============================================================================================================================================================\nInstall       4 Package(s)\n\nTotal size: 4.3 M\nInstalled size: 13 M\nIs this ok [y/N]: \nDownloading Packages:\nRunning rpm_check_debug\nRunning Transaction Test\n\n\nTransaction Check Error:\n  file /usr/lib64/libmysqlclient.so from install of Percona-Server-shared-51-5.1.61-rel13.2.430.rhel6.x86_64 conflicts with file from package Percona-Server-shared-55-5.5.21-rel25.0.227.rhel6.x86_64\n  file /usr/lib64/libmysqlclient_r.so from install of Percona-Server-shared-51-5.1.61-rel13.2.430.rhel6.x86_64 conflicts with file from package Percona-Server-shared-55-5.5.21-rel25.0.227.rhel6.x86_64\n\nError Summary\n-------------", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962305/related_tasks", 
"date_assigned": "2012-04-17T21:38:27.824087+00:00", 
"bug_information_type": "Public", 
"bug_title": "percona-toolkit can't be installed from yum on RHEL 6.2 if Percona Server 5.5 is installed", 
"title": "Bug #962305 in Percona Toolkit: \"percona-toolkit can't be installed from yum on RHEL 6.2 if Percona Server 5.5 is installed\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/962305", 
"date_left_new": "2012-04-17T21:38:30.555966+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/962305", 
"milestone_link": null, 
"http_etag": "\"2b9a8dbf815cd9d5ba38fd80884030d34b5b7f4f-783e05535e36bc289413ae1c00eec4968d94de60\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/962305", 
"date_created": "2012-03-22T16:25:07.443448+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"repo"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T21:36:50.695919+00:00", 
"bug_id": 965987, 
"date_in_progress": null, 
"bug_description": "pt-table-checksum ends up in an infinite loop after a bunch of tables:\n\n<pre>\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 44 waiting for chunks\n# pt_table_checksum:7340 18166 server01 max chunk: undef\n# pt_table_checksum:7340 18166 server02 max chunk: undef\n# pt_table_checksum:7340 18166 server03 max chunk: undef\n# pt_table_checksum:7340 18166 server04 max chunk: undef\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 44.25 waiting for chunks\n# pt_table_checksum:7340 18166 server01 max chunk: undef\n# pt_table_checksum:7340 18166 server02 max chunk: undef\n# pt_table_checksum:7340 18166 server03 max chunk: undef\n# pt_table_checksum:7340 18166 server04 max chunk: undef\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 44.5 waiting for chunks\n# pt_table_checksum:7340 18166 server01 max chunk: undef\n# pt_table_checksum:7340 18166 server02 max chunk: undef\n# pt_table_checksum:7340 18166 server03 max chunk: undef\n# pt_table_checksum:7340 18166 server04 max chunk: undef\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 44.75 waiting for chunks\n# pt_table_checksum:7340 18166 server01 max chunk: undef\n# pt_table_checksum:7340 18166 server02 max chunk: undef\n# pt_table_checksum:7340 18166 server03 max chunk: undef\n# pt_table_checksum:7340 18166 server04 max chunk: undef\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 45 waiting for chunks\n# pt_table_checksum:7340 18166 server01 max chunk: undef\n# pt_table_checksum:7340 18166 server02 max chunk: undef\n# pt_table_checksum:7340 18166 server03 max chunk: undef\n# pt_table_checksum:7340 18166 server04 max chunk: undef\nWaiting to check replicas for differences:   0% 00:00 remain\n# pt_table_checksum:7367 18166 Sleep 45.25 waiting for chunks\n</pre>\n\nThen when breaking with CTRL+C:\n<pre>\n# Caught SIGINT.\n# RowChecksum:3483 18166 SELECT CONCAT(db, '.', tbl) AS `table`, chunk, chunk_index, lower_boundary, upper_boundary, COALESCE(this_cnt-master_cnt, 0) AS cnt_diff, COALESCE(this_crc <> master_crc OR ISNULL(master_crc) <> ISNULL(this_crc), 0) AS crc_diff, this_cnt, master_cnt, this_crc, master_crc FROM `test`.`checksum` WHERE (master_cnt <> this_cnt OR master_crc <> this_crc OR ISNULL(master_crc) <> ISNULL(this_crc)) AND (db='mysql' AND tbl='columns_priv')\n# pt_table_checksum:6667 18166 0 checksum diffs on server01\n# RowChecksum:3483 18166 SELECT CONCAT(db, '.', tbl) AS `table`, chunk, chunk_index, lower_boundary, upper_boundary, COALESCE(this_cnt-master_cnt, 0) AS cnt_diff, COALESCE(this_crc <> master_crc OR ISNULL(master_crc) <> ISNULL(this_crc), 0) AS crc_diff, this_cnt, master_cnt, this_crc, master_crc FROM `test`.`checksum` WHERE (master_cnt <> this_cnt OR master_crc <> this_crc OR ISNULL(master_crc) <> ISNULL(this_crc)) AND (db='mysql' AND tbl='columns_priv')\n# pt_table_checksum:6667 18166 0 checksum diffs on server02\n# RowChecksum:3483 18166 SELECT CONCAT(db, '.', tbl) AS `table`, chunk, chunk_index, lower_boundary, upper_boundary, COALESCE(this_cnt-master_cnt, 0) AS cnt_diff, COALESCE(this_crc <> master_crc OR ISNULL(master_crc) <> ISNULL(this_crc), 0) AS crc_diff, this_cnt, master_cnt, this_crc, master_crc FROM `test`.`checksum` WHERE (master_cnt <> this_cnt OR master_crc <> this_crc OR ISNULL(master_crc) <> ISNULL(this_crc)) AND (db='mysql' AND tbl='columns_priv')\n# pt_table_checksum:6667 18166 0 checksum diffs on server03\n# RowChecksum:3483 18166 SELECT CONCAT(db, '.', tbl) AS `table`, chunk, chunk_index, lower_boundary, upper_boundary, COALESCE(this_cnt-master_cnt, 0) AS cnt_diff, COALESCE(this_crc <> master_crc OR ISNULL(master_crc) <> ISNULL(this_crc), 0) AS crc_diff, this_cnt, master_cnt, this_crc, master_crc FROM `test`.`checksum` WHERE (master_cnt <> this_cnt OR master_crc <> this_crc OR ISNULL(master_crc) <> ISNULL(this_crc)) AND (db='mysql' AND tbl='columns_priv')\n# pt_table_checksum:6667 18166 0 checksum diffs on server04\n03-27T08:34:15      0      0        0       1       0 8120.737 mysql.columns_priv\n# OobNibbleIterator:4302 18166 Finish nibble_sth\n# OobNibbleIterator:4302 18166 Finish explain_nibble_sth\n# pt_table_checksum:6805 18166 Exit status 1 oktorun 0\n# Cxn:1514 18166 Disconnecting dbh DBI::db=HASH(0x1b4426a0) undef\n# Cxn:1514 18166 Disconnecting dbh DBI::db=HASH(0x1b442360) undef\n# Cxn:1514 18166 Disconnecting dbh DBI::db=HASH(0x1afe0bf0) undef\n# Cxn:1514 18166 Disconnecting dbh DBI::db=HASH(0x1b3fba50) undef\n# Cxn:1514 18166 Disconnecting dbh DBI::db=HASH(0x1afe0c10) undef\n</pre>\n\nThe original command line is:\n# PTDEBUG=1 pt-table-checksum --empty-replicate-table -umaatkit --ask-pass --replicate=test.checksum --recurse=1 --max-lag=1h --no-check-replication-filters 192.168.1.1\n\nsome more info:\n<pre>\n[~] $ uname -a\nLinux server0 2.6.18-274.17.1.el5 #1 SMP Tue Jan 10 17:25:58 EST 2012 x86_64 x86_64 x86_64 GNU/Linux\n[~] $ date\nTue Mar 27 08:36:38 BST 2012\n[~] $ lsb_release -a\nLSB Version:    :core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nDistributor ID: CentOS\nDescription:    CentOS release 5.8 (Final)\nRelease:        5.8\nCodename:       Final\n[~] $ yum list installed | grep perl\nperl.x86_64                               4:5.8.8-38.el5               installed\nperl-Algorithm-Diff.noarch                1.1902-1.el5.rf              installed\nperl-Class-Singleton.noarch               1.4-1.el5.rf                 installed\nperl-DBD-MySQL.x86_64                     3.0007-2.el5                 installed\nperl-DBI.x86_64                           1.52-2.el5                   installed\nperl-Git.x86_64                           1.7.8.2-2.el5.rf             installed\nperl-Log-Log4perl.noarch                  1.26-1.el5.rf                installed\nperl-Proc-Daemon.noarch                   0.03-1.2.el5.rf              installed\nperl-String-CRC32.x86_64                  1.4-2.fc6                    installed\nperl-TermReadKey.x86_64                   2.30-3.el5.rf                installed\n[~] $ yum list installed | grep percona\npercona-release.x86_64                    0.0-1                        installed\npercona-toolkit.noarch                    2.0.4-1                      installed\n</pre>", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/965987/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum gets stuck in \"Waiting to check replicas for differences:   0% 00:00 remain\"", 
"title": "Bug #965987 in Percona Toolkit: \"pt-table-checksum gets stuck in \"Waiting to check replicas for differences:   0% 00:00 remain\"\"", 
"date_confirmed": "2012-04-17T21:36:50.695919+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/965987", 
"date_left_new": "2012-04-17T21:36:50.695919+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/965987", 
"milestone_link": null, 
"http_etag": "\"fb5c77a9bd4d5caf20dff0e076a792a90a02834d-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~walterheck", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/965987", 
"date_created": "2012-03-27T07:38:01.781008+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"infinite-loop", 
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-06-11T15:46:56.901332+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T21:36:07.391669+00:00", 
"bug_id": 966703, 
"date_in_progress": "2012-06-11T15:46:56.901332+00:00", 
"bug_description": "localhost:/home/percona# ./pt-summary >/dev/null \n./pt-summary: 1229: df -h -P: not found\n./pt-summary: 1229: top -bn 1: not found\nlocalhost:/home/percona# \n\nThis change makes it work in this system (Debian 6.0.4): \n\nlocalhost:/home/percona# diff -e pt-summary pt-summary-patched \n1202c\n         eval $cmd | sed -e 's# *$##g' -e '/./{H;$!d;}' -e 'x;/PID/!d;' | grep . | head\n.\n1065c\n         eval $cmd | sort > $TMPDIR/percona-toolkit2\n.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/966703/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-summary outputs an error instead of running df -h -P and top -bn 1", 
"title": "Bug #966703 in Percona Toolkit: \"pt-summary outputs an error instead of running df -h -P and top -bn 1\"", 
"date_confirmed": "2012-04-17T21:36:07.391669+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/966703", 
"date_left_new": "2012-04-17T21:36:07.391669+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/966703", 
"milestone_link": null, 
"http_etag": "\"e80d77fd979936349a768f1486a0e057b72b7f94-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T15:46:56.901332+00:00", 
"date_fix_released": "2012-06-11T15:46:56.901332+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/966703", 
"date_created": "2012-03-27T23:56:05.167387+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"debian", 
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 968596, 
"date_in_progress": null, 
"bug_description": "In looking at the query log for the upcoming 2.1 version of pt-online-schema-change, between each nibble I see the following strange pattern of duplicated queries apparently doing the same thing, but not quite (notice the offset/limit):\n\n# Query_time: 0.000415  Lock_time: 0.000035 Rows_sent: 1  Rows_examined: 0\nSET timestamp=1333052916;\nEXPLAIN SELECT /*!40001 SQL_NO_CACHE */ `actor_id`, `actor_id`, `film_id` FROM `sakila`.`film_actor` FORCE INDEX(`PRIMARY`) WHERE ((`actor_id` > '1') OR (`actor_id` = '1' AND `film_id` >= '1')) ORDER BY `actor_id`, `film_id` LIMIT 100, 2 /*next chunk boundary*/;\n# User@Host: msandbox[msandbox] @ localhost [127.0.0.1]\n# Query_time: 0.000312  Lock_time: 0.000031 Rows_sent: 2  Rows_examined: 101\nSET timestamp=1333052916;\nSELECT /*!40001 SQL_NO_CACHE */ `actor_id`, `actor_id`, `film_id` FROM `sakila`.`film_actor` FORCE INDEX(`PRIMARY`) WHERE ((`actor_id` > '1') OR (`actor_id` = '1' AND `film_id` >= '1')) ORDER BY `actor_id`, `film_id` LIMIT 99, 2 /*next chunk boundary*/;\n\nThis is with --chunk-size=100 explicitly set:\n\n./pt-online-schema-change --execute --alter 'add baron int' D=sakila,t=film_actor,P=12345 --alter-foreign-keys-method=auto --chunk-size=100", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968596/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change slightly different nibble queries", 
"title": "Bug #968596 in Percona Toolkit: \"pt-online-schema-change slightly different nibble queries\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/968596", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/968596", 
"milestone_link": null, 
"http_etag": "\"9b0c2053f5e953b06aa9f3a46f4d11701290078f-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/968596", 
"date_created": "2012-03-29T20:39:26.888000+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"nibbler", 
"pt-online-schema-change", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-04-17T21:32:18.146420+00:00", 
"bug_id": 972999, 
"date_in_progress": null, 
"bug_description": "# Processor ##################################################\n  Processors | physical = 1, cores = 4, virtual = 8, hyperthreading = yes\n      Speeds | 7x1600.000, 1x2200.000\n      Models | 8xIntel(R) Xeon(R) CPU E31230 @ 3.20GHz\n      Caches | 8x8192 KB\n\n# Processor ##################################################\n  Processors | physical = 1, cores = 4, virtual = 8, hyperthreading = yes\n      Speeds | 6x1600.000, 2x3201.000\n      Models | 8xIntel(R) Xeon(R) CPU E31230 @ 3.20GHz\n      Caches | 8x8192 KB\n\n# Processor ##################################################\n  Processors | physical = 1, cores = 4, virtual = 8, hyperthreading = yes\n      Speeds | 8x1600.000\n      Models | 8xIntel(R) Xeon(R) CPU E31230 @ 3.20GHz\n      Caches | 8x8192 KB\n\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n[root@forge bin]# cat /proc/cpuinfo |awk -F: '/cpu MHz/{print $2}'|sort | uniq -c\n      8  1600.000\n\n[root@forge bin]# tail pt-summary \nthis program; if not, write to the Free Software Foundation, Inc., 59 Temple\nPlace, Suite 330, Boston, MA  02111-1307  USA.\n\n=head1 VERSION\n\npt-summary 2.0.4\n\n=cut\n\nDOCUMENTATION", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/972999/related_tasks", 
"date_assigned": "2012-08-27T05:39:40.630149+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-summary Reports Unstable CPU Speeds", 
"title": "Bug #972999 in Percona Toolkit: \"pt-summary Reports Unstable CPU Speeds\"", 
"date_confirmed": "2012-04-17T21:32:18.146420+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/972999", 
"date_left_new": "2012-04-17T21:32:18.146420+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/972999", 
"milestone_link": null, 
"http_etag": "\"5e5c447da9453abf70972b62fe5fedd7e9e05faf-27d936e9122aee8f867d496bf092d5c9ab2aeae1\"", 
"owner_link": "https://api.launchpad.net/devel/~revin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/972999", 
"date_created": "2012-04-04T01:15:47.591038+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-summary", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 976179, 
"date_in_progress": null, 
"bug_description": "pt-stalk runs \"top -bn1\" which means that a single iteration of top is ran.  The result is that top can't calculate a useful CPU usage because it needs a basis of comparison.  From https://bugzilla.redhat.com/show_bug.cgi?id=174619 we read:\n\nThe top command calculates %CPU by looking at the change in CPU time values between samples. When you first run it, it has no previous sample to compare to, so these initial values are the percentages since boot. It means you need at least two loops.\n\nMichael discovered this because he specifically wanted historical CPU usage, knowing that it was running high, but the collected top output from pt-stalk was only showing 6% CPU usage--way below reality.\n\nPerhaps we need to run \"top -bn$OPT_RUN_TIME\".", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976179/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk top CPU usage is useless", 
"title": "Bug #976179 in Percona Toolkit: \"pt-stalk top CPU usage is useless\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/976179", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/976179", 
"milestone_link": null, 
"http_etag": "\"214e8ed905ef42cd3269cb710de8b7bff8ead2df-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/976179", 
"date_created": "2012-04-07T20:13:31.375357+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-04-17T21:14:23.708390+00:00", 
"bug_id": 982381, 
"date_in_progress": null, 
"bug_description": "I am running into an issue that was mentioned at the end of http://code.google.com/p/maatkit/issues/detail?id=95.\n\nI am using pt-table-sync to sync 2 tables in a nightly cronjob and would prefer to run it as a non-root user.  The 2 tables/databases are not using replication so I'm not concerned with the binary log in this particular scenario.  When I run the following:\n\npt-table-sync --dry-run --execute h=localhost,P=3306,u=test,p=test,D=db1,t=table1 D=db2\n\nI receive the error:\n\n---\nDBD::mysql::db do failed: Access denied; you need (at least one of) the SUPER privilege(s) for this operation at /usr/bin/pt-table-sync line 8676.\nIssuing rollback() for database handle being DESTROY'd without explicit disconnect().\n---\n\nTo get around it, I commented out line 8676 in /usr/bin/pt-table-sync, but then I get a 2nd error:\n\n---\nAccess denied; you need (at least one of) the SUPER,REPLICATION CLIENT privilege(s) for this operation [for Statement \"SHOW SLAVE STATUS\"] at line 6165 while doing db2.table1 on localhost\n---\n\nI can get around that too by commenting out lines, but is there a better workaround or could something be built into pt-table-sync to support this use case?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/982381/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "errors running pt-table-sync as non-root", 
"title": "Bug #982381 in Percona Toolkit: \"errors running pt-table-sync as non-root\"", 
"date_confirmed": "2012-04-17T21:14:23.708390+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/982381", 
"date_left_new": "2012-04-17T21:14:23.708390+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/982381", 
"milestone_link": null, 
"http_etag": "\"a90d1f4c17b93a2bb8f56d0803742aa543fae3b5-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~ryan-brothers", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/982381", 
"date_created": "2012-04-15T15:01:09.749582+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"privs", 
"pt-table-sync"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 983191, 
"date_in_progress": null, 
"bug_description": "Advise for query:\n\nSELECT id,UNIX_TIMESTAMP(some_column)\nFROM some_table WHERE ip=INET_ATON('111.111.111.111')\n\nincorrectly suggests that IP-numbers should be stored as integers, which is already the case. \nThe tools suggest conversion to integer by use of INET_ATON(), which is already present in the query.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/983191/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Wrong advise regarding IP-addresses", 
"title": "Bug #983191 in Percona Toolkit: \"Wrong advise regarding IP-addresses\"", 
"date_confirmed": "2012-04-17T21:08:11.498165+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/983191", 
"date_left_new": "2012-04-17T21:08:11.498165+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/983191", 
"milestone_link": null, 
"http_etag": "\"f7662979580dc4c8cc9e8150d5460c28f7e4250a-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~miguel.trias", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/983191", 
"date_created": "2012-04-16T15:53:00.446095+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": "2012-04-18T17:50:03.112250+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 984739, 
"date_in_progress": null, 
"bug_description": "pt-online-schema-change 2.1 has no --bin-log options, but now has extra options so that slave/replication lag can be monitored.\n\nHowever, it does not now seem possible to (if necessary) disable writing the binlog information, even if by default this probably works fine.  Is this now no longer possible? If not I can think of situations where disabling writing to binlogs may be required.\n\nThe documentation does not seem clear about this.\n\nCurrently using:\n\n[root@myserver ~]# rpm -q percona-toolkit\npercona-toolkit-2.0.3-1\n\nComparing against the pt-online-schema-change in: percona-toolkit-2.1.1-1.noarch.rpm", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984739/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change in 2.1 has no --bin-log option", 
"title": "Bug #984739 in Percona Toolkit: \"pt-online-schema-change in 2.1 has no --bin-log option\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/984739", 
"date_left_new": "2012-04-18T17:22:32.732788+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984739", 
"milestone_link": null, 
"http_etag": "\"95f62697452d137b53076ccd3ea2b1545819a07d-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984739", 
"date_created": "2012-04-18T10:20:50.791561+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"log-bin", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-04-18T17:27:35.103583+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 984753, 
"date_in_progress": null, 
"bug_description": "I have a table configured roughly as follows:\n\n CREATE TABLE `mytable` (\n  `pk_id` int(10) unsigned NOT NULL,\n  ...\n  PRIMARY KEY (`pk_id`),\n  ...\n) ENGINE=InnoDB DEFAULT CHARSET=latin1\n\nHowever, the primary key is not contiguous. For various reasons it consists of batches of ids spread between MIN(pk_id) and MAX(pk_id), something like:\n\n1000,1001,1002,1003,...1099, 12000,12001,12002,12003,...12099, .....\n\nWhen running pt-online-schema change as follows (with sleeps) I see:\n\n... -s 0.2 -d mydb -t mytable -a \"add new_column some_column_name tinyint UNSIGNED default 0\" -R\n\n...\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n# pt_online_schema_change:4262 19225 Sleep time: 0.2\n...\n\nThat is it looks like the script starts from the beginning and does the chunking but does not check if 0 rows were changed/modified/etc in that chunk, so when there is a gap, it repeatedly moves in \"chunk size\" values up but never actually makes any changes, and at the same time DOES sleep.\n\nThat's wasteful (in time). The script will eventually finish but takes longer to run than necessary. This is with:\n\n[root@myserver ~]# rpm -q percona-toolkit\npercona-toolkit-2.0.3-1\n\nI had a quick look at the 2.1 version and a quick glance of the diff did not seem to show that the chunking mechanism works any differently (perhaps I'm wrong).\n\nSuggestion (at least when using single column PKs):\n\nIf no rows are changed when processing the chunk, look for the next lowest id values higher than the largest pk value of the chunk you have just processed, and continue from that position.  The other option would be not to sleep if no rows are processed but that may generate a high cpu spike while trying to go through a gap so may not be a good solution.\n\nSo if not fixed in 2.1 please consider this an issue.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984753/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change does not work well when there are gaps in the PK column", 
"title": "Bug #984753 in Percona Toolkit: \"pt-online-schema-change does not work well when there are gaps in the PK column\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/984753", 
"date_left_new": "2012-04-18T17:27:35.103583+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/984753", 
"milestone_link": null, 
"http_etag": "\"acad25d3a86c9d3bef599ba91f820fb124ea05eb-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/984753", 
"date_created": "2012-04-18T10:35:47.470799+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-04-20T10:15:52.461221+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 985925, 
"date_in_progress": null, 
"bug_description": "No version number found\nServer version: 5.1.61-0ubuntu0.10.04.1 (Ubuntu)\n\nIn the following example,  the field 'id' is displayed in the first command but when piped to pt-align the field (as well as the column titles) are not.\n\njackson@jackson-laptop:~$ mysql -uroot PRESSTEK_SHOP_DEV -Be 'desc exceptions'\nField\tType\tNull\tKey\tDefault\tExtra\nid\tint(10) unsigned\tNO\tPRI\tNULL\tauto_increment\nitem_type\tenum('part_number','productline_minor','vendorid')\tYES\t\tNULL\t\nitem_value\tchar(20)\tYES\t\tNULL\t\ncustomer_type\tenum('account_number','customer_class')\tYES\t\tNULL\t\ncustomer_value\tchar(20)\tYES\t\tNULL\t\nname\tchar(30)\tYES\t\tNULL\t\ncreated_by\tchar(35)\tYES\t\tNULL\t\ncreated\tdatetime\tYES\t\tNULL\t\nlast_modified_by\tchar(35)\tYES\t\tNULL\t\nmodified\ttimestamp\tNO\t\tCURRENT_TIMESTAMP\ton update CURRENT_TIMESTAMP\ncompany_code\tchar(2)\tYES\t\tNULL\t\njackson@jackson-laptop:~$ mysql -uroot PRESSTEK_SHOP_DEV -Be 'desc exceptions' | pt-align \nitem_type        enum('part_number','productline_minor','vendorid') YES NULL\nitem_value       char(20)                                           YES NULL\ncustomer_type    enum('account_number','customer_class')            YES NULL\ncustomer_value   char(20)                                           YES NULL\nname             char(30)                                           YES NULL\ncreated_by       char(35)                                           YES NULL\ncreated          datetime                                           YES NULL\nlast_modified_by char(35)                                           YES NULL\ncompany_code     char(2)                                            YES NULL", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/985925/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-align does not show all the fields", 
"title": "Bug #985925 in Percona Toolkit: \"pt-align does not show all the fields\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/985925", 
"date_left_new": "2012-04-20T10:15:52.461221+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/985925", 
"milestone_link": null, 
"http_etag": "\"065f650bf7341cd9451a25155b6a3e712b16cde3-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~kjackson7-93", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/985925", 
"date_created": "2012-04-19T22:13:12.018597+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-03T20:21:17.677807+00:00", 
"bug_id": 986847, 
"date_in_progress": null, 
"bug_description": "in pt-stalk, iostat is launched with flags 'dx'.\n\nWhen MySQL datadir is on NFS, iostat usage is not reported because iostat needs flag 'n' to report NFS volumes.\n\nHow to fix :\n\nadd -n  to each call to iostat binary.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/986847/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk does not report NFS iostat", 
"title": "Bug #986847 in Percona Toolkit: \"pt-stalk does not report NFS iostat\"", 
"date_confirmed": "2012-05-03T20:21:17.677807+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/986847", 
"date_left_new": "2012-05-03T20:21:17.677807+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/986847", 
"milestone_link": null, 
"http_etag": "\"e6eb66b11908bae0b92de487a74e3eb69303c33f-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~odoucet", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/986847", 
"date_created": "2012-04-22T13:14:24.806568+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk", 
"sys-cmd"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-03T20:34:21.180703+00:00", 
"bug_id": 987495, 
"date_in_progress": null, 
"bug_description": "I keep running into the test that checks if the number of rows on the slave is not too different from the number of rows on the master:\n\n04-23T02:30:33 Skipping table aal.it_attachment because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  57328 rows on piro.ii.nl\nThe current chunk size limit is 42938 rows (chunk size=21469 * chunk size limit=2.0).\n04-23T03:21:59 Skipping table coe.blob because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  14154 rows on erika.ii.nl\n  51916 rows on piro.ii.nl\nThe current chunk size limit is 11924 rows (chunk size=5962 * chunk size limit=2.0).\n04-23T04:03:20 Skipping table ncd.tAdres because on the master it would be checksummed in one chunk but on these replicas it has too many rows:\n  21899 rows on erika.ii.nl\n  22069 rows on piro.ii.nl\nThe current chunk size limit is 20902 rows (chunk size=10451 * chunk size limit=2.0).\npt-table-checksum failed\n\nI've already had a discussion with Baron on percona-discussion about this (subject 'pt-table-checksum and chunking', please see that for history), this is the current invocation:\n\npt-table-checksum --recursion-method dsn=h=127.0.0.1,P=3306,D=maatkit,t=pt_check_slave_delay_dsns --function MURMUR_HASH --replicate maatkit.pt_checksum --ignore-tables \"$ignore_tables,security_log\" --ignore-databases \"$ignore_databases,mysql,maatkit\" --no-check-replication-filters --chunk-time 0.25 $quiet --max-lag 600 h=127.0.0.1,P=3306", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987495/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum: Switch to disable #-of-rows checks on slaves", 
"title": "Bug #987495 in Percona Toolkit: \"pt-table-checksum: Switch to disable #-of-rows checks on slaves\"", 
"date_confirmed": "2012-05-03T20:34:21.180703+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/987495", 
"date_left_new": "2012-05-03T20:34:21.180703+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/987495", 
"milestone_link": null, 
"http_etag": "\"2ced143c10b071d977ea223aaaf803b43b900e75-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~bugzilla-ii", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/987495", 
"date_created": "2012-04-23T19:49:21.551575+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"chunking", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 988928, 
"date_in_progress": null, 
"bug_description": "if any request has an value slowlog attribute  Tmp_table_sizes  > 2 ^ 32 (ie 2 ^ 32 +1), then pt-query-digest in the report shows:\n\nAttribute     pct total min max avg 95% stddev median\nTmp tbl size 0            0     0        0     0       0             0               0\n\ncommand line:\npt-query-digest --explain h=localhost,D=db,F=./db.cfg  --nofor-explain --report-format query_report --type slowlog \\\n        --fingerprints --group-by fingerprint  --order-by Tmp_table_sizes:max   --limit '100%'  slowlog\n\nVersions:\npercona-toolkit  2.1.1 \nmysql 5.1.59-rel13.0-325.lenny\nOS Debian 5.0.10 amd64\n\nTest slowlog:\n\n# User@Host: test[test] @ localhost [127.0.0.1]\n# Thread_id: 43782952  Schema: db  Last_errno: 0  Killed: 0\n# Query_time: 116.945246  Lock_time: 0.000101  Rows_sent: 50  Rows_examined: 28892915  Rows\n# Bytes_sent: 21341  Tmp_tables: 1  Tmp_disk_tables: 1  Tmp_table_sizes: 4294967297\n# InnoDB_trx_id: 1F22C67C9\n# QC_Hit: No  Full_scan: Yes  Full_join: No  Tmp_table: Yes  Tmp_table_on_disk: Yes\n# Filesort: Yes  Filesort_on_disk: Yes  Merge_passes: 26\n#   InnoDB_IO_r_ops: 0  InnoDB_IO_r_bytes: 0  InnoDB_IO_r_wait: 0.000000\n#   InnoDB_rec_lock_wait: 0.000000  InnoDB_queue_wait: 0.000000\n#   InnoDB_pages_distinct: 64591\nSET timestamp=1335268230;\nselect * FROM test.\n\noutput:\n\n# Query 1: 0 QPS, 0x concurrency, ID 0x321B2DD737365711 at byte 0 ________\n# This item is included in the report because it matches --limit.\n# Scores: Apdex = 0.00 [1.0]*, V/M = 0.00\n# EXPLAIN sparkline: a\n# Query_time sparkline: |       ^|\n# Attribute    pct   total     min     max     avg     95%  stddev  median\n# ============ === ======= ======= ======= ======= ======= ======= =======\n# Count        100       1\n# Exec time    100    117s    117s    117s    117s    117s       0    117s\n# Lock time    100   101us   101us   101us   101us   101us       0   101us\n# Rows sent    100      50      50      50      50      50       0      50\n# Rows examine 100  27.55M  27.55M  27.55M  27.55M  27.55M       0  27.55M\n# Rows affecte   0       0       0       0       0       0       0       0\n# Rows read      0       0       0       0       0       0       0       0\n# Bytes sent   100  20.84k  20.84k  20.84k  20.84k  20.84k       0  20.84k\n# Merge passes 100      26      26      26      26      26       0      26\n# Tmp tables   100       1       1       1       1       1       0       1\n# Tmp disk tbl 100       1       1       1       1       1       0       1\n# Tmp tbl size   0       0       0       0       0       0       0       0\n# Query size   100      23      23      23      23      23       0      23\n# InnoDB:\n# IO r bytes     0       0       0       0       0       0       0       0\n# IO r ops       0       0       0       0       0       0       0       0\n# IO r wait      0       0       0       0       0       0       0       0\n# pages distin 100  63.08k  63.08k  63.08k  63.08k  63.08k       0  63.08k\n# queue wait     0       0       0       0       0       0       0       0\n# rec lock wai   0       0       0       0       0       0       0       0\n# Boolean:\n# Filesort     100% yes,   0% no\n# Filesort on  100% yes,   0% no\n# Full scan    100% yes,   0% no\n# Tmp table    100% yes,   0% no\n# Tmp table on 100% yes,   0% no\n# String:\n# Databases    db\n# Hosts        localhost\n# InnoDB trxID 1F22C67C9\n# Last errno   0\n# Users        test\n# Query_time distribution\n#   1us\n#  10us\n# 100us\n#   1ms\n#  10ms\n# 100ms\n#    1s\n#  10s+  ################################################################\n# Fingerprint\n#    select * from test\n# EXPLAIN /*!50100 PARTITIONS*/\nselect * FROM test \\G\n# *************************** 1. row ***************************\n#            id: 1\n#   select_type: SIMPLE\n#         table: test\n#    partitions: NULL\n#          type: ALL\n# possible_keys: NULL\n#           key: NULL\n#       key_len: NULL\n#           ref: NULL\n#          rows: 8531893\n#         Extra:", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/988928/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest doesn't understand Tmp_table_sizes > 2^32", 
"title": "Bug #988928 in Percona Toolkit: \"pt-query-digest doesn't understand Tmp_table_sizes > 2^32\"", 
"date_confirmed": "2012-04-26T15:42:29.532536+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/988928", 
"date_left_new": "2012-04-26T15:42:29.532536+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/988928", 
"milestone_link": null, 
"http_etag": "\"d0237f7693e93f4e135f877ad8a515a1f37f286c-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~a-sedlov", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/988928", 
"date_created": "2012-04-26T15:11:54.969135+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": "2012-05-03T20:52:00.377830+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 989951, 
"date_in_progress": null, 
"bug_description": "Several Percona Toolkit scripts are using bash as programming language.\n\nFor them, PTDEBUG env var is not used, but sometimes it could be useful to know what the tool is doing (to debug things like https://bugs.launchpad.net/percona-toolkit/+bug/986151).\n\nAdding the following line may provide a simple debug, to show everything executed : \n\n\nif [ \"$PTDEBUG\" == \"1\" ]; then\n   set -x\nfi\n\n\n\nThis could be added in all bash scripts in Percona Toolkit.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/989951/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "adding support for PTDEBUG on bash scripts", 
"title": "Bug #989951 in Percona Toolkit: \"adding support for PTDEBUG on bash scripts\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/989951", 
"date_left_new": "2012-05-03T20:52:00.377830+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/989951", 
"milestone_link": null, 
"http_etag": "\"ad023460f3b5e4f95ac755e820e110e341b422b8-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~odoucet", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/989951", 
"date_created": "2012-04-27T17:37:36.859526+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"shell-tools"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 991975, 
"date_in_progress": null, 
"bug_description": "A customer found that if the report has, for example, 100 queries, the review tables may only contain 30 queries.  Using --limit 100% made the two counts match.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/991975/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest --limit applies differently to report and review", 
"title": "Bug #991975 in Percona Toolkit: \"pt-query-digest --limit applies differently to report and review\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/991975", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/991975", 
"milestone_link": null, 
"http_etag": "\"7a430238462d331ded2e49643776d0b7b66cb05e-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/991975", 
"date_created": "2012-04-30T14:12:55.854916+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"query-review"
]
}, 
{
"date_closed": "2012-05-03T14:55:04.068058+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 993983, 
"date_in_progress": null, 
"bug_description": "Hi\nWhen breaking the osc before finish, we end up with 3 extra triggers (ins/del/upd) \nwe can drop the triggers manually, but it would be nice to have the old functionality of cleanup-and-exit parameter.\n\n\nRegards,\nGuy", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/993983/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change 2.1.1 no clean and exit", 
"title": "Bug #993983 in Percona Toolkit: \"pt-online-schema-change 2.1.1 no clean and exit\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/993983", 
"date_left_new": "2012-05-03T14:55:04.068058+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/993983", 
"milestone_link": null, 
"http_etag": "\"c896d4089439b780e1406c25aab0c9452aeea6c8-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~metalink", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/993983", 
"date_created": "2012-05-03T13:45:22.982281+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 995896, 
"date_in_progress": null, 
"bug_description": "This code shouldn't use `cat`:\n\nsub check_PID_file {\n   my ( $self, $file ) = @_;\n   my $PID_file = $self ? $self->{PID_file} : $file;\n   PTDEBUG && _d('Checking PID file', $PID_file);\n   if ( $PID_file && -f $PID_file ) {\n      my $pid;\n      eval { chomp($pid = `cat $PID_file`); };\n      die \"Cannot cat $PID_file: $OS_ERROR\" if $EVAL_ERROR;\n\nThat won't work on Windows, and there's no real reason for it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/995896/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Useless use of cat in Daemon.pm", 
"title": "Bug #995896 in Percona Toolkit: \"Useless use of cat in Daemon.pm\"", 
"date_confirmed": "2012-05-08T14:42:25.097000+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/995896", 
"date_left_new": "2012-05-08T14:42:25.097000+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/995896", 
"milestone_link": null, 
"http_etag": "\"56e69d56ad4cbe585d38f9dd03b1d15043aced77-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/995896", 
"date_created": "2012-05-07T11:16:16.613364+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"useless-work", 
"windows"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-08T14:43:01.864688+00:00", 
"bug_id": 996069, 
"date_in_progress": null, 
"bug_description": "The following query incorrectly triggers RES.001\n\nSELECT cola, MAX(colb) FROM table WHERE cola = 123 GROUP BY cola;\n\nAll the aggregate functions I've tested seem to result in the same incorrect RES.001 trigger.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996069/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Incorrect RES.001", 
"title": "Bug #996069 in Percona Toolkit: \"Incorrect RES.001\"", 
"date_confirmed": "2012-05-08T14:43:01.864688+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/996069", 
"date_left_new": "2012-05-08T14:43:01.864688+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996069", 
"milestone_link": null, 
"http_etag": "\"7041f5ac69c14d89d10de8295c54507e517dcbbd-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~kormoc", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996069", 
"date_created": "2012-05-07T17:37:05.563866+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-09T13:34:20.703311+00:00", 
"bug_id": 996649, 
"date_in_progress": null, 
"bug_description": "This seems like a reason not to use the enhanced slow query log with pt-query-digest.  The slow log I am looking at has SET timestamp= before each query.  Can that be used to get timing information?\n\nIf not, can/should a datestamp be added to the enhanced stats so pt-query-digest can get all this info?", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996649/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest QPS, concurrency and other time-related stats don't work on Percona Server enhanced slow logs", 
"title": "Bug #996649 in Percona Toolkit: \"pt-query-digest QPS, concurrency and other time-related stats don't work on Percona Server enhanced slow logs\"", 
"date_confirmed": "2012-05-09T13:34:20.703311+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/996649", 
"date_left_new": "2012-05-09T13:34:20.703311+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996649", 
"milestone_link": null, 
"http_etag": "\"868499f7e5d933abfbab01e649fbbcdd67d14120-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996649", 
"date_created": "2012-05-08T17:11:46.842635+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"percona-server", 
"pt-query-advisor"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-09T13:36:46.207045+00:00", 
"bug_id": 996730, 
"date_in_progress": null, 
"bug_description": "When using 2.1.1 of the tool I had an issue with it not finding the primary key. The only way I could get it to use the simple numeric PK was by doing 2 things\n\n1. changing the index detection query ti \"select id from <tbl_name> where 1=1\"...obviously that only worked because my primary key IS 'ID'\n2. Also passing --chunk-index=Primary\n\ndoing #1 without #2 made it try to use a non unique other index which of course, at the copy data part.\nDoing just #2 (as some bug in pt-tablechecksum indicates) just fails with this error\n\"Use of uninitialized value in string eq at /usr/bin/pt-online-schema-change line 2192.\"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996730/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change not finding primary key", 
"title": "Bug #996730 in Percona Toolkit: \"pt-online-schema-change not finding primary key\"", 
"date_confirmed": "2012-05-09T13:36:42.841829+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/996730", 
"date_left_new": "2012-05-09T13:36:42.841829+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/996730", 
"milestone_link": null, 
"http_etag": "\"bf1d2cfa359a3a94ead5204541df47450717df6a-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~silviamikhail", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/996730", 
"date_created": "2012-05-08T19:55:12.082607+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-09T13:33:10.169051+00:00", 
"bug_id": 997072, 
"date_in_progress": null, 
"bug_description": "# Query 15: 0 QPS, 0x concurrency, ID 0x44AE35A182869033 at byte 198286001\n# This item is included in the report because it matches --limit.\n# Scores: Apdex = 1.00 [1.0], V/M = 0.00\n# Query_time sparkline: | ^_     |\n# Attribute    pct   total     min     max     avg     95%  stddev  median\n# ============ === ======= ======= ======= ======= ======= ======= =======\n# Count         18  148716\n# Exec time      1      5s    15us   319us    33us    40us     5us    31us\n# Lock time      0       0       0       0       0       0       0       0\n# Rows sent      0       0       0       0       0       0       0       0\n# Rows examine   0       0       0       0       0       0       0       0\n# Rows affecte   0       0       0       0       0       0       0       0\n# Rows read      0       0       0       0       0       0       0       0\n# Bytes sent    83   1.91T       0   4.00G  13.46M  102.22 202.06M  102.22\n# Merge passes  49 339.37G       0   4.00G   2.34M    0.99  69.64M       0\n# Tmp tables    50 318.07G       0   4.00G   2.19M       0  79.89M       0\n# Tmp disk tbl  50 194.88G       0   4.00G   1.34M       0  54.39M       0\n# Tmp tbl size  51 336.44G       0   4.00G   2.32M       0  73.59M       0\n# Query size     9   4.25M      30      30      30      30       0      30\n# InnoDB:\n# IO r bytes    50  84.59G       0   4.00G 733.90k       0  42.00M       0\n# IO r ops      48  45.00G       0   4.00G 390.41k       0  26.02M       0\n# IO r wait     51 191681302069s       0 4223245659s 1585991s       0 36903369s       0\n# pages distin  51 171.66G       0   4.00G   1.45M    6.98  56.13M    2.90\n# queue wait    51 163124669933s       0 4203828092s 1349711s       0 29931791s       0\n# rec lock wai  51 219562386455s       0 3840637070s 1816682s       0 35066311s       0\n# Boolean:\n# Filesort       2% yes,  97% no\n# Filesort on    0% yes,  99% no\n# Full join      1% yes,  98% no\n# Full scan      1% yes,  98% no\n# QC Hit         1% yes,  98% no\n# Tmp table      2% yes,  97% no\n# Tmp table on   2% yes,  97% no\n# String:\n# Databases    stumble\n# Hosts\n# InnoDB trxID 0 (614/0%), 3 (347/0%), 6973726576... (152/0%)... 118238 more\n# Last errno   0 (129413/87%), 4294967295 (4542/3%)... 6665 more\n# Users        Sequai (142108/95%), chaiNgwae (6608/4%)\n# Query_time distribution\n#   1us\n#  10us  ################################################################\n# 100us  #\n#   1ms\n#  10ms\n# 100ms\n#    1s\n#  10s+\nadministrator command: Init DB\\G\n\nThis is skewing the digest summaries.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997072/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest reporting 4G for data on administrator command", 
"title": "Bug #997072 in Percona Toolkit: \"pt-query-digest reporting 4G for data on administrator command\"", 
"date_confirmed": "2012-05-09T13:33:10.169051+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/997072", 
"date_left_new": "2012-05-09T13:33:10.169051+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/997072", 
"milestone_link": null, 
"http_etag": "\"241f4c670abdf5bfe2073da46188921e0f9ebaa5-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~jay-janssen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997072", 
"date_created": "2012-05-09T12:13:29.522101+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-09T14:26:41.059427+00:00", 
"bug_id": 997117, 
"date_in_progress": null, 
"bug_description": "Command:\npt-online-schema-change --execute --alter \"drop key owner\",\"add key owner (owner,path)\" D=v4net,t=files,u=*****,p=*****,h=master\n\nTool version:\nPercona Toolkit 2.1.1\n\nMySQL version, all servers: \n5.5.12-log\n\nOS:\nSunOS 5.10 Generic_141415-07 i86pc i386 i86pc\nSolaris 10\n\nTypical query during execution:\nSending data    INSERT LOW_PRIORITY IGNORE INTO `v4net`.`_files_new` (`id`, `name`, `owner`, `path`, `content`, `properties`) SELECT `id`, `name`, `owner`, `path`, `content`, `properties` FROM `v4net`.`files` FORCE INDEX(`PRIMARY`) WHERE ((`id` >= '72751')) AND ((`id` <= '72774')) /*pt-online-schema-change 16248 copy nibble*/\n\nTool output:\n...\nCopying `v4net`.`files`:  94% 00:44 remain\nCopying `v4net`.`files`:  96% 00:27 remain\nReplica lag is 9 seconds on ned.  Waiting.\nCopying `v4net`.`files`:  97% 00:18 remain\nCopying `v4net`.`files`:  98% 00:10 remain\nCopying `v4net`.`files`:  99% 00:05 remain\nReplica lag is 15 seconds on ned.  Waiting.\nError copying rows from `v4net`.`files` to `v4net`.`_files_new`: Threads_running=52 exceeds its critical threshold 50\n\nDropping triggers...\nDropped triggers OK.\nDropping new table...\nDropped new table OK.\n`v4net`.`files` was not altered.\n\nNote also, the tool incorrectly estimates the number of rows that will be copied (Copying approximately 52556 when the actual number is 189799.\n\nThe tool worked correctly on a copy of the same table on one of our replicants, but failed twice on the attempts to run this on the master.\nWe have a master and two replicants.  We use 'mixed' replication (mostly statement-based).\n\nAccording to cacti graphs, running threads stayed below 10 on the master while the schema change operation was in progress.\nThe sample interval for Cacti is 5 minutes, so it is possible that running threads could spike without us knowing... however load average was below 1 for the duration of the operation.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997117/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change Threads_running check causes premature bailout", 
"title": "Bug #997117 in Percona Toolkit: \"pt-online-schema-change Threads_running check causes premature bailout\"", 
"date_confirmed": "2012-05-09T14:26:41.059427+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/997117", 
"date_left_new": "2012-05-09T14:26:41.059427+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/997117", 
"milestone_link": null, 
"http_etag": "\"8bf4df65df55f1e54956fb2f1404fdb6d39448bd-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~roger-booth", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/997117", 
"date_created": "2012-05-09T14:00:10.995346+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 999722, 
"date_in_progress": null, 
"bug_description": "A query like:\n\nSELECT <cols> JOIN <table> ON <col> IN (<col1>, <col2>) WHERE <where>\n\ncause pt-query-advisor to report \"JOI.001 - Mixing comma and ANSI joins\".  It's probably confusing the IN clause for a comma join.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/999722/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Multi-column IN clause causes false-positive JOI.001", 
"title": "Bug #999722 in Percona Toolkit: \"Multi-column IN clause causes false-positive JOI.001\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/999722", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/999722", 
"milestone_link": null, 
"http_etag": "\"4dfe3cf590f2a499d2c1b51bb7e61a4f81499424-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/999722", 
"date_created": "2012-05-15T14:43:09.962615+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-advisor", 
"query-rule"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-16T22:30:54.389205+00:00", 
"bug_id": 1000358, 
"date_in_progress": null, 
"bug_description": "In a mysql instance with approximately 100k tables over 1000 dbs, foreign key / child table checks can be prohibitively slow when attempting to run an osc in just one of those dbs.  In this case, the time it would take to run against all 1000 dbs becomes a blocker.  \n\nAs I know there are no foreign keys in the schema, I hoped that that setting --alter-foreign-keys-method=none would disable the child table checks, but that isn't the case in 2.1.1.  I'm currently disabling in that case with the following patch in order to use pt-osc on this server :\n\n--- pt-online-schema-change     2012-05-16 17:04:20.745625532 +0000\n+++ pt-online-schema-change-2.1.1-no_child_table_patch  2012-05-07 20:31:17.246872621 +0000\n@@ -5235,11 +5235,14 @@\n    # ########################################################################\n    # Get child tables of the original table, if necessary.\n    # ########################################################################\n-   my $child_tables = find_child_tables(\n-      tbl    => $orig_tbl,\n-      Cxn    => $cxn,\n-      Quoter => $q,\n-   );\n+   my $child_tables;\n+   if ( $alter_fk_method ne 'none' ) {\n+          $child_tables = find_child_tables(\n+             tbl    => $orig_tbl,\n+             Cxn    => $cxn,\n+             Quoter => $q,\n+          );\n+   }\n    if ( !$child_tables ) {\n       if ( $alter_fk_method ) {\n          warn \"No foreign keys reference $orig_tbl->{name}; ignoring \"", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000358/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change foreign key checks can be excessive even when alter-foreign-keys-method=none", 
"title": "Bug #1000358 in Percona Toolkit: \"pt-online-schema-change foreign key checks can be excessive even when alter-foreign-keys-method=none\"", 
"date_confirmed": "2012-05-16T22:30:54.389205+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1000358", 
"date_left_new": "2012-05-16T22:30:54.389205+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1000358", 
"milestone_link": null, 
"http_etag": "\"e79be4caeb42cffa1ebf2f9e26205146a4205297-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~afeldman-x", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000358", 
"date_created": "2012-05-16T17:20:42.919524+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-06-21T20:00:09.258606+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1000503, 
"date_in_progress": null, 
"bug_description": "I have a database using port 3308. I am using a privileged account to log in, but the username is not 'root', but an complex username/password (alphanumeric, mixed case, special characters).\n\nCommand pt-show-grants fails to connect successfully when using the --port=3308 option\n        pt-show-grants --port=3308 -u <username> --ask-pass\nDBI connect(';port=3308;mysql_read_default_group=client','<username>',...) failed: Access denied for user '<username>'@'localhost' (using password: YES) at /usr/bin/pt-show-grants line 1261\n\nCommand pt-show-grants connects successfully when using the --socket option using the same privileged username/password.\n      pt-show-grants --socket=/<path to socket file>/mysql.sock -u <username> --ask-pass\n\n\nThe version of pt-show-grants: 2.1.1\nThe version of perl: 5.8.8\nThe host o/s: Linux <hostname> 2.6.18-238.12.1.el5 #1 SMP Sat May 7 20:18:50 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\nThe MySQL version is: 5.5.24\n\nPTDEBUG\nbash-3.2# PTDEBUG=1 pt-show-grants --port=3308 -u <username> --ask-pass\n# /usr/bin/perl 5.008008\n# Linux <hostname> 2.6.18-238.12.1.el5 #1 SMP Sat May 7 20:18:50 EDT 2011 x86_64 x86_64 x86_64 GNU/Linux\n# Arguments: _[--port=3308]_ _[-u]_ _[<username>]_ _[--ask-pass]_\n# OptionParser:190 13588 Option rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:199 13588 =item --ask-pass\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Prompt for a password when connecting to MySQL\n# OptionParser:199 13588 =item --charset\n# OptionParser:226 13588 Short help: Default character set\n# OptionParser:199 13588 =item --config\n# OptionParser:226 13588 Short help: Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:199 13588 =item --database\n# OptionParser:226 13588 Short help: The database to use for the connection\n# OptionParser:199 13588 =item --defaults-file\n# OptionParser:226 13588 Short help: Only read mysql options from the given file\n# OptionParser:199 13588 =item --drop\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Add DROP USER before each user in the output\n# OptionParser:199 13588 =item --flush\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Add FLUSH PRIVILEGES after output\n# OptionParser:199 13588 =item --[no]header\n# OptionParser:226 13588 Short help: Print dump header\n# OptionParser:199 13588 =item --help\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Show help and exit\n# OptionParser:199 13588 =item --host\n# OptionParser:226 13588 Short help: Connect to host\n# OptionParser:199 13588 =item --ignore\n# OptionParser:226 13588 Short help: Ignore this comma-separated list of users\n# OptionParser:199 13588 =item --only\n# OptionParser:226 13588 Short help: Only show grants for this comma-separated list of users\n# OptionParser:199 13588 =item --password\n# OptionParser:226 13588 Short help: Password to use when connecting\n# OptionParser:199 13588 =item --pid\n# OptionParser:226 13588 Short help: Create the given PID file\n# OptionParser:199 13588 =item --port\n# OptionParser:226 13588 Short help: Port number to use for connection\n# OptionParser:199 13588 =item --revoke\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Add REVOKE statements for each GRANT statement\n# OptionParser:199 13588 =item --separate\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: List each GRANT or REVOKE separately\n# OptionParser:199 13588 =item --set-vars\n# OptionParser:226 13588 Short help: Set these MySQL variables\n# OptionParser:199 13588 =item --socket\n# OptionParser:226 13588 Short help: Socket file to use for connection\n# OptionParser:199 13588 =item --[no]timestamp\n# OptionParser:226 13588 Short help: Add timestamp to the dump header\n# OptionParser:199 13588 =item --user\n# OptionParser:226 13588 Short help: User for login if not current user\n# OptionParser:199 13588 =item --version\n# OptionParser:218 13588 Option has no attributes\n# OptionParser:226 13588 Short help: Show version and exit\n# OptionParser:265 13588 Parsing opt spec: group => default spec => ask-pass desc => Prompt for a password when connecting to MySQL\n# OptionParser:303 13588 ask-pass type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => charset|A=s desc => Default character set\n# OptionParser:303 13588 charset type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => config=A desc => Read this comma-separated list of config files; if specified, this must be the first option on the command line\n# OptionParser:303 13588 config type: A\n# OptionParser:265 13588 Parsing opt spec: group => default spec => database|D=s desc => The database to use for the connection\n# OptionParser:303 13588 database type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => defaults-file|F=s desc => Only read mysql options from the given file\n# OptionParser:303 13588 defaults-file type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => drop desc => Add DROP USER before each user in the output\n# OptionParser:303 13588 drop type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => flush desc => Add FLUSH PRIVILEGES after output\n# OptionParser:303 13588 flush type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => header! desc => Print dump header (default yes)\n# OptionParser:303 13588 header type: undef\n# OptionParser:310 13588 header default: yes\n# OptionParser:265 13588 Parsing opt spec: group => default spec => help desc => Show help and exit\n# OptionParser:303 13588 help type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => host|h=s desc => Connect to host\n# OptionParser:303 13588 host type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => ignore=a desc => Ignore this comma-separated list of users\n# OptionParser:303 13588 ignore type: a\n# OptionParser:265 13588 Parsing opt spec: group => default spec => only=a desc => Only show grants for this comma-separated list of users\n# OptionParser:303 13588 only type: a\n# OptionParser:265 13588 Parsing opt spec: group => default spec => password|p=s desc => Password to use when connecting\n# OptionParser:303 13588 password type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => pid=s desc => Create the given PID file\n# OptionParser:303 13588 pid type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => port|P=i desc => Port number to use for connection\n# OptionParser:303 13588 port type: i\n# OptionParser:265 13588 Parsing opt spec: group => default spec => revoke desc => Add REVOKE statements for each GRANT statement\n# OptionParser:303 13588 revoke type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => separate desc => List each GRANT or REVOKE separately\n# OptionParser:303 13588 separate type: undef\n# OptionParser:265 13588 Parsing opt spec: group => default spec => set-vars=s desc => Set these MySQL variables (default wait_timeout=10000)\n# OptionParser:303 13588 set-vars type: s\n# OptionParser:310 13588 set-vars default: wait_timeout=10000\n# OptionParser:265 13588 Parsing opt spec: group => default spec => socket|S=s desc => Socket file to use for connection\n# OptionParser:303 13588 socket type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => timestamp! desc => Add timestamp to the dump header (default yes)\n# OptionParser:303 13588 timestamp type: undef\n# OptionParser:310 13588 timestamp default: yes\n# OptionParser:265 13588 Parsing opt spec: group => default spec => user|u=s desc => User for login if not current user\n# OptionParser:303 13588 user type: s\n# OptionParser:265 13588 Parsing opt spec: group => default spec => version desc => Show version and exit\n# OptionParser:303 13588 version type: undef\n# OptionParser:325 13588 Parsing rule: This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details.\n# OptionParser:381 13588 Participants for This tool accepts additional command-line arguments. Refer to the SYNOPSIS and usage information for details. :\n# OptionParser:357 13588 Strict mode disabled by rule\n# OptionParser:109 13588 Parsing DSN OPTIONS\n# OptionParser:199 13588 =item * A\n# OptionParser:226 13588 Short help: Default character set\n# OptionParser:199 13588 =item * D\n# OptionParser:226 13588 Short help: Default database\n# OptionParser:199 13588 =item * F\n# OptionParser:226 13588 Short help: Only read default options from the given file\n# OptionParser:199 13588 =item * h\n# OptionParser:226 13588 Short help: Connect to host\n# OptionParser:199 13588 =item * p\n# OptionParser:226 13588 Short help: Password to use when connecting\n# OptionParser:199 13588 =item * P\n# OptionParser:226 13588 Short help: Port number to use for connection\n# OptionParser:199 13588 =item * S\n# OptionParser:226 13588 Short help: Socket file to use for connection\n# OptionParser:199 13588 =item * u\n# OptionParser:226 13588 Short help: User for login if not current user\n# DSNParser:1075 13588 DSN option: copy=1, dsn=charset, desc=Default character set, key=A\n# DSNParser:1075 13588 DSN option: copy=1, dsn=database, desc=Default database, key=D\n# DSNParser:1075 13588 DSN option: copy=1, dsn=mysql_read_default_file, desc=Only read default options from the given file, key=F\n# DSNParser:1075 13588 DSN option: copy=1, dsn=host, desc=Connect to host, key=h\n# DSNParser:1075 13588 DSN option: copy=1, dsn=password, desc=Password to use when connecting, key=p\n# DSNParser:1075 13588 DSN option: copy=1, dsn=port, desc=Port number to use for connection, key=P\n# DSNParser:1075 13588 DSN option: copy=1, dsn=mysql_socket, desc=Socket file to use for connection, key=S\n# DSNParser:1075 13588 DSN option: copy=1, dsn=user, desc=User for login if not current user, key=u\n# OptionParser:153 13588 pt-show-grants 2.1.1\n# OptionParser:465 13588 Cannot open /etc/percona-toolkit/percona-toolkit.conf: No such file or directory\n#\n# OptionParser:465 13588 Cannot open /etc/percona-toolkit/pt-show-grants.conf: No such file or directory\n#\n# OptionParser:465 13588 Cannot open /<path to home directory>/.percona-toolkit.conf: No such file or directory\n#\n# OptionParser:465 13588 Cannot open /<path to home directory>/.pt-show-grants.conf: No such file or directory\n#\n# OptionParser:433 13588 Got option port = 3308\n# OptionParser:433 13588 Got option user = <username>\n# OptionParser:433 13588 Got option ask-pass = 1\n# OptionParser:653 13588 Nothing to validate for option ignore type a value undef\n# OptionParser:653 13588 Nothing to validate for option password type s value undef\n# OptionParser:653 13588 Nothing to validate for option pid type s value undef\n# OptionParser:653 13588 Nothing to validate for option user type s value <username>\n# OptionParser:653 13588 Nothing to validate for option only type a value undef\n# OptionParser:653 13588 Nothing to validate for option charset type s value undef\n# OptionParser:653 13588 Nothing to validate for option set-vars type s value wait_timeout=10000\n# OptionParser:653 13588 Nothing to validate for option port type i value 3308\n# OptionParser:653 13588 Nothing to validate for option socket type s value undef\n# OptionParser:653 13588 Nothing to validate for option defaults-file type s value undef\n# OptionParser:653 13588 Nothing to validate for option host type s value undef\n# OptionParser:653 13588 Nothing to validate for option database type s value undef\n# DSNParser:1091 13588 Setting set-vars property\n# OptionParser:727 13588 Getting description and usage from SYNOPSIS in /usr/bin/pt-show-grants\n# OptionParser:980 13588 Parsing SYNOPSIS in /usr/bin/pt-show-grants\n# OptionParser:993 13588 Raw SYNOPSIS text: Usage: pt-show-grants [OPTION...] [DSN]\n#\n#  pt-show-grants shows grants (user privileges) from a MySQL server.\n#\n#\n# OptionParser:731 13588 Description: pt-show-grants shows grants (user privileges) from a MySQL server.\n# Usage: pt-show-grants [OPTION...] [DSN]\nEnter password:\n# DSNParser:1162 13588 DSN string made from options: P=3308,p=<password>,u=<username>\n# DSNParser:1103 13588 Parsing P=3308,p=<password>,u=<username>\n# DSNParser:1121 13588 Finding value for S\n# DSNParser:1131 13588 Copying value for S from defaults\n# DSNParser:1121 13588 Finding value for F\n# DSNParser:1131 13588 Copying value for F from defaults\n# DSNParser:1121 13588 Finding value for A\n# DSNParser:1131 13588 Copying value for A from defaults\n# DSNParser:1121 13588 Finding value for P\n# DSNParser:1121 13588 Finding value for p\n# DSNParser:1121 13588 Finding value for u\n# DSNParser:1121 13588 Finding value for h\n# DSNParser:1131 13588 Copying value for h from defaults\n# DSNParser:1121 13588 Finding value for D\n# DSNParser:1131 13588 Copying value for D from defaults\n# DSNParser:1212 13588 DBI:mysql:;port=3308;mysql_read_default_group=client\n# DSNParser:1258 13588 DBI:mysql:;port=3308;mysql_read_default_group=client   <username>   <password> mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:1299 13588 DBI connect(';port=3308;mysql_read_default_group=client','<username>',...) failed: Access denied for user '<username>'@'localhost' (using password: YES) at /usr/bin/pt-show-grants line 1261\n#\n# DSNParser:1258 13588 DBI:mysql:;port=3308;mysql_read_default_group=client   <username>   <password> mysql_enable_utf8=>0, ShowErrorStatement=>1, AutoCommit=>1, RaiseError=>1, PrintError=>0\n# DSNParser:1299 13588 DBI connect(';port=3308;mysql_read_default_group=client','<username>',...) failed: Access denied for user '<username>'@'localhost' (using password: YES) at /usr/bin/pt-show-grants line 1261\n#\nDBI connect(';port=3308;mysql_read_default_group=client','<username>',...) failed: Access denied for user '<username>'@'localhost' (using password: YES) at /usr/bin/pt-show-grants line 1261", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000503/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-show-grants connect failure using --port option but no problem with --socket option", 
"title": "Bug #1000503 in Percona Toolkit: \"pt-show-grants connect failure using --port option but no problem with --socket option\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1000503", 
"date_left_new": "2012-05-17T00:54:54.503062+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1000503", 
"milestone_link": null, 
"http_etag": "\"4088dff4b7ba29d870cea5a9b7d50bd4a9ee5aab-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~temp1209", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000503", 
"date_created": "2012-05-17T00:36:29.036469+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"broken-option", 
"pt-show-grants"
]
}, 
{
"date_closed": "2012-05-17T17:52:59.723964+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1000880, 
"date_in_progress": null, 
"bug_description": "$ pt-online-schema-change --drop-old-table=false --alter 'add justin_id2 int' u=root,D=imdb,t=title --execute\nOption drop-old-table does not take an argument\nUsage: pt-online-schema-change [OPTIONS] DSN\n\nErrors in command-line arguments:\n  * Error parsing options", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000880/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "--drop-old-table=false does not work", 
"title": "Bug #1000880 in Percona Toolkit: \"--drop-old-table=false does not work\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1000880", 
"date_left_new": "2012-05-17T17:52:59.723964+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1000880", 
"milestone_link": null, 
"http_etag": "\"0f7bf2d28aeaad4f2c8cbddf8600941685d9377d-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~greenlion", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1000880", 
"date_created": "2012-05-17T17:09:20.804614+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-05-23T14:26:38.166347+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1001021, 
"date_in_progress": null, 
"bug_description": "pt-kill is a great tool, but there are more features we want to use with it.   When running as a daemon, you typically have high time thresholds to kill only long running or particularly bad queries.  However, if the server hits its max_connections limit with queries in a short interval, the will usually be blow the standard thresholds of --busy-time.\n\nI've added options, that allow pt-kill to dynamically adjust its own busy-time and sleep-time settings based on how near the server is to its connection limit.  This means the script can kill queries more aggressively and make sure max_connections is not hit.\n\nTypical command like might be:\n\npt-kill --busy-time 120  --match-info \"^(select|SELECT)\" --victims all --print --verbose --dynamic-time=50 \n\nThis says that once the ratio of  (max_connections-threads_connected)/max_connections  falls below 0.50, then busy time will be multiplied by this coeficient.  With max_connections of 100 and threads_connected=90, then busy-time would be (120*.10) or 12.\n\nPlease see the patch for all new options and their explanation.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001021/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-kill feature: dynamic time threshold", 
"title": "Bug #1001021 in Percona Toolkit: \"pt-kill feature: dynamic time threshold\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1001021", 
"date_left_new": "2012-05-23T14:26:38.166347+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1001021", 
"milestone_link": null, 
"http_etag": "\"2507fe7d80e5a9131128aee505cd6842da1859ab-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~gtowey", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001021", 
"date_created": "2012-05-17T22:27:37.140823+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"feature", 
"percona-23615", 
"pt-kill"
]
}, 
{
"date_closed": "2012-10-13T17:02:40.369662+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_triaged": "2012-06-11T03:04:58.321493+00:00", 
"bug_id": 1001303, 
"date_in_progress": "2012-06-11T03:04:58.321493+00:00", 
"bug_description": "3c3\n< 0 0 0 0 mysql.db\n---\n> 0 0 3 0 mysql.db\n6,9c6,9\n< 0 0 38 0 mysql.help_category\n< 0 0 453 0 mysql.help_keyword\n< 0 0 992 0 mysql.help_relation\n< 0 0 220 0 mysql.help_topic\n---\n> 0 0 37 0 mysql.help_category\n> 0 0 310 0 mysql.help_keyword\n> 0 0 988 0 mysql.help_relation\n> 0 0 489 0 mysql.help_topic\n15d14\n< 0 0 2 0 mysql.proxies_priv\nnot ok 1 - Default checksum\n\nThis is due to row count differences in 5.1 vs. 5.5.  Also, the 5.1 sandbox data has useless rows in mysql.db, maybe other tables, too.  I need to rewrite pt-table-checksum basics.t to avoid these idiosyncrasies.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001303/related_tasks", 
"date_assigned": "2012-05-18T15:33:01.066157+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum basic.t failures", 
"title": "Bug #1001303 in Percona Toolkit: \"pt-table-checksum basic.t failures\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1001303", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1001303", 
"milestone_link": null, 
"http_etag": "\"ae4eedb57aac6d7f9e722015247c2c06d1398f05-d83dbd4553160edb345b5d5ac964e42241d0c11f\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": "2012-10-03T15:56:41.675247+00:00", 
"date_incomplete": null, 
"date_fix_committed": "2012-10-13T17:02:40.369662+00:00", 
"date_fix_released": "2012-10-13T17:02:40.369662+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1001303", 
"date_created": "2012-05-18T15:32:37.436155+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"pt-table-checksum", 
"test-failure"
]
}, 
{
"date_closed": "2012-05-21T23:55:42.242322+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1002364, 
"date_in_progress": null, 
"bug_description": "If the table has no PRIMARY KEY but its unique key is all uppercase, resulting in:\n\n# keys => {\n# PRIMARY => {},\n# my_index => {\n\nThe tool auto-vivifies PRIMARY and lowercases MY_INDEX, which causes:\n\nUse of uninitialized value in string eq at ./pt-table-sync line 3011", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002364/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync doesn't work with uppercase index names", 
"title": "Bug #1002364 in Percona Toolkit: \"pt-table-sync doesn't work with uppercase index names\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1002364", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1002364", 
"milestone_link": null, 
"http_etag": "\"eace20858b81ceb53bbf2f3448412ca8583618f8-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002364", 
"date_created": "2012-05-21T16:10:43.236424+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"case-sensitivity", 
"chunking", 
"percona-21967", 
"pt-table-sync"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-05-23T14:30:45.904878+00:00", 
"bug_id": 1002512, 
"date_in_progress": null, 
"bug_description": "Using MySQL Sandbox with a standard replication topology, pt-slave-find states there are 2 slaves connected but does not print any details as expected with tool.\n\n$ pt-slave-find --defaults-file=master/my.sandbox.cnf --host localhost --report-format summary\nlocalhost\nVersion         5.5.24-log\nServer ID       1\nUptime          22:45 (started 2012-05-21T16:33:12)\nReplication     Is not a slave, has 2 slaves connected, \n                is not read_only\nFilters         \nBinary logging  STATEMENT\nSlave status    \nSlave mode      STRICT\nAuto-increment  increment 1, offset 1\nInnoDB version  1.1.8\n\n\n\nFull setup instructions\n\n$ wget https://launchpadlibrarian.net/91596901/MySQL-Sandbox-3.0.25.tar.gz\n$ tar xvfz MySQL-Sandbox-3.0.25.tar.gz\n$ cd MySQL-Sandbox-3.0.25\n$ perl Makefile.PL\n$ make\n$ make test\n$ sudo make install\n$ make_sandbox --help\n$ mkdir -p $HOME/opt/mysql\n$ cd $HOME/opt/mysql\n$ wget  http://mysql.he.net/Downloads/MySQL-5.5/mysql-5.5.24-linux2.6-x86_64.tar.gz\n$ tar xvfz mysql-5.5.24-linux2.6-x86_64.tar.gz\n$ mv mysql-5.5.24-linux2.6-x86_64 5.5.24\n$ make_replication_sandbox 5.5.24\n$ cd $HOME/sandbox/rsandbox_5_5_24", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002512/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-find does not report with MySQL sandbox", 
"title": "Bug #1002512 in Percona Toolkit: \"pt-slave-find does not report with MySQL sandbox\"", 
"date_confirmed": "2012-05-23T14:30:45.904878+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1002512", 
"date_left_new": "2012-05-23T14:30:45.904878+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1002512", 
"milestone_link": null, 
"http_etag": "\"536e037ee65b8e899a578bd2353e44f07ea903ef-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~ronaldbradford", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1002512", 
"date_created": "2012-05-21T21:00:35.844098+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-slave-find", 
"wrong-output"
]
}, 
{
"date_closed": "2012-10-13T16:55:37.830326+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1003323, 
"date_in_progress": null, 
"bug_description": "After upgrading from Percona Toolkit from version 2.0.4 to 2.1.1 we get the following error message when executing pt-table-sync:\n\nWith version 2.1.1\n/local/linux/bin/percona-toolkit-2.1.1/bin/pt-table-sync  --execute  --print  --verbose --tables=jetair.splash_page h=mysqlt,u=user,p=password h=mysqlp\nDeep recursion on subroutine \"SchemaIterator::_iterate_dbh\" at /local/linux/bin/percona-toolkit-2.1.1/bin/pt-table-sync line 7023.\nIssuing rollback() due to DESTROY without explicit disconnect() of DBD::mysql::db handle ;host=mysqlt;mysql_read_default_group=client at /local/linux/bin/percona-toolkit-2.1.1/bin/pt-table-sync line 7023.\nIssuing rollback() due to DESTROY without explicit disconnect() of DBD::mysql::db handle ;host=mysqlt;mysql_read_default_group=client at /local/linux/bin/percona-toolkit-2.1.1/bin/pt-table-sync line 7023.\n\nWith version 2.0.4:\n/local/linux/bin/percona-toolkit-2.0.4/bin/pt-table-sync  --execute  --print  --verbose --tables=jetair.splash_page h=mysqlt,u=user,p=password h=mysqlp\n# Syncing h=mysqlmaster,p=...,u=jetair\n# DELETE REPLACE INSERT UPDATE ALGORITHM START    END      EXIT DATABASE.TABLE\n#      0       0      0      0 Chunk     11:55:11 11:55:11 0    jetair.splash_page", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003323/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync: Deep recursion on subroutine \"SchemaIterator::_iterate_dbh\"", 
"title": "Bug #1003323 in Percona Toolkit: \"pt-table-sync: Deep recursion on subroutine \"SchemaIterator::_iterate_dbh\"\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1003323", 
"date_left_new": "2012-05-23T14:23:13.937042+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1003323", 
"milestone_link": null, 
"http_etag": "\"035fd17890236c00b8f2689588b449b48913800a-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~pvandenberghe", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1003323", 
"date_created": "2012-05-23T09:56:36.621584+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-sync", 
"schema-iter"
]
}, 
{
"date_closed": "2012-06-07T21:24:25.790212+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1006628, 
"date_in_progress": null, 
"bug_description": "It would be nice if pt-heartbeat supported an option with --monitor --daemonize to store the output to a table (as opposed to or along with a file). The table can be called heartbeat_stat and just have the one row with 4 columns of the curent delays and the averages. \nThis way, if I am running some monitoring I dont need to have file access to the DB server but can just query the DB for it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1006628/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "add an option to pt-heartbeat to store monitor output to the DB", 
"title": "Bug #1006628 in Percona Toolkit: \"add an option to pt-heartbeat to store monitor output to the DB\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1006628", 
"date_left_new": "2012-06-07T21:24:25.790212+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1006628", 
"milestone_link": null, 
"http_etag": "\"b77e7d73f34be6afae6a280c2eeeaa6865f4509f-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~silviamikhail", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1006628", 
"date_created": "2012-05-30T21:58:12.512380+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-heartbeat"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-07T21:25:23.689437+00:00", 
"bug_id": 1007938, 
"date_in_progress": null, 
"bug_description": "option file supports end-of-line comments started with semi-comma(;) or sharp (#), but MySQLConfig treats those comments part of value.\n\n[kc@dns1 percona-toolkit]$ cat mycnf-kc-001.txt \n[mysqld]\nuser=mysql ; comment\n[kc@dns1 percona-toolkit]$ cat mycnf-kc-002.txt \n[mysqld]\nuser=mysql\n[kc@dns1 percona-toolkit]$ perl bin/pt-config-diff mycnf-kc-001.txt mycnf-kc-002.txt \n1 config difference\nVariable                  mycnf-kc-001.txt mycnf-kc-002.txt\n========================= ================ ================\nuser                      mysql ; comment  mysql\n\n\nI think the problem is in _parse_varvals()\n=== modified file 'lib/MySQLConfig.pm'\n--- lib/MySQLConfig.pm  2012-01-19 19:46:56 +0000\n+++ lib/MySQLConfig.pm  2012-06-02 20:07:03 +0000\n@@ -339,6 +339,7 @@\n       if ( $item ) {\n          # Strip leading and trailing whitespace.\n          $item =~ s/^\\s+//;\n+         $item =~ s/[#;].*$//; # trailing comment\n          $item =~ s/\\s+$//;\n       }\n\nThe enclosed patch(bin/pt-config-diff not updated) should solve the problem, covered by this test\nnot ok 26 - end of line comment in option file\n#   Failed test 'end of line comment in option file'\n#   in t/lib/MySQLConfig.t at line 805.\n#          got: 'mysql ; comment'\n#     expected: 'mysql'\n# Looks like you failed 1 test of 30.\n\nThanks,\nkc", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1007938/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "MySQLConfig doesn't support end-of-line comments", 
"title": "Bug #1007938 in Percona Toolkit: \"MySQLConfig doesn't support end-of-line comments\"", 
"date_confirmed": "2012-06-07T21:25:23.689437+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1007938", 
"date_left_new": "2012-06-07T21:25:23.689437+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1007938", 
"milestone_link": null, 
"http_etag": "\"d0f23e3f9a104cc3c6f681ac4fdf9a84d0ec3b4f-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~kaiwangchen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1007938", 
"date_created": "2012-06-02T20:41:12.731434+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"option-parsing", 
"pt-config-diff"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1008240, 
"date_in_progress": null, 
"bug_description": "The \"--processlist correctly observes and measures multiple queries\" tests tends to fail on slower computers. Just running it in a loop should be enough to reproduce the problem. The issue is probably caused by Processlist.pm counting the same query as more than one if they change from executing to sleep.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008240/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "t/pt-query-digest/processlist.t occasionally fails", 
"title": "Bug #1008240 in Percona Toolkit: \"t/pt-query-digest/processlist.t occasionally fails\"", 
"date_confirmed": "2012-06-07T21:25:48.412333+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1008240", 
"date_left_new": "2012-06-07T21:25:48.412333+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1008240", 
"milestone_link": null, 
"http_etag": "\"0a52679a64860b21e5197e0df42126e5650d329c-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008240", 
"date_created": "2012-06-03T21:27:11.260011+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1008796, 
"date_in_progress": null, 
"bug_description": "I think this option ought to be pretty much universal unless we can think of a reason not to use it. It lets us set the initial database for a connection.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008796/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum and pt-slave-delay don't have --database", 
"title": "Bug #1008796 in Percona Toolkit: \"pt-table-checksum and pt-slave-delay don't have --database\"", 
"date_confirmed": "2012-06-07T21:27:45.296617+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1008796", 
"date_left_new": "2012-06-07T21:27:45.296617+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1008796", 
"milestone_link": null, 
"http_etag": "\"c5bf7ef5662a2a0f5920c2871206c5542f1e4499-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1008796", 
"date_created": "2012-06-05T00:40:15.653330+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-slave-delay", 
"pt-table-checksum", 
"standard-options"
]
}, 
{
"date_closed": "2012-06-11T11:39:45.373374+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-07T21:28:27.759568+00:00", 
"bug_id": 1009284, 
"date_in_progress": "2012-06-07T21:28:32.464095+00:00", 
"bug_description": "This test fails predictably for me on MySQL 5.5, although there is still some variability in part of it. Note that there are two variations of the failure. There is a \"sleep\" in this test and there is backgrounding of some task / inter-process communication via files.\n\nObservation: it would probably be a good idea to simplify the complexity of this test and/or comment its code. It's pretty obtuse.\n\n\n\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-online-schema-change/alter_active_table.t \n1..8\nok 1 - New table ENGINE=InnoDB\nok 2 - Dropped old table\nok 3 - Exit status 0\nnot ok 4 - New table row count: 500 original + 2 inserted - 0 deleted\n#   Failed test 'New table row count: 500 original + 2 inserted - 0 deleted'\n#   in t/pt-online-schema-change/alter_active_table.t at line 97.\n#          got: '501'\n#     expected: '502'\n$VAR1 = [\n  '501'\n];\nok 5 - No extra rows inserted in new table\nok 6 - No rows deleted\nok 7 - Updated rows correct in new table\nok 8 - Sandbox servers\n# Looks like you failed 1 test of 8.\n[baron@localhost stabilize-test-suite]$ perl t/pt-online-schema-change/alter_active_table.t \n1..8\nok 1 - New table ENGINE=InnoDB\nok 2 - Dropped old table\nok 3 - Exit status 0\nnot ok 4 - New table row count: 500 original + 1 inserted - 0 deleted\n#   Failed test 'New table row count: 500 original + 1 inserted - 0 deleted'\n#   in t/pt-online-schema-change/alter_active_table.t at line 97.\n#          got: '500'\n#     expected: '501'\n$VAR1 = [\n  '500'\n];\nDBD::mysql::db selectall_arrayref failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1 [for Statement \"SELECT id FROM pt_osc.t WHERE id > 500 AND id NOT IN ()\"] at t/pt-online-schema-change/alter_active_table.t line 103.\n# Looks like you planned 8 tests but only ran 4.\n# Looks like you failed 1 test of 4 run.\n# Looks like your test died just after 4.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009284/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "t/pt-online-schema-change/alter_active_table.t fails on MySQL 5.5 and CentOS 5.5", 
"title": "Bug #1009284 in Percona Toolkit: \"t/pt-online-schema-change/alter_active_table.t fails on MySQL 5.5 and CentOS 5.5\"", 
"date_confirmed": "2012-06-07T21:28:27.759568+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1009284", 
"date_left_new": "2012-06-07T21:28:27.759568+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1009284", 
"milestone_link": null, 
"http_etag": "\"33df2473dcee151a1e9cd86d9deafabd73d181c9-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:21:18.123867+00:00", 
"date_fix_released": "2012-06-11T11:39:45.373374+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009284", 
"date_created": "2012-06-06T01:52:19.566115+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"test-failure"
]
}, 
{
"date_closed": "2012-06-11T11:39:40.031319+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-10T00:59:16.438745+00:00", 
"bug_id": 1009285, 
"date_in_progress": "2012-06-10T00:59:16.438745+00:00", 
"bug_description": "This test fails 100% repeatably on MySQL 5.5 and CentOS 5.5:\n\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-query-digest/explain.t\n1..6\n# 5c5\n# < # EXPLAIN sparkline: I\n# ---\n# > # EXPLAIN sparkline: s\n# 40c40\n# < #          type: index\n# ---\n# > #          type: system\n# 42,43c42,43\n# < #           key: fruit\n# < #       key_len: 27\n# ---\n# > #           key: NULL\n# > #       key_len: NULL\n# 45,46c45,46\n# < #          rows: 1\n# < #         Extra: Using index\n# ---\n# > #          rows: 0\n# > #         Extra: const row not found\nnot ok 1 - Analysis for slow007 with --explain, no rows\n#   Failed test 'Analysis for slow007 with --explain, no rows'\n#   in t/pt-query-digest/explain.t at line 51.\nok 2 - Analysis for slow007 with --explain\nok 3 - EXPLAIN sparkline in profile\nok 4 - Analysis for slow007 with --explain, failed\nok 5 - --explain sparkline uses event db and doesn't crash ea (issue 1196\nok 6 - Sandbox servers\n# Looks like you failed 1 test of 6.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009285/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "t/pt-query-digest/explain.t fails on MySQL 5.5 and CentOS 5.5", 
"title": "Bug #1009285 in Percona Toolkit: \"t/pt-query-digest/explain.t fails on MySQL 5.5 and CentOS 5.5\"", 
"date_confirmed": "2012-06-07T21:28:48.827674+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1009285", 
"date_left_new": "2012-06-07T21:28:48.827674+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1009285", 
"milestone_link": null, 
"http_etag": "\"2b9023984a795b4dc9febfd22631b838bb82c706-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T03:05:11.503287+00:00", 
"date_fix_released": "2012-06-11T11:39:40.031319+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009285", 
"date_created": "2012-06-06T01:54:14.408942+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"test-failure"
]
}, 
{
"date_closed": "2012-06-21T19:50:18.092283+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-07T21:29:14.400796+00:00", 
"bug_id": 1009286, 
"date_in_progress": "2012-06-11T15:25:37.895569+00:00", 
"bug_description": "This fails 100% reliably on MySQL 5.5 and CentOS 5.5.\n\n[baron@localhost stabilize-test-suite]$ perl t/pt-table-checksum/basics.t\n1..36\n# 3c3\n# < 0 0 0 0 mysql.db\n# ---\n# > 0 0 1 0 mysql.db\n# 23,24c23\n# < 0 0 2 0 mysql.user\n# < 0 0 40 0 percona_test.checksums\n# ---\n# > 0 0 3 0 mysql.user\nnot ok 1 - Default checksum\n#   Failed test 'Default checksum'\n#   in t/pt-table-checksum/basics.t at line 81.\nok 2 - At least 37 checksums\n# 3c3\n# < 0 0 0 1 0 mysql.db\n# ---\n# > 0 0 1 1 0 mysql.db\n# 23,24c23\n# < 0 0 2 1 0 mysql.user\n# < 0 0 40 1 0 percona_test.checksums\n# ---\n# > 0 0 3 1 0 mysql.user\nnot ok 3 - Static chunk size (--chunk-time 0)\n#   Failed test 'Static chunk size (--chunk-time 0)'\n#   in t/pt-table-checksum/basics.t at line 106.\nok 4 - 86 checksums on master\nok 5 - 86 checksums on slave\nok 6 - --replicate-check on by default, detects diff\nok 7 - --no-replicate-check, no diff detected\n# KILL 816 /* db: sakila */\n# Error executing KILL 816 /* db: sakila */ in Sandbox::wipe_clean(): DBD::mysql::db do failed: Unknown thread id: 816 at /home/baron/stabilize-test-suite//lib/Sandbox.pm line 175.\nok 8 - --emptry-replicate-table on by default\nok 9 - --no-recheck (just --replicate-check)\nok 10 - Detects infinite loop\nok 11 - Upper boundary same as next lower boundary\nok 12 - Skipped oversize chunks\nok 13 - Oversize chunks are not errors\nok 14 - Warns about skipping large slave table\nok 15 - Does not checksum large slave table on master\nok 16 - Does not checksum large slave table on slave\nok 17 - Non-zero exit status\nok 18 - 0 skipped\nok 19 - 0 errors\nok 20 - 52 rows checksummed\nok 21 - No host in DSN, zero exit status\nok 22 - No host in DSN, 0 errors\nok 23 - --where in checksum chunk query\nok 24 - --where in past lower chunk query\nok 25 - --where in past upper chunk query\nok 26 - --where in next chunk boundary query\nok 27 - --where for first chunk\nok 28 - --where for last chunk\nok 29 - --where for lower oob chunk\nok 30 - --where for upper oob chunk\nok 31 - Bug 932442: 0 exit\nok 32 - Bug 932442: 0 errors\nok 33 - Bug 821675 (dot): queries\nok 34 - Bug 821675 (dot): 0 exit\nok 35 - Bug 821675 (dot): 0 errors\nok 36 - Sandbox servers\n# Looks like you failed 2 tests of 36.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009286/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "t/pt-table-checksum/basics.t fails on MySQL 5.5 and CentOS 5.5", 
"title": "Bug #1009286 in Percona Toolkit: \"t/pt-table-checksum/basics.t fails on MySQL 5.5 and CentOS 5.5\"", 
"date_confirmed": "2012-06-07T21:29:14.400796+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1009286", 
"date_left_new": "2012-06-07T21:29:14.400796+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1009286", 
"milestone_link": null, 
"http_etag": "\"222f85bae01ae2268553b35984c1337a2f176195-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-06-11T15:25:37.895569+00:00", 
"date_fix_released": "2012-06-21T19:50:18.092283+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1009286", 
"date_created": "2012-06-06T02:04:23.696414+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"mysql-5.5", 
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-08T02:21:04.221656+00:00", 
"bug_id": 1010267, 
"date_in_progress": null, 
"bug_description": "source checks for $print and prints SQL statements prior to doing the --only-select check. Thus, when --print is used, the result files have insert/update/delete statements and that scared me until I read the pt-log-player source", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010267/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-log-player ignores --only-select when --print is used", 
"title": "Bug #1010267 in Percona Toolkit: \"pt-log-player ignores --only-select when --print is used\"", 
"date_confirmed": "2012-06-08T02:21:04.221656+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1010267", 
"date_left_new": "2012-06-08T02:21:04.221656+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1010267", 
"milestone_link": null, 
"http_etag": "\"4576dd9519ec4c2192ece31aa6a79a1aaf673dd2-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~mdcallag", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1010267", 
"date_created": "2012-06-08T01:02:46.648023+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-log-player"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-11T02:41:40.964216+00:00", 
"bug_id": 1011380, 
"date_in_progress": null, 
"bug_description": "I found that the test suite will hang indefinitely if replication is actually broken and wait_for_slaves() is called. This happens, for example, if the sandboxes are set with BINLOG_FORMAT=ROW during setup. The 12346 server will die like this:\n\n\n               Last_SQL_Error: Could not execute Update_rows event on table test.t3; Can't find record in 't3', Error_code: 1032; handler error HA_ERR_END_OF_FILE; the event's master log mysql-bin.000001, end_log_pos 228033\n\n\nTo avoid this, we should make wait_for_slaves check if replication is running, and BAIL_OUT if not, so we stop as soon as possible after breakage, and can thus try to fix it.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011380/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Test suite \"wait_for_slaves()\" doesn't check replication is running", 
"title": "Bug #1011380 in Percona Toolkit: \"Test suite \"wait_for_slaves()\" doesn't check replication is running\"", 
"date_confirmed": "2012-06-11T02:41:40.964216+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011380", 
"date_left_new": "2012-06-11T02:41:40.964216+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011380", 
"milestone_link": null, 
"http_etag": "\"33ae8c8b319f7a8b8ec46ab6545f8440cfe6ced0-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011380", 
"date_created": "2012-06-11T02:13:20.973753+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-11T02:54:22.876612+00:00", 
"bug_id": 1011384, 
"date_in_progress": null, 
"bug_description": "This looks like a non-determinism problem. It's on MySQL 5.5, CentOS 5.5, Baron's laptop virtualbox.\n                        \nt/lib/Runtime.....................................ok 9/20                    \n#   Failed test 'Running forever: time still elapses'\n#   in t/lib/Runtime.t at line 116.\n#          got: '3'\n#     expected: '2'\n# Looks like you failed 1 test of 20.\nt/lib/Runtime.....................................dubious                    \n\tTest returned status 1 (wstat 256, 0x100)\nDIED. FAILED test 14\n\tFailed 1/20 tests, 95.00% okay", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011384/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Runtime.pm test fails", 
"title": "Bug #1011384 in Percona Toolkit: \"Runtime.pm test fails\"", 
"date_confirmed": "2012-06-11T02:54:22.876612+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011384", 
"date_left_new": "2012-06-11T02:54:22.876612+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011384", 
"milestone_link": null, 
"http_etag": "\"2b1ff071d48bf788f2336748dfe6eba6631399da-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011384", 
"date_created": "2012-06-11T02:41:46.332967+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1011628, 
"date_in_progress": null, 
"bug_description": "This fails intermittently on MySQL 5.5, CentOS 5.5, Baron's laptop virtualbox:\n\nt/pt-online-schema-change/alter_active_table......# Loading sample dataset...\n# Binlog position before altering table: mysql-bin.000001/103237\n\n#   Failed test 'New table row count: 500 original + 10 inserted - 0 deleted'\n#   in t/pt-online-schema-change/alter_active_table.t at line 103.\n#          got: '509'\n#     expected: '510'\nt/pt-online-schema-change/alter_active_table......NOK 5# Looks like you failed 1 test of 9.\nt/pt-online-schema-change/alter_active_table......dubious                    \n\tTest returned status 1 (wstat 256, 0x100)\nDIED. FAILED test 5\n\tFailed 1/9 tests, 88.89% okay", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011628/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Test pt-online-schema-change/alter_active_table.t fails", 
"title": "Bug #1011628 in Percona Toolkit: \"Test pt-online-schema-change/alter_active_table.t fails\"", 
"date_confirmed": "2012-06-11T15:11:47.759872+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011628", 
"date_left_new": "2012-06-11T15:11:47.759872+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011628", 
"milestone_link": null, 
"http_etag": "\"64f34d782e235b7443816e6a76058b9c5abe2c1e-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011628", 
"date_created": "2012-06-11T13:39:05.751201+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1011629, 
"date_in_progress": null, 
"bug_description": "This fails intermittently on MySQL 5.5, CentOS 5.5, Baron's laptop virtualbox:\n\nt/pt-kill/execute_command.........................ok 3/9                     \n#   Failed test 'Executed zombie command'\n#   in t/pt-kill/execute_command.t at line 85.\n#                   ''\n#     doesn't match '(?-xism:Executed echo zombie)'\nt/pt-kill/execute_command.........................ok 9/9# Looks like you failed 1 test of 9.\nt/pt-kill/execute_command.........................dubious                    \n\tTest returned status 1 (wstat 256, 0x100)\nDIED. FAILED test 5\n\tFailed 1/9 tests, 88.89% okay", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011629/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Test t/pt-kill/execute_command.t fails", 
"title": "Bug #1011629 in Percona Toolkit: \"Test t/pt-kill/execute_command.t fails\"", 
"date_confirmed": "2012-06-11T15:11:11.944886+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011629", 
"date_left_new": "2012-06-11T15:11:11.944886+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011629", 
"milestone_link": null, 
"http_etag": "\"0ff94c3ce2129ec8ed96f346e6b4431da7a07421-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011629", 
"date_created": "2012-06-11T13:40:13.131246+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-19T20:05:52.642435+00:00", 
"bug_id": 1011725, 
"date_in_progress": null, 
"bug_description": "All of these are timing-related failures:\n\nt/pt-table-checksum/basics.t                    (Wstat: 768 Tests: 36 Failed: 3)\n  Failed tests:  1, 21-22\n  Non-zero exit status: 3\nt/pt-query-digest/read_timeout.t                (Wstat: 512 Tests: 2 Failed: 2)\n  Failed tests:  1-2\n  Non-zero exit status: 2\nt/pt-table-sync/replicate_do_db.t               (Wstat: 512 Tests: 9 Failed: 2)\n  Failed tests:  5, 7\n  Non-zero exit status: 2\nt/pt-archiver/basics.t                          (Wstat: 256 Tests: 26 Failed: 1)\n  Failed test:  24\n  Non-zero exit status: 1\nt/pt-query-digest/processlist.t                 (Wstat: 256 Tests: 3 Failed: 1)\n  Failed test:  2\n  Non-zero exit status: 1\nt/pt-slave-delay/auto_restart.t                 (Wstat: 512 Tests: 3 Failed: 2)\n  Failed tests:  1-2\n  Non-zero exit status: 2\nt/pt-archiver/check_slave_lag.t                 (Wstat: 256 Tests: 7 Failed: 1)\n  Failed test:  3\n  Non-zero exit status: 1", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011725/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Timing-related tests are still brittle", 
"title": "Bug #1011725 in Percona Toolkit: \"Timing-related tests are still brittle\"", 
"date_confirmed": "2012-06-19T20:05:52.642435+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1011725", 
"date_left_new": "2012-06-19T20:05:52.642435+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1011725", 
"milestone_link": null, 
"http_etag": "\"3f5ae72250037ec05606b0aebb57276ebb1c9428-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1011725", 
"date_created": "2012-06-11T17:26:25.929012+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"test-failure"
]
}, 
{
"date_closed": "2012-06-15T13:44:37.725199+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1013671, 
"date_in_progress": null, 
"bug_description": "Hi all\n     I am trying to use pt-query-advisor with --query option and getting errors. According to the documentation pt-query-advisor can be used used to analyze queries either from slow log files, --query option [Using this i can provide query to analyze i guess] and last option is --review\n\nJust to me more clear i do not want to use slow query log file instead i am interested in providing query directly using --query option. Following is the command i am entering.\n\npt-query-advisor  --query SELECT * FROM someDB.someTable u=<user name with sufficient rights>,p=<db password>,h=<IP>,S=/var/run/mysqld/mysqld.sock,D=<databaseName>\nWhen i hit enter i get\n\nCannot open FROM: No such file or directory\nCannot open sugarcrm.accounts: No such file or directory\nCannot open u=<user name with sufficient rights>,p=<db password>,h=<IP>,S=/var/run/mysqld/mysqld.sock: No such file or directory\n\nCan anyone tell what i am missing here.  I think i am missing something somewhere. I have also searched google to article related to this but the article i have found is using path to slow log file which i do not want.\n\nPlease suggest.\n\nRegards \nGurvinder Dadyala", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1013671/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-advisor --query <DSN option> does not work", 
"title": "Bug #1013671 in Percona Toolkit: \"pt-query-advisor --query <DSN option> does not work\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1013671", 
"date_left_new": "2012-06-15T13:44:37.725199+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1013671", 
"milestone_link": null, 
"http_etag": "\"8bed5ca35e2c53892d62efdabc40c70ae668c9e4-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~gurvinder", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1013671", 
"date_created": "2012-06-15T13:29:38.359084+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-query-advisor"
]
}, 
{
"date_closed": "2012-06-19T18:24:45.333860+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1014877, 
"date_in_progress": null, 
"bug_description": "Using: percona-toolkit-2.1.2-1 I invoke pt-slave-delay like this (from a shell script called by cron on an hourly basis):\n\nruntime=$((55 * 60))\nlogfile=/path/to/pt-slave-delay-$(date +%Y%m%d).log\n\n/usr/bin/pt-slave-delay --delay 12h --interval 10s --daemonize --log $logfile --run-time ${runtime}s localhost\n\nThe log file says:\n\n2012-06-18T22:24:52 Reconnected to slave\n2012-06-18T22:24:52 slave stopped at master position binlog.000666/707300702\n2012-06-18T22:25:02 Reconnected to slave\n2012-06-18T22:25:02 slave stopped at master position binlog.000666/708587462\n2012-06-18T22:25:02 Setting slave to run normally\n2012-06-18T23:54:02 Reconnected to slave\n2012-06-18T23:54:02 slave running 0 seconds behind\n2012-06-18T23:54:02 STOP SLAVE until 2012-06-19T11:54:02 at master position binlog.000667/634052374\n2012-06-18T23:54:12 Reconnected to slave\n2012-06-18T23:54:12 slave stopped at master position binlog.000667/635755728\n2012-06-18T23:54:22 Reconnected to slave\n2012-06-18T23:54:22 slave stopped at master position binlog.000667/638073934\n\nWhat I don't see is:\n(0) if daemonised the startup parameters of the script,\n(1) pid of the script (might be handy if different scripts log to the same file)\n(2) What the script is trying to achieve. Looking at the log file there is no indication of what delay the script is trying to achieve (if for nothing else as a reference later)\n(3) no clear reference to the current delay (vs the intended delay).\n\nThus if the delay is not as expected it is hard to see why that might be, and the Description section in PT-SLAVE-DELAY(1p) does not really help either.\n\nI've seen that sometimes the script does not seem to work as expected but given the logging above it's not very helpful to indicate where the problem may lie, and that includes use/dba setup errors.\n\nSo I'd like to suggest that the logging makes an attempt to show more detail in a way a DBA can easily understand. Not all the info needs to be shown on every line but the logging above seems rather inadequate.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1014877/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-delay logging is insufficient", 
"title": "Bug #1014877 in Percona Toolkit: \"pt-slave-delay logging is insufficient\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1014877", 
"date_left_new": "2012-06-19T18:24:45.333860+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1014877", 
"milestone_link": null, 
"http_etag": "\"eca340c95e64e86ca2b4d2a6d2f7ce0312e71220-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~sjmudd", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1014877", 
"date_created": "2012-06-18T22:21:58.097392+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-slave-delay"
]
}, 
{
"date_closed": "2012-06-19T18:34:20.980267+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1015230, 
"date_in_progress": null, 
"bug_description": "It would be nice to have a separate sub-section (like SYNOPSIS, OUTPUT etc.)  which documents the minimum set of privileges required to run it (a covering set). This request is based on a customer issue (added in tag) where customer didn't want to provide all privileges and wanted a minimum set.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015230/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "[Documentation] Document privileges required by respective pt-tools", 
"title": "Bug #1015230 in Percona Toolkit: \"[Documentation] Document privileges required by respective pt-tools\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1015230", 
"date_left_new": "2012-06-19T18:34:20.980267+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1015230", 
"milestone_link": null, 
"http_etag": "\"1a9c5d6c5357c4c58564777cae69981848863685-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~raghavendra-prabhu", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015230", 
"date_created": "2012-06-19T18:12:17.400021+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"i24375"
]
}, 
{
"date_closed": "2012-06-20T14:23:09.304573+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1015577, 
"date_in_progress": null, 
"bug_description": "report output via email when exit status is nonzero, say add new option\n--email\n\nprinting to standard error will be preserved.\n\nthis one can simplify necessarily wrapper script for using pt-table-checksum. thanks", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015577/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum - Send email when exit status is nonzero - feature request", 
"title": "Bug #1015577 in Percona Toolkit: \"pt-table-checksum - Send email when exit status is nonzero - feature request\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1015577", 
"date_left_new": "2012-06-20T14:23:09.304573+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1015577", 
"milestone_link": null, 
"http_etag": "\"c3264ecbf0b744cf1260d3faf9779adfd29dc6dc-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~fuxa-kos", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1015577", 
"date_created": "2012-06-20T14:02:22.744160+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-06-25T16:45:48.978982+00:00", 
"bug_id": 1016272, 
"date_in_progress": null, 
"bug_description": "We're using pt-kill with the following options:\npt-kill --busy-time 120s  --print --match-info \"^(select|SELECT)\" --interval 10 \n\nThe idea is to only kill select queries running longer than 120 seconds.\n\nHowever there's a problem with the logic that pt-kill uses to kill queries.  If the Command is not equal to Query, then busy time is ignored, and other match parameters are free to take effect.\n\nIn this case, a prepared statement is in the \"Execute\" Command state, and running a SELECT in the Info part.  It gets killed immediately by pt-kill every time.\n\n\nThe current assumption that only items in the processlist with Command=Query are \"busy\" But that isn't the case. \n\nI think the right fix is to say that any query which is *not idle* is busy. \n\nThat is to change the current busy time check from:\nif ( $find_spec{busy_time} && ($query->{Command} || '') eq 'Query' ) {\n\nto \nif ( $find_spec{busy_time} && ($query->{Command} || '') ne 'Sleep' ) {\n\nHowever, I understand that this isn't a trivial change.  The smallest change which would fix this issue is to add Execute to the if statement as well as Query, but that seems like it could leave the script vulnerable to similar issues.\n\nThe MySQL documentation in this case seems to agree with my case: that many queries not having Command=Query should actually be considered busy: http://dev.mysql.com/doc/refman/5.1/en/thread-commands.html", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016272/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-kill kills prepared statements without checking busy-time", 
"title": "Bug #1016272 in Percona Toolkit: \"pt-kill kills prepared statements without checking busy-time\"", 
"date_confirmed": "2012-06-25T16:45:48.978982+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1016272", 
"date_left_new": "2012-06-25T16:45:48.978982+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1016272", 
"milestone_link": null, 
"http_etag": "\"90be908771e8f2d833eda6cec2de95dc13207cdb-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~gtowey", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1016272", 
"date_created": "2012-06-21T21:57:57.041864+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-kill"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1017719, 
"date_in_progress": null, 
"bug_description": "When generating the deadlocks output, please include the port number along with the hostname for cases in which multiple instances may be running on a host.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1017719/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Include port number in pt-deadlock-logger output", 
"title": "Bug #1017719 in Percona Toolkit: \"Include port number in pt-deadlock-logger output\"", 
"date_confirmed": "2012-06-27T14:51:11.380354+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1017719", 
"date_left_new": "2012-06-27T14:51:11.380354+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1017719", 
"milestone_link": null, 
"http_etag": "\"6a3e8f4518e02dce150a994099a7e06b7c5c4562-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~geoff-geoffreyanderson", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1017719", 
"date_created": "2012-06-25T22:16:21.642563+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-deadlock-logger"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-06-27T14:51:29.930545+00:00", 
"bug_id": 1018258, 
"date_in_progress": null, 
"bug_description": "When running with large slow log files and the server timedout or got disconnected somewhere along the way i.e. restarted, ptqd does not attempt to reconnect. For the purpose of testing I run ptqd on one session and killed mysql on the other.\n\n<session #1>\n[revin@forge msb_5_5_25]$ pt-query-digest --version\npt-query-digest 2.1.2\n[revin@forge msb_5_5_25]$ pt-query-digest --review h=localhost,S=/tmp/mysql_sandbox5525.sock,u=msandbox,p=msandbox,D=percona,t=ptqd_r --create-review-table --review-history h=localhost,S=/tmp/mysql_sandbox5525.sock,u=msandbox,p=msandbox,D=percona,t=ptqd_rh --create-review-history-table --no-report --progress time,1 /wok/dta/wdb01-slow-log/Wdb01-slow.log.2012-04-19\n/wok/dta/wdb01-slow-log/Wdb01-slow.log.2012-04-19:   0% 17:25 remain\n...\n...\n/wok/dta/wdb01-slow-log/Wdb01-slow.log.2012-04-19:  85% 00:03 remain\n/wok/dta/wdb01-slow-log/Wdb01-slow.log.2012-04-19:  90% 00:02 remain\n/wok/dta/wdb01-slow-log/Wdb01-slow.log.2012-04-19:  95% 00:00 remain\nPipeline process 5 (iteration) caused an error: DBD::mysql::st execute failed: MySQL server has gone away [for Statement \"SELECT `first_seen`, `last_seen`, `reviewed_by`, `reviewed_on`, `comments`, CONV(checksum, 10, 16) AS checksum_conv FROM `percona`.`ptqd_r` WHERE checksum=CONV(?, 16, 10)\" with ParamValues: 0='0EE57D0F76A951F2'] at /home/revin/bin/pt-query-digest line 8571.\nWill retry pipeline process 4 (iteration) 2 more times.\nPipeline process 5 (iteration) caused an error: DBD::mysql::st execute failed: MySQL server has gone away [for Statement \"SELECT `first_seen`, `last_seen`, `reviewed_by`, `reviewed_on`, `comments`, CONV(checksum, 10, 16) AS checksum_conv FROM `percona`.`ptqd_r` WHERE checksum=CONV(?, 16, 10)\" with ParamValues: 0='0EE57D0F76A951F2'] at /home/revin/bin/pt-query-digest line 8571.\nWill retry pipeline process 4 (iteration) 1 more time.\nPipeline process 2 (input) caused an error: tell() on closed filehandle at /home/revin/bin/pt-query-digest line 12167.\nThe pipeline caused an error: Pipeline process 5 (iteration) caused an error: DBD::mysql::st execute failed: MySQL server has gone away [for Statement \"SELECT `first_seen`, `last_seen`, `reviewed_by`, `reviewed_on`, `comments`, CONV(checksum, 10, 16) AS checksum_conv FROM `percona`.`ptqd_r` WHERE checksum=CONV(?, 16, 10)\" with ParamValues: 0='0EE57D0F76A951F2'] at /home/revin/bin/pt-query-digest line 8571.\nTerminating pipeline because process 4 (iteration) caused too many errors.\n[revin@forge msb_5_5_25]$ ^C\n[revin@forge msb_5_5_25]$ \n\n<session #2>\n[revin@forge share]$ cd ~\n[revin@forge ~]$ ps aux|grep 5_5_25\nrevin     9606  0.0  0.2 488552 40504 ?        Sl   01:43   0:00 /wok/bin/mysql/5.5.25/bin/mysqld --defaults-file=/ssd/sb/msb_5_5_25/my.sandbox.cnf --basedir=/wok/bin/mysql/5.5.25 --datadir=/ssd/sb/msb_5_5_25/data --plugin-dir=/wok/bin/mysql/5.5.25/lib/plugin --log-error=/ssd/sb/msb_5_5_25/data/msandbox.err --pid-file=/ssd/sb/msb_5_5_25/data/mysql_sandbox5525.pid --socket=/tmp/mysql_sandbox5525.sock --port=5525\nrevin     9653  0.0  0.0 103340  1024 pts/33   S+   01:46   0:00 grep 5_5_25\nrevin    31225  0.0  0.0 106328  1552 ?        S    Jun25   0:00 /bin/sh /wok/bin/mysql/5.5.25/bin/mysqld_safe --defaults-file=/ssd/sb/msb_5_5_25/my.sandbox.cnf\n[revin@forge ~]$ kill -9 9606\n[revin@forge ~]$", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1018258/related_tasks", 
"date_assigned": "2012-08-13T04:27:26.533735+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest does not reconnect to MySQL when connection is lost", 
"title": "Bug #1018258 in Percona Toolkit: \"pt-query-digest does not reconnect to MySQL when connection is lost\"", 
"date_confirmed": "2012-06-27T14:51:29.930545+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1018258", 
"date_left_new": "2012-06-27T14:51:29.930545+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1018258", 
"milestone_link": null, 
"http_etag": "\"e703fb6ebc189a05b8815ae415a4c519b02617bf-27d936e9122aee8f867d496bf092d5c9ab2aeae1\"", 
"owner_link": "https://api.launchpad.net/devel/~revin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1018258", 
"date_created": "2012-06-27T05:52:03.835399+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"connection", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-06-28T14:40:36.814946+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1018827, 
"date_in_progress": null, 
"bug_description": "In some cases it would be helpful to run pt-mysql-summary without being prompted for input, for example when dumping the results to a file.  The specific message:\n\nWould you like to mysqldump -d the schema and analyze it? y/n\n\nIt would be nice if there was a flag to pass that indicated whether to dump schemas or not (in my use case, to disable dumping of schemas).\n\nA workaround exists to pass --databases=mysql and then you can run the tool non-interactively.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1018827/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "cannot easily run pt-mysql-summary in non-interactive mode", 
"title": "Bug #1018827 in Percona Toolkit: \"cannot easily run pt-mysql-summary in non-interactive mode\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1018827", 
"date_left_new": "2012-06-28T14:40:36.814946+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1018827", 
"milestone_link": null, 
"http_etag": "\"202f1ef425cd9654e619af015aadc9d68bd45623-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1018827", 
"date_created": "2012-06-28T12:31:03.494975+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-mysql-summary"
]
}, 
{
"date_closed": "2012-08-16T15:45:34.526555+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1019283, 
"date_in_progress": null, 
"bug_description": "Hi\nAs you can see from this example, the pt-slave-delay does not know what to do when the server is in Row based replication (MySQL 5.5.16):\n\n1. pt-slave-delay is running as daemon with planned lag of 12 hours:\n\n[root@server-01 ~]# ps aux | grep slave\nroot     20248  0.0  0.0  48832  8632 ?        Ss   14:30   0:00 perl /usr/bin/pt-slave-delay --delay 12h --interval 20s --nocontinue --daemonize --log /root/pt-slave-delay-20120629.log --run-time 3570s localhost\n\n2. As per log the server the pt-slave-delay checked the slave, and decided to stop the replication:\n\n[root@server-01 ~]# tail /root/pt-slave-delay-20120629.log\n2012-06-29T15:22:42 Reconnected to slave\n2012-06-29T15:22:42 slave stopped at master position binlog.000281/926373531\n2012-06-29T15:23:02 Reconnected to slave\n2012-06-29T15:23:02 slave stopped at master position binlog.000281/926838029\n2012-06-29T15:23:22 Reconnected to slave\n2012-06-29T15:23:22 slave stopped at master position binlog.000281/929618034\n2012-06-29T15:23:42 Reconnected to slave\n2012-06-29T15:23:42 slave stopped at master position binlog.000281/931175180\n2012-06-29T15:24:02 Reconnected to slave\n2012-06-29T15:24:02 slave stopped at master position binlog.000281/932669812\n\n\nBut in reality, the server is lagging for 12 hours and 37 minued \n[root@server-01 ~]#  mysql -e\"start slave SQL_THREAD\";show_replication_status ; mysql -e\"stop slave SQL_THREAD\"\nSlave IO Running:  Yes\nSlave SQL Running: Yes\nReplication Delay: 45479 (12h 37m 59s behind master)\n\n\nStarting the SQL_Thread manually, will make the server catch up, but if I do not notice this in time, the server just keeps lagging.\n\n[root@server-01 ~]# pt-slave-delay --version\npt-slave-delay 2.1.2\n\nThanks\nGuy", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019283/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-delay do not work properly with RBR", 
"title": "Bug #1019283 in Percona Toolkit: \"pt-slave-delay do not work properly with RBR\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1019283", 
"date_left_new": "2012-08-16T15:45:34.526555+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1019283", 
"milestone_link": null, 
"http_etag": "\"86d11b6bfe2c509c30a4d411120ccff907557ece-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~metalink", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019283", 
"date_created": "2012-06-29T13:43:16.979110+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-slave-delay"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1019479, 
"date_in_progress": null, 
"bug_description": "mysql> set global sql_mode=\"ONLY_FULL_GROUP_BY\";\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> quit\nBye\n~$ ./pt-table-checksum -h 127.0.0.1 --port=21178\n\n            TS ERRORS  DIFFS     ROWS  CHUNKS SKIPPED    TIME TABLE\n06-30T11:07:41      0      0        9       1       0   0.256 employees.departments\n06-30T11:07:44 Error executing EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`dept_emp` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` < ?) OR (`emp_no` = ? AND `dept_no` < ?)) ORDER BY `emp_no`, `dept_no` /*explain past lower chunk*/: DBD::mysql::st execute failed: Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) with no GROUP columns is illegal if there is no GROUP BY clause [for Statement \"EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`dept_emp` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` < ?) OR (`emp_no` = ? AND `dept_no` < ?)) ORDER BY `emp_no`, `dept_no` /*explain past lower chunk*/\" with ParamValues: 0='10001', 1='10001', 2='d005'] at ./pt-table-checksum line 7866.\n\n06-30T11:07:44 Skipping chunk 11 of employees.dept_emp because MySQL chose no index  instead of the PRIMARYindex.\n06-30T11:07:44 Error executing EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`dept_emp` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` > ?) OR (`emp_no` = ? AND `dept_no` > ?)) ORDER BY `emp_no`, `dept_no` /*explain past upper chunk*/: DBD::mysql::st execute failed: Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) with no GROUP columns is illegal if there is no GROUP BY clause [for Statement \"EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`dept_emp` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` > ?) OR (`emp_no` = ? AND `dept_no` > ?)) ORDER BY `emp_no`, `dept_no` /*explain past upper chunk*/\" with ParamValues: 0='499999', 1='499999', 2='d004'] at ./pt-table-checksum line 7866.\n\n06-30T11:07:44      2      0   331603      12       2   2.685 employees.dept_emp\n06-30T11:07:44      0      0       24       1       0   0.289 employees.dept_manager\n06-30T11:07:45 Error executing EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`employees` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` < ?)) ORDER BY `emp_no` /*explain past lower chunk*/: DBD::mysql::st execute failed: Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) with no GROUP columns is illegal if there is no GROUP BY clause [for Statement \"EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`employees` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` < ?)) ORDER BY `emp_no` /*explain past lower chunk*/\" with ParamValues: 0='10001'] at ./pt-table-checksum line 7866.\n\n06-30T11:07:45 Skipping chunk 3 of employees.employees because MySQL chose no index  instead of the PRIMARYindex.\n06-30T11:07:45 Error executing EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`employees` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` > ?)) ORDER BY `emp_no` /*explain past upper chunk*/: DBD::mysql::st execute failed: Mixing of GROUP columns (MIN(),MAX(),COUNT(),...) with no GROUP columns is illegal if there is no GROUP BY clause [for Statement \"EXPLAIN SELECT  COUNT(*), '0' FROM `employees`.`employees` FORCE INDEX(`PRIMARY`) WHERE ((`emp_no` > ?)) ORDER BY `emp_no` /*explain past upper chunk*/\" with ParamValues: 0='499999'] at ./pt-table-checksum line 7866.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019479/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum does not work with sql_mode ONLY_FULL_GROUP_BY", 
"title": "Bug #1019479 in Percona Toolkit: \"pt-table-checksum does not work with sql_mode ONLY_FULL_GROUP_BY\"", 
"date_confirmed": "2012-07-03T13:18:51.678385+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1019479", 
"date_left_new": "2012-07-03T13:18:51.678385+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1019479", 
"milestone_link": null, 
"http_etag": "\"4ecbf68daa31341fa3c0c97e808bc163a7e619b7-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~jssicam", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019479", 
"date_created": "2012-06-30T03:09:40.914173+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"percona-24601", 
"pt-table-checksum", 
"sql-mode"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-07-09T16:21:42.047725+00:00", 
"bug_id": 1019648, 
"date_in_progress": null, 
"bug_description": "If there is a very high number of open transactions, the output from SHOW ENGINE INNODB STATUS will be truncated. \n\nI think pt-stalk could create the innodb_monitor table in addition to running the SHOW ENGINE command, so that if the output is truncated, the full content will be sent to the error log. \n\nSince the error log is already saved, I believe this can be achieved by simply adding the following lines to the start and end of a capture: \n\n$CMD_MYSQL $EXT_ARGV mysql -e 'CREATE TABLE innodb_monitor (a INT) ENGINE=INNODB'\n\n$CMD_MYSQL $EXT_ARGV mysql -e 'DROP TABLE innodb_monitor'\n\nFeel free to change this into a feature request. In my personal experience I prefer to consider it a bug as we're missing a very important part of the picture while trying to diagnose an intermittent db outage.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019648/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk does not get the full innodb output if there are too many transactions", 
"title": "Bug #1019648 in Percona Toolkit: \"pt-stalk does not get the full innodb output if there are too many transactions\"", 
"date_confirmed": "2012-07-09T16:21:42.047725+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1019648", 
"date_left_new": "2012-07-09T16:21:42.047725+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1019648", 
"milestone_link": null, 
"http_etag": "\"94f416289173639edfadf184f8d7242e429a0563-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1019648", 
"date_created": "2012-06-30T19:47:57.142877+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-07-09T16:23:49.995359+00:00", 
"bug_id": 1021903, 
"date_in_progress": null, 
"bug_description": "I'm trying to run pt-diskstats as a collectd plugin because I like the information provided by this tool instead of iostat. The problem is when pt-diskstats is started up without being attached to the terminal, the parent (non data gathering) process uses %100 cpu. Strace output shows the following repeating very often.\n\nselect(8, [0], NULL, NULL, {1, 364751}) = 1 (in [0], left {1, 364744})\nread(0, 0x133e400, 4096)                = -1 EBADF (Bad file descriptor)\nread(3, 0x1340860, 4096)                = -1 EAGAIN (Resource temporarily unavailable)\nread(3, 0x1340860, 4096)                = -1 EAGAIN (Resource temporarily unavailable)\nselect(8, [0], NULL, NULL, {1, 364372}) = 1 (in [0], left {1, 364365})\nread(0, 0x133e400, 4096)                = -1 EBADF (Bad file descriptor)\nread(3, 0x1340860, 4096)                = -1 EAGAIN (Resource temporarily unavailable)\nread(3, 0x1340860, 4096)                = -1 EAGAIN (Resource temporarily unavailable)\n\nAttached is a full strace output of the following command:\nPTDEBUG=1 strace -ttt -s 1024 -o diskstats.strace -f nohup perl /usr/bin/pt-diskstats --iterations 2\n\nAnd a Devel::NYTProf html and original output of the following:\n\nperl -d:NYTProf /usr/bin/pt-diskstats --iterations 2\n\nnohup perl -d:NYTProf /usr/bin/pt-diskstats --iterations 2\n\nMy System:\n\n[root@pt ~]# uname -a\nLinux pt 2.6.32-220.23.1.el6.x86_64 #1 SMP Mon Jun 18 18:58:52 BST 2012 x86_64 x86_64 x86_64 GNU/Linux\n[root@pt ~]# cat /etc/redhat-release \nCentOS release 6.2 (Final)\n\nReplicated on Debian Squeeze\n\nI know the intent of this script is to run in an interactive way however the data is too good not to trend in someway, which is done non-interactively.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1021903/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-diskstats usage in non-interactive scripts", 
"title": "Bug #1021903 in Percona Toolkit: \"pt-diskstats usage in non-interactive scripts\"", 
"date_confirmed": "2012-07-09T16:23:49.995359+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1021903", 
"date_left_new": "2012-07-09T16:23:49.995359+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1021903", 
"milestone_link": null, 
"http_etag": "\"1ed30f3931d73f17f146e9df8e7b1853798cb1ed-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~jburnham25", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1021903", 
"date_created": "2012-07-06T19:54:05.675302+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-diskstats"
]
}, 
{
"date_closed": null, 
"status": "In Progress", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": "2012-08-01T18:01:04.599714+00:00", 
"bug_id": 1022622, 
"date_in_progress": "2012-08-01T18:01:04.599714+00:00", 
"bug_description": "pt-config diff will report something like this a difference:\n\n========================= ===================== ==============\nbinlog_format             MIXED                 mixed", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022622/related_tasks", 
"date_assigned": "2012-08-01T18:01:10.129278+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-config-diff is case-sensitive", 
"title": "Bug #1022622 in Percona Toolkit: \"pt-config-diff is case-sensitive\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1022622", 
"date_left_new": null, 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1022622", 
"milestone_link": null, 
"http_etag": "\"56600d3e592603f5662555fb0625b3e732e9c19f-27027fb722aef4bec61a86393492728a55a3b5a1\"", 
"owner_link": "https://api.launchpad.net/devel/~daniel-nichter", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1022622", 
"date_created": "2012-07-09T16:30:35.091862+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-config-diff", 
"wrong-output"
]
}, 
{
"date_closed": "2012-07-20T17:37:57.728600+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-07-20T15:53:45.155185+00:00", 
"bug_id": 1026662, 
"date_in_progress": "2012-07-20T17:37:57.728600+00:00", 
"bug_description": "mike@ubuntu:~$ pt-table-sync --execute h=agile-production-db,D=keywords,t=traffic_sources h=localhost,u=root,p=root\n\nmike@ubuntu:~$ pt-table-sync --version\npt-table-sync 1.0.1\n\nMaster database:\nServer version: 5.1.58-1ubuntu1-log (Ubuntu)\nSlave database:\nServer version: 5.5.24-0ubuntu0.12.04.1 (Ubuntu)\n\nmike@ubuntu:~$ pt-table-sync --execute h=agile-production-db,D=keywords,t=traffic_sources h=localhost,u=root,p=root\nDBD::mysql::db do failed: Unknown column ',NO_AUTO_VALUE_ON_ZERO' in 'field list' [for Statement \"/*!40101 SET @@SQL_MODE := CONCAT(@@SQL_MODE, \",NO_AUTO_VALUE_ON_ZERO\")*/\"] at /usr/bin/pt-table-sync line 8378.\nIssuing rollback() due to DESTROY without explicit disconnect() of DBD::mysql::db handle keywords;host=agile-production-db;mysql_read_default_group=client at /usr/bin/pt-table-sync line 8378.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1026662/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync fails setting NO_AUTO_VALUE_ON_ZERO", 
"title": "Bug #1026662 in Percona Toolkit: \"pt-table-sync fails setting NO_AUTO_VALUE_ON_ZERO\"", 
"date_confirmed": "2012-07-20T15:53:45.155185+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1026662", 
"date_left_new": "2012-07-20T15:53:45.155185+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1026662", 
"milestone_link": null, 
"http_etag": "\"f88b538a25f1135a866604f8ed7f419e9d1f2d73-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~mfp7", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-20T17:37:57.728600+00:00", 
"date_fix_released": "2012-07-20T17:37:57.728600+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1026662", 
"date_created": "2012-07-19T15:21:16.859637+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-sync", 
"wrong-sql"
]
}, 
{
"date_closed": "2012-07-19T18:02:25.425686+00:00", 
"status": "Fix Released", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-07-19T18:02:25.425686+00:00", 
"bug_id": 1026664, 
"date_in_progress": "2012-07-19T18:02:25.425686+00:00", 
"bug_description": "mike@ubuntu:~$ pt-table-sync --execute h=agile-production-db,D=keywords,t=traffic_sources h=localhost,u=root,p=root\n\nmike@ubuntu:~$ pt-table-sync --version\npt-table-sync 1.0.1\n\nMaster database:\nServer version: 5.1.58-1ubuntu1-log (Ubuntu)\nSlave database:\nServer version: 5.5.24-0ubuntu0.12.04.1 (Ubuntu)\n\n\n\nmike@ubuntu:~$ pt-table-sync --execute h=agile-production-db,D=keywords,t=traffic_sources h=localhost,u=root,p=root\nUnknown column '' in 'field list' [for Statement \"SET @crc := \"\", @cnt := 0\"] at line 4342 while doing keywords.traffic_sources on localhost\n\nCommenting out the line to run the sql statement let's me run the script successfully.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1026664/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync prepare_sync_cylce fails", 
"title": "Bug #1026664 in Percona Toolkit: \"pt-table-sync prepare_sync_cylce fails\"", 
"date_confirmed": "2012-07-19T18:02:25.425686+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1026664", 
"date_left_new": "2012-07-19T18:02:25.425686+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1026664", 
"milestone_link": null, 
"http_etag": "\"c6c37ffd018517d806718bed277f49b2e2a47997-dd59164b5db200ee4e1a590fe4caf6dbd5fc0d2c\"", 
"owner_link": "https://api.launchpad.net/devel/~mfp7", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": "2012-07-19T18:02:25.425686+00:00", 
"date_fix_released": "2012-07-19T18:02:25.425686+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1026664", 
"date_created": "2012-07-19T15:25:04.409364+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-sync"
]
}, 
{
"date_closed": "2012-08-10T19:11:14.893009+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1028159, 
"date_in_progress": null, 
"bug_description": "From percona_tookit 2.1.2\npt-align truncates the first and last line.\n\n[root@ tmp]# cat result.txt \n1\tgrape\tgrade D\t4.99\n2\tapple\tlimber\t1.79\n3\torange\tvalencia\t2.59\n4\tgrape\tgrade B\t3.99\n5\tpear\tbartlett\t2.19\n6\tapple\tfuji\t0.23\n7\tpear\tbradford\t1.69\n8\tcherry\tbing\t3.99\n9\torange\tnavel\t5.99\n10\tapple\tgala\t2.33\n11\tgrape\tgrade A\t7.99\n12\tapple\tdelicious\t0.79\n13\tgrape\tgrade C\t8.99\n14\torange\tsunlight\t0.89\n15\tgrape\tgrade E\t5.99\n[root@ tmp]# pt-align result.txt \n 2 apple  limber    1.79\n 3 orange valencia  2.59\n 5 pear   bartlett  2.19\n 6 apple  fuji      0.23\n 7 pear   bradford  1.69\n 8 cherry bing      3.99\n 9 orange navel     5.99\n10 apple  gala      2.33\n12 apple  delicious 0.79\n14 orange sunlight  0.89", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028159/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-align truncates the first and last lines", 
"title": "Bug #1028159 in Percona Toolkit: \"pt-align truncates the first and last lines\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1028159", 
"date_left_new": "2012-07-25T22:49:31.721899+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1028159", 
"milestone_link": null, 
"http_etag": "\"e9ae1fb067ae34074c4144ae22ffdb3c7a969f96-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~java-jsps", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1028159", 
"date_created": "2012-07-23T21:48:06.068036+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-align", 
"wrong-output"
]
}, 
{
"date_closed": "2012-08-08T22:00:35.078240+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1029512, 
"date_in_progress": null, 
"bug_description": "When executing a pt-table-checksum against a 4.1 master and 5.5 slave, it fails.  This is due to 2 reasons:\n\n1. 4.1 doesn't have @@hostname variable\n2. 4.1 doesn't have SHOW GLOBAL STATUS LIKE support\n\nThe \"fixes\" I used are here:\n\n(left side: fixed 2.1.2, right side: vanilla 2.1.2)\n1483c1483\n<    my $sql = 'SELECT /*!50038 @@hostname, */ 1, @@server_id';\n---\n>    my $sql = 'SELECT @@hostname, @@server_id';\n6684c6684\n<          my $sql = \"SHOW STATUS LIKE ?\";\n---\n>          my $sql = \"SHOW GLOBAL STATUS LIKE ?\";\n\nThe first fix ought to be correct. The second one is very much a hack to make it work while onsite.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1029512/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum fails when comparing 4.1 vs 5.5", 
"title": "Bug #1029512 in Percona Toolkit: \"pt-table-checksum fails when comparing 4.1 vs 5.5\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1029512", 
"date_left_new": "2012-08-08T22:00:35.078240+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1029512", 
"milestone_link": null, 
"http_etag": "\"010b87c9bf8c8452b5dacb59dd54ff0f856515bc-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1029512", 
"date_created": "2012-07-26T15:39:28.090501+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-08T22:21:18.060602+00:00", 
"bug_id": 1030053, 
"date_in_progress": null, 
"bug_description": "While syncing a slave to its master, I noticed some sets of rows are not getting synced. A table on the slave was loaded incorrectly and the timestamp field was different by 7 hours from the master. I ran the following command to do the initial sync:\n\npt-table-sync --execute h=dbslave01,P=3306,D=zappos,t=style_image --sync-to-master --verbose\n\nThis reported back that about half the rows were replaced to fix the time discrepancies, but not all the rows. In troubleshooting the problem, I found an anomaly in the calculations performed by this query that is run by pt-table-sync:\n\n\nSELECT \n  /*zappos.style_image:8924/60176*/\n  8923 AS chunk_num, COUNT(*) AS cnt, COALESCE(LOWER(CONV(BIT_XOR(CAST(CRC32(CONCAT_WS('#', `style_image_id`, `style_id`, `image_type_code`, `zima_recipe_id`, `image_format`, `filename`, `width`, `height`, `updated_at` + 0)) AS UNSIGNED)), 10, 16)), 0) AS crc \nFROM   `zappos`.`style_image` FORCE INDEX (`PRIMARY`) \nWHERE (`style_image_id` >= '1429' \n    AND `style_image_id` < '1435'\n  ) FOR UPDATE ;\n\nWhenever this query would run against an even number of rows that all had the same time error, then it calculates the same checksum value.  Here is a sample of the data I'm comparing with the CRC32 value for the row and the cumulative XOR value. As you can see every other row generates the same value for XOR. Note, there are other columns that went into the calculation of the CRC, but I did not include them since they are verified to be the same on master and slave\n\nData from master:\n\nstyle_image_id  updated_at        CRC32         XOR \n1429            10/19/2011 9:41\t  3952427013\t\n1430            10/19/2011 9:41\t  407848744     4091152173 \n1431            10/19/2011 9:41\t  2677520393    1817034532 \n1432            10/19/2011 9:41\t  2468571109    4285454529 \n1433            10/19/2011 9:41\t  1208292545    3077295104 \n1434            10/19/2011 9:41\t  3915229246    1580622910 \n\nData from slave: \n\nstyle_image_id  updated_at        CRC32         XOR\n1429            10/19/2011 16:41  2727937137\t\n1430            10/19/2011 16:41  1363346268    4091152173\n1431            10/19/2011 16:41  3600546941    625081168\n1432            10/19/2011 16:41  3660522385    4285454529\n1433            10/19/2011 16:41  17387701      4268198004\n1434            10/19/2011 16:41  2689723466    1580622910\n\nThis problem does not seem to occur with MD5, but CRC32 is the default and may affect more users of the tool.\n\nThis is in version pt-table-sync 2.1.2\nIn my case the master is MySQL Percona 5.1.56-rel12.7-log and the slave is MySQL 5.5.25a-enterprise-commercial-advanced", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030053/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-sync does not detect data difference using CRC32 hash", 
"title": "Bug #1030053 in Percona Toolkit: \"pt-table-sync does not detect data difference using CRC32 hash\"", 
"date_confirmed": "2012-08-08T22:21:18.060602+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1030053", 
"date_left_new": "2012-08-08T22:21:18.060602+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1030053", 
"milestone_link": null, 
"http_etag": "\"a0a4fd0a8ea44ff93a3855c250d808b7c53de2c8-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~lmargulin", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1030053", 
"date_created": "2012-07-27T17:33:37.269332+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"chunking", 
"pt-table-sync"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1035080, 
"date_in_progress": null, 
"bug_description": "The docs for pt-query-digest don't have a column(s) defined for the $event->{bytes} property, probably because it's auto-generated and isn't visible in the slow query logs.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035080/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest review table doesn't have \"bytes\"", 
"title": "Bug #1035080 in Percona Toolkit: \"pt-query-digest review table doesn't have \"bytes\"\"", 
"date_confirmed": "2012-08-10T17:37:25.138850+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035080", 
"date_left_new": "2012-08-10T17:37:25.138850+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035080", 
"milestone_link": null, 
"http_etag": "\"04271341b72cf5a81b783d0cc2f33cffc43accf1-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035080", 
"date_created": "2012-08-09T20:44:37.949590+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-query-digest", 
"query-review"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-10T18:09:53.178848+00:00", 
"bug_id": 1035199, 
"date_in_progress": null, 
"bug_description": "Otherwise it will cause replication to fail if row format is in use and targeted row not exists on slave (i.e. having memory engine for heartbeat tbl and restarted the slave)\n\nOf course, this can be worked around with --set-vars, but it would be nice to have it done automatically when appropriate\n\nexperienced on pt-heartbeat 2.1.2", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035199/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat probably should switch to stmt binlog format if started with --replace", 
"title": "Bug #1035199 in Percona Toolkit: \"pt-heartbeat probably should switch to stmt binlog format if started with --replace\"", 
"date_confirmed": "2012-08-10T18:09:53.178848+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035199", 
"date_left_new": "2012-08-10T18:09:53.178848+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035199", 
"milestone_link": null, 
"http_etag": "\"f44f08f1c54c769989e5258d97400eb3d9ea1607-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~kernins", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035199", 
"date_created": "2012-08-10T07:57:19.051563+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-heartbeat", 
"rbr"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1035344, 
"date_in_progress": null, 
"bug_description": "pt-query-digest's --progress option is hard to silence for use in cron jobs where output is undesired. The following disables the progress output:\n\n--progress=''\n\nBut it doesn't disable this warning, which apparently comes from Getopt::Long:\n\n Option progress requires an argument\n\nSo the only way to avoid output in my cron job is a workaround such as this:\n\n--progress=time,1000000", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035344/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest progress is hard to disable", 
"title": "Bug #1035344 in Percona Toolkit: \"pt-query-digest progress is hard to disable\"", 
"date_confirmed": "2012-08-10T17:41:58.198326+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1035344", 
"date_left_new": "2012-08-10T17:41:58.198326+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035344", 
"milestone_link": null, 
"http_etag": "\"c8a0892bb6c775e817ffa4bf9cddd39619de9202-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035344", 
"date_created": "2012-08-10T15:00:44.451069+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"progress", 
"pt-query-digest"
]
}, 
{
"date_closed": "2012-08-10T17:46:51.562617+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1035412, 
"date_in_progress": null, 
"bug_description": "It would be nice if pt-show -grants could add some information_schema queries and list any privileges defined for tables or databases that no longer exist. Not my original idea, but since Sheeri Cabral (of Mozilla) mentioned it, i thought it'd be a nice addition here :)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035412/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "list grants for non existent databases/tables", 
"title": "Bug #1035412 in Percona Toolkit: \"list grants for non existent databases/tables\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1035412", 
"date_left_new": "2012-08-10T17:46:51.562617+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1035412", 
"milestone_link": null, 
"http_etag": "\"377ae3b652e303fd50e66f7598c95eeae28ca1cf-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~silviamikhail", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1035412", 
"date_created": "2012-08-10T17:40:56.584619+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": "2012-08-16T15:50:49.884051+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1036280, 
"date_in_progress": null, 
"bug_description": "I am using the ubuntu image from amazon for  Ubuntu Server 12.04 LTS.\n\nIt looks like pt-heartbeat is broken from repo.  \n\nThis is the error i get when you try to run pt-heartbeat.   \npt-heartbeat \nUse of qw(...) as parentheses is deprecated at /usr/bin/pt-heartbeat line 3027.\n\nInformation on instance.\n\nI installed percona-toolkit using apt-get\nsudo apt-get install percona-toolkit\n\n# Kernel\nuname -a\nLinux ip-10-202-97-130 3.2.0-25-virtual #40-Ubuntu SMP Wed May 23 22:20:17 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux\n\n#  /etc/debian_version \nwheezy/sid\n\n#dpkg -l |grep -i percona\nii  percona-toolkit                  1.0.1-3                    Command-line tools for MySQL and system tasks\n\n#cat /etc/apt/sources.list|grep -v \"\\#\"\n\ndeb http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise main\ndeb-src http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise main\n\ndeb http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise-updates main\ndeb-src http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise-updates main\n\ndeb http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise universe\ndeb-src http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise universe\ndeb http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise-updates universe\ndeb-src http://us-east-1.ec2.archive.ubuntu.com/ubuntu/ precise-updates universe\n\n\ndeb http://security.ubuntu.com/ubuntu precise-security main\ndeb-src http://security.ubuntu.com/ubuntu precise-security main\ndeb http://security.ubuntu.com/ubuntu precise-security universe\ndeb-src http://security.ubuntu.com/ubuntu precise-security universe", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036280/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-heartbeat erros from ubuntu repo , percona-toolkit  1.0.1-3 ", 
"title": "Bug #1036280 in Percona Toolkit: \"pt-heartbeat erros from ubuntu repo , percona-toolkit  1.0.1-3 \"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1036280", 
"date_left_new": "2012-08-16T15:50:49.884051+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1036280", 
"milestone_link": null, 
"http_etag": "\"a5e1f0af4f27e52187042339028cbf8eca164b16-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~eric-hardway", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036280", 
"date_created": "2012-08-13T16:26:14.702965+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"release"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-16T15:53:06.876403+00:00", 
"bug_id": 1036311, 
"date_in_progress": null, 
"bug_description": "When massaging a table I often want to restrict the content at the same time as I change the schema. For that a --where option on pt-online-schema-change would come in handy.\n\nSince NibbleIterator already supports --where I think the only needed change would be to add the documentation (since the allowed options are parsed from the documentation). It works for me at least.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036311/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Option --where is missing from pt-online-schema-change", 
"title": "Bug #1036311 in Percona Toolkit: \"Option --where is missing from pt-online-schema-change\"", 
"date_confirmed": "2012-08-16T15:53:06.876403+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1036311", 
"date_left_new": "2012-08-16T15:53:06.876403+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1036311", 
"milestone_link": null, 
"http_etag": "\"a445187d63b35b90c6385a9d6c092e1e819b76c3-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~msv-kth", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036311", 
"date_created": "2012-08-13T17:53:36.635581+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-online-schema-change", 
"standard-options"
]
}, 
{
"date_closed": "2012-10-13T16:54:31.770343+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1036372, 
"date_in_progress": null, 
"bug_description": "This happens with \n\npt-query-digest 2.0.2\n\nWhen running the command:\n\nsudo pt-query-digest mysql_tmpfile.tmp --since 7d --limit 10 --order-by Query_time:cnt --review D=DBA_TOOL,t=QUERY_REVIEW --table-access --user root\n\n... I get hundreds of messages printed to the console stating:\n\nPipeline process 5 (iteration) caused an error: Use of uninitialized value $_ in concatenation (.) or string at /usr/local/bin/pt-query-digest line 13478.\n\nMy shell script which drives this process first copies, uncompresses and concatenates lot of log files\n\nThese files:\n\n-rw-r----- 1 root root  54M 2012-08-13 18:33 mysqlslow.log.7\n-rw-r----- 1 root root  14M 2012-08-13 18:33 mysqlslow.log.1\n-rw-r----- 1 root root  21M 2012-08-13 18:33 mysqlslow.log.2\n-rw-r----- 1 root root  41M 2012-08-13 18:33 mysqlslow.log.3\n-rw-r----- 1 root root  47M 2012-08-13 18:33 mysqlslow.log.4\n-rw-r----- 1 root root  33M 2012-08-13 18:33 mysqlslow.log.5\n-rw-r----- 1 root root  33M 2012-08-13 18:33 mysqlslow.log.6\n-rw-r----- 1 root root  20M 2012-08-13 18:33 mysqlslow.log\n\nGet concatenated to:\n\n-rw-rw-rw- 1 root root 261M 2012-08-13 18:33 mysql_tmpfile.tmp", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036372/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-query-digest throws numerous \"Pipeline process 5 (iteration) caused an error\" messages", 
"title": "Bug #1036372 in Percona Toolkit: \"pt-query-digest throws numerous \"Pipeline process 5 (iteration) caused an error\" messages\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1036372", 
"date_left_new": "2012-08-16T15:54:52.732883+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1036372", 
"milestone_link": null, 
"http_etag": "\"fad24b0b308b79ca6e70f2d5fe47fc141db0c2ab-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~textures2", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1036372", 
"date_created": "2012-08-13T20:18:38.388699+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-query-digest", 
"slow-log"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-29T14:43:44.774208+00:00", 
"bug_id": 1040813, 
"date_in_progress": null, 
"bug_description": "On a system with this info: \n\ntelecaster:pt-stalk-samples fernandoipar$ uname -a\nDarwin telecaster.local 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64\ntelecaster:pt-stalk-samples fernandoipar$ bash --version\nGNU bash, version 3.2.48(1)-release (x86_64-apple-darwin11)\nCopyright (C) 2007 Free Software Foundation, Inc.\n\nIf I run pt-sift (as obtained just now from percona.com/get/pt-sift) with only one timestamp in the captures directory, echo is disabled on the session. Executing the 'reset' command on the shell solves the problem. \n\nIf I run the script with two or more captures, I don't have this problem. I have been able to reproduce this with multiple captures but just in case (as I couldn't find one in the tests directory) I will be attaching a sample capture that can be used to reproduce this problem on a similar system. \n\nI haven't tested this on other platforms yet.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1040813/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-sift disables echo on OS X if there is a single timestamp", 
"title": "Bug #1040813 in Percona Toolkit: \"pt-sift disables echo on OS X if there is a single timestamp\"", 
"date_confirmed": "2012-08-29T14:43:44.774208+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1040813", 
"date_left_new": "2012-08-29T14:43:44.774208+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1040813", 
"milestone_link": null, 
"http_etag": "\"0635e291cfab836739ccb71cb67a3100dea6c4a5-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1040813", 
"date_created": "2012-08-23T18:17:24.488877+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"mac", 
"pt-sift", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-08-27T15:09:39.771087+00:00", 
"bug_id": 1041208, 
"date_in_progress": null, 
"bug_description": "I'm am trying to install the percona toolkit 2.1 onto my dbdev and dbtest servers and I keep getting the warning of the DBI and DBD versions.  RHEL 4 only goes up to 1.40 on DBI and DBD isn't even supported on RHEL 4.  I would like to test this tool out and then dwindle it down to what I need but I don't want to install with warnings. I'm currently running MySQL 5.1.31 on RHEL 4 and there isn't any input or output files due the fact that it isn't installed.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041208/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "DBI and DBD issue on RHEL 4", 
"title": "Bug #1041208 in Percona Toolkit: \"DBI and DBD issue on RHEL 4\"", 
"date_confirmed": "2012-08-27T15:09:39.771087+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1041208", 
"date_left_new": "2012-08-27T15:09:39.771087+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1041208", 
"milestone_link": null, 
"http_etag": "\"75bbf3d3436cd9840114d4fe40b46e36a0cc10ca-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~greg-lane", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041208", 
"date_created": "2012-08-24T13:59:21.658215+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"dbd-mysql", 
"docs"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1041391, 
"date_in_progress": null, 
"bug_description": "Line 3972:\n\nPTDEBUG && _d('Chosen hash func:', $result);\n\nWhen debug is enabled, this prints:\n\n# RowChecksum:3972 24839 Chosen hash func: undef\n\nregardless of what you have set the function to.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041391/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Debug statement for Chosen hash func prints undef", 
"title": "Bug #1041391 in Percona Toolkit: \"Debug statement for Chosen hash func prints undef\"", 
"date_confirmed": "2012-08-29T14:46:15.009302+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1041391", 
"date_left_new": "2012-08-29T14:46:15.009302+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1041391", 
"milestone_link": null, 
"http_etag": "\"23abd012be77fb7c1dc7bd1e5973a8a5b1426322-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~utdrmac", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1041391", 
"date_created": "2012-08-24T22:12:46.179340+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum", 
"pt-table-sync", 
"pt-upgrade", 
"wrong-output"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1042727, 
"date_in_progress": null, 
"bug_description": "When replication is very delayed, pt-table-checksum will not keep its connection to the replica [was:master] alive, and when the replica catches up or if it dies for some reason, we get an error. It looks like this:\n\n================\n\n08-27T09:44:10 Error waiting for the last checksum of table <...> to replicate to replica <...>: DBD::mysql::db selectrow_array failed: MySQL server has gone away [for Statement \"SELECT MAX(chunk) FROM `percona`.`checksum` WHERE ... at pt-table-checksum line 8581.\n\nCheck that the replica is running and has the replicate table `percona`.`checksum`.  Checking the replica for checksum differences will probably cause another error.\n08-27T09:44:10 Error checking for checksum differences of table <...> on replica <...>: DBD::mysql::db selectall_arrayref failed: MySQL server has gone away [for Statement \"SELECT CONCAT(db, '.', tbl) AS `table`, chunk, chunk_index, lower_boundary, upper_boundary, COALESCE(this_cnt-master_cnt, 0) AS cnt_diff, COALESCE(this_crc <> master_crc OR ISNULL(master_crc) <> ISNULL(this_crc), 0) AS crc_diff, this_cnt, master_cnt, this_crc, master_crc FROM `rkdb`.`archivechecksum` WHERE (master_cnt <> this_cnt OR master_crc <> this_crc OR ISNULL(master_crc) <> ISNULL(this_crc)) AND (db='...' AND tbl='...')\"] at pt-table-checksum line 4118.\n\nCheck that the replica is running and has the replicate table `percona`.`checksum`.\n\n================\n\nI think the tool needs to reconnect to replicas.\n\n[redacted: I think the tool needs to do a keepalive SELECT 1 or something like that.]", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042727/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum doesn't reconnect the slave $dbh", 
"title": "Bug #1042727 in Percona Toolkit: \"pt-table-checksum doesn't reconnect the slave $dbh\"", 
"date_confirmed": "2012-08-29T01:00:14.823841+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1042727", 
"date_left_new": "2012-08-29T01:00:14.823841+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1042727", 
"milestone_link": null, 
"http_etag": "\"3d0a23ece895b10e04e816badd170a7e66306e87-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042727", 
"date_created": "2012-08-28T13:06:21.321607+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"error-recovery", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1042729, 
"date_in_progress": null, 
"bug_description": "I'm running pt-table-checksum from cron, and I only want output if there are differences. (Cron sends me email with any output.)  Right now I'm seeing a lot of warnings from --no-check-plan. I believe this code should be changed:\n\n\n7987    # Ensure that MySQL is still using the entire index.\n7988    # https://bugs.launchpad.net/percona-toolkit/+bug/1010232\n7989    if ( !$nibble_iter->one_nibble()\n7990         && $tbl->{key_len}\n7991         && ($expl->{key_len} || 0) < $tbl->{key_len} ) {\n7992       if ( !$tbl->{warned}->{key_len}++\n7993            && $o->get('quiet') < 2 ) {\n\nThe last line there should say \"! $o->get('quiet')\" in my opinion. I'm not worried if an occasional chunk is skipped.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042729/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --quiet doesn't disable --check-plan warnings", 
"title": "Bug #1042729 in Percona Toolkit: \"pt-table-checksum --quiet doesn't disable --check-plan warnings\"", 
"date_confirmed": "2012-08-29T14:47:01.810533+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1042729", 
"date_left_new": "2012-08-29T14:47:01.810533+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1042729", 
"milestone_link": null, 
"http_etag": "\"33936756ca9009980250519286ae3461e0edd8e1-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1042729", 
"date_created": "2012-08-28T13:11:16.810461+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum", 
"wrong-output"
]
}, 
{
"date_closed": "2012-10-11T21:35:59.851810+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1043924, 
"date_in_progress": null, 
"bug_description": "To help analyze information on which deadlocks are most frequent, pt-deadlock-logger should store a checksum of the query's fingerprint with the record it inserts. A quick and dirty hack in my local copy: add a couple of modules, then:\n\n\n+# ###########################################################################\n # This is a combination of modules and programs in one -- a runnable module.\n # http://www.perl.com/pub/a/2006/07/13/lightning-articles.html?page=last\n # Or, look it up in the Camel book on pages 642 and 643 in the 3rd edition.\n@@ -2371,6 +3515,7 @@\n use English qw(-no_match_vars);\n use List::Util qw(max);\n use Socket qw(inet_aton);\n+Transformers->import(qw(make_checksum));\n use sigtrap qw(handler finish untrapped normal-signals);\n\n use constant PTDEBUG => $ENV{PTDEBUG} || 0;\n@@ -2392,6 +3537,8 @@\n my $n = qr/([^`\\s]+)/;                # MySQL object name\n my $w = qr/(\\w+)/;                    # Words\n my $s = qr/(\\d{6} .\\d:\\d\\d:\\d\\d)/;    # InnoDB timestamp\n+my $qp = new QueryParser();\n+my $qr = new QueryRewriter(QueryParser=>$qp);\n\n # A thread's proc_info can be at least 98 different things I've found in the\n # source.  Fortunately, most of them begin with a gerunded verb.  These are\n@@ -2489,7 +3636,7 @@\n    }\n\n    my @cols = qw( server ts thread txn_id txn_time user hostname ip db tbl idx\n-                  lock_type lock_mode wait_hold victim query );\n+                  lock_type lock_mode wait_hold victim query checksum );\n    if ( $o->got('columns') ) {\n       @cols = grep { $o->get('columns')->{$_} } @cols;\n    }\n@@ -2551,6 +3698,7 @@\n       if ( $ins_sth ) {\n          foreach my $txn (sort { $a->{thread} <=> $b->{thread} } values %txns) {\n             die $text unless $txn->{db};\n+            $txn->{checksum} = make_checksum($qr->fingerprint($txn->{query} || ''));\n             $ins_sth->execute(@{$txn}{@cols});\n          }\n          $dest_dbh->commit();\n@@ -3108,6 +4256,7 @@\n    wait_hold char(1) NOT NULL,\n    victim tinyint unsigned NOT NULL,\n    query text NOT NULL,\n+   checksum char(32) NOT NULL,\n    PRIMARY KEY  (server,ts,thread)\n  ) ENGINE=InnoDB", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043924/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-deadlock-logger should store query checksums", 
"title": "Bug #1043924 in Percona Toolkit: \"pt-deadlock-logger should store query checksums\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1043924", 
"date_left_new": "2012-10-11T21:35:59.851810+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1043924", 
"milestone_link": null, 
"http_etag": "\"e7aafd1b1d64398c7810b573c9aaa4077d9d29b1-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1043924", 
"date_created": "2012-08-30T16:22:18.662511+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-deadlock-logger"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-01T19:25:25.081574+00:00", 
"bug_id": 1044167, 
"date_in_progress": null, 
"bug_description": "On a table partitioned by key, invoking pt-archiver --purge does not delete all the rows matching --where. \n\nSample test case is attached, using these tables: \n\ncreate table test_normal (\n    id int unsigned not null auto_increment, \n    row_a int unsigned not null, \n    row_b int unsigned not null,\n    ts timestamp not null default current_timestamp on update current_timestamp,\n    primary key (id),\n    key ts (ts)\n) engine = innodb;\n\ncreate table test_partitioned (\n    id int unsigned not null auto_increment, \n    row_a int unsigned not null, \n    row_b int unsigned not null,\n    ts timestamp not null default current_timestamp on update current_timestamp,\n    primary key (id),\n    key ts (ts)\n) engine = innodb\npartition by key (id)\npartitions 20;\n\nThe test case populates the tables with 250 rows, and running this: \n\npt-archiver --purge --source S=/tmp/mysql_sandbox5512.sock,u=msandbox,p=msandbox,D=test,t=test_normal --where \"ts <= '2012-12-01 00:00:00'\" --progress 1\n\nsuccessfully removes 250 rows, while this: \n\npt-archiver --purge --source S=/tmp/mysql_sandbox5512.sock,u=msandbox,p=msandbox,D=test,t=test_partitioned --where \"ts <= '2012-12-01 00:00:00'\" --progress 1\n\nremoves less rows, and I have to keep invoking it until all rows are removed. \n\nReproduced on Centos 5.6 and Mac OS X 10.7.4\n\nTo use the test case, just unpack at a directory containing a MySQL sandbox and run ./init_test_case.sh\nThe script has a couple of comment lines with the used pt-archiver invocations, you just have to adjust the socket to use whatever is set for the sandbox used.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1044167/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-archiver not working as expected on partitioned tables", 
"title": "Bug #1044167 in Percona Toolkit: \"pt-archiver not working as expected on partitioned tables\"", 
"date_confirmed": "2012-09-02T17:58:10.923836+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1044167", 
"date_left_new": "2012-09-02T17:58:10.923836+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1044167", 
"milestone_link": null, 
"http_etag": "\"689f99cbf9306cd507f7f52db259bacdb3907023-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~fipar", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1044167", 
"date_created": "2012-08-31T02:39:57.889105+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"partitions", 
"pt-archiver"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_triaged": null, 
"bug_id": 1046440, 
"date_in_progress": null, 
"bug_description": "currently in pt-stalk, the purge_samples function is called between each check iteration.  It's meant to clean up old oprofile samples.  However there are a couple issues with this:\n\n1.  If you're running pt-stalk as a daemon, you may end up collecting a lot of oprofile data.  The default retention time of 30 days leaves a lot of data.  \n2.  When the data piles up, the find command takes 3-5 seconds to run. This means if you're trying to set --interval=1 then you don't actually check that frequently, and stalk starts missing events.\n\nI think the solution is to move the purge_samples call to happen only after the trigger has been hit, and a sample has been collected.  There is really no need to check and delete files every iteration because no new files have been added!  The continuous find command just wastes time/cpu/io.\n\nI could submit a patch, but the change is trivial, just move the current call to purge_samples up about 10 lines or so.  I could submit a patch if you like, but I don't think it's needed in this case.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046440/related_tasks", 
"date_assigned": "2012-09-10T14:07:36.348248+00:00", 
"bug_information_type": "Public", 
"bug_title": "pt-stalk purge_samples slows down checks", 
"title": "Bug #1046440 in Percona Toolkit: \"pt-stalk purge_samples slows down checks\"", 
"date_confirmed": "2012-09-10T14:07:43.727258+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1046440", 
"date_left_new": "2012-09-10T14:07:43.727258+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1046440", 
"milestone_link": null, 
"http_etag": "\"728f4ae44d18931050c5b7c15fc038f6ea52ce1c-2ef132e7e0412b371963333639f8b6927ce197d1\"", 
"owner_link": "https://api.launchpad.net/devel/~gtowey", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046440", 
"date_created": "2012-09-05T17:16:03.115162+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-01T19:28:46.904054+00:00", 
"bug_id": 1046483, 
"date_in_progress": null, 
"bug_description": "pt-archiver queries are likely to be killed by automatic query killers. (Ask me how I know.) The tool then exits with a message such as the following:\n\nDBD::mysql::st execute failed: Lost connection to MySQL server during query [for Statement \"SELECT /*!40001 SQL_NO_CACHE ...\n\nWhere the code in question is the $get_sth execute here:\n\n         PTDEBUG && _d('Fetching rows in next chunk');\n         trace('select', sub {\n            my $select_start = time;\n            $get_sth->execute(@{$lastrow}[@asc_slice]);\n            $last_select_time = time - $select_start;\n            PTDEBUG && _d('Fetched', $get_sth->rows, 'rows');\n            $statistics{SELECT} += $get_sth->rows;\n         });\n\nThis makes the tool not very resilient. I think it should catch errors there and reconnect, then try again --retries times.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046483/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-archiver doesn't reconnect and retry its SELECT queries", 
"title": "Bug #1046483 in Percona Toolkit: \"pt-archiver doesn't reconnect and retry its SELECT queries\"", 
"date_confirmed": "2012-10-01T19:28:46.904054+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1046483", 
"date_left_new": "2012-10-01T19:28:46.904054+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1046483", 
"milestone_link": null, 
"http_etag": "\"77a199bb5ac00a70c62c9bf30da64b9ff5ee51b2-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046483", 
"date_created": "2012-09-05T18:44:42.226661+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"error-recovery", 
"pt-archiver"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1046966, 
"date_in_progress": null, 
"bug_description": "is it possible to have a persistent connection to mysql?,  cause sometimes it fails to connect/collect data  when event is triggered. \n\n\n pt-stalk  --threshold 900 --variable Threads_running\n2012_09_06_17_41_41 Check results: Threads_running=584, matched=no, cycles_true=0\n2012_09_06_17_41_42 Check results: Threads_running=780, matched=no, cycles_true=0\nmysqladmin: connect to server at 'localhost' failed\nerror: 'Too many connections'\n2012_09_06_17_41_57 Detected value is empty; something failed?  Trigger exit status: 0\n2012_09_06_17_41_57 Check results: Threads_running=, matched=no, cycles_true=0\nmysqladmin: connect to server at 'localhost' failed\nerror: 'Too many connections'", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046966/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk  fails  when there is too many connection ", 
"title": "Bug #1046966 in Percona Toolkit: \"pt-stalk  fails  when there is too many connection \"", 
"date_confirmed": "2012-09-10T14:06:59.096748+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1046966", 
"date_left_new": "2012-09-10T14:06:59.096748+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1046966", 
"milestone_link": null, 
"http_etag": "\"283f436cd4f15026b69166ed1d1e1f8994847320-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~gl-inter-my", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1046966", 
"date_created": "2012-09-06T17:52:37.908492+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"error-recovery", 
"pt-stalk"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1048198, 
"date_in_progress": null, 
"bug_description": "pt-slave-restart is designed to quit if --error-text is given but the error message doesn't match that. I run it as a daemon for several known types of errors (deadlocks, lock wait timeouts) and occasionally I get some other problem. I don't want it to quit and have to be restarted. It should just not do anything if it doesn't know what to do. Otherwise when an occasional problem happens, and I correct it manually, now I have to go restart the daemon manually instead of it picking up from there and fixing deadlock/timeout problems.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1048198/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-slave-restart shouldn't exit on unknown error text", 
"title": "Bug #1048198 in Percona Toolkit: \"pt-slave-restart shouldn't exit on unknown error text\"", 
"date_confirmed": "2012-10-01T19:30:58.690056+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1048198", 
"date_left_new": "2012-10-01T19:30:58.690056+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1048198", 
"milestone_link": null, 
"http_etag": "\"36b83b733d0266d828f061a11ab73565db9dfb64-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1048198", 
"date_created": "2012-09-09T11:41:35.538431+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"error-recovery", 
"pt-slave-restart"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-01T20:23:22.721653+00:00", 
"bug_id": 1048844, 
"date_in_progress": null, 
"bug_description": "Running version 2.1.2.\n\nThe output of pt-query-digest --type=genlog does not include any user, host summary information.\n\nThe summary looks like\n\n# Attribute    pct   total     min     max     avg     95%  stddev  median\n# ============ === ======= ======= ======= ======= ======= ======= =======\n# Count          0      29\n# Exec time      0       0       0       0       0       0       0       0\n# Query size     0   5.04k     177     179     178  174.84       0  174.84\n# String:\n# Databases    db1 (28/96%), db2 (1/3%)\n# Query_time distribution\n\n\nI realize not as much information is available as the slow query logs but the general log does include Connect lines.   Taking a look at the script, the parse_event method seems to be looking for the Connect lines and storing the info per thread id.\n\nAround line 9618 \n\nif ( $cmd eq 'Connect' ) {\n            if ( $arg =~ m/^Access denied/ ) {\n               $cmd = $arg;\n            }\n            else {\n               my ($user, undef, $db) = $arg =~ /(\\S+)/g;\n               my $host;\n               ($user, $host) = split(/@/, $user);\n.....\n\nI'd like to use this tool to get better insight into what specific accounts are accessing specific tables this this granularity isn't available from the information_schema statistics", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1048844/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "No user information included when parsing type genlog", 
"title": "Bug #1048844 in Percona Toolkit: \"No user information included when parsing type genlog\"", 
"date_confirmed": "2012-10-01T20:23:22.721653+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1048844", 
"date_left_new": "2012-10-01T20:23:22.721653+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1048844", 
"milestone_link": null, 
"http_etag": "\"2d9de738321b3528425bab73d8cbabf706c44a4f-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~9-mikes", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1048844", 
"date_created": "2012-09-10T22:31:12.736759+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"gen-log", 
"pt-query-digest"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-01T20:32:26.055276+00:00", 
"bug_id": 1049148, 
"date_in_progress": null, 
"bug_description": "I want to set up pt-stalk to trigger when there is too little disk space left, say, 200MB. I have had to write it as a trigger against \"greater than disk-size minus 200MB\" instead. Servers have different disk sizes, so this is somewhat tedious. It would be easier to set up if I could just say \"less than 200MB\" instead.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1049148/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-stalk can't do \"less-than\" thresholds", 
"title": "Bug #1049148 in Percona Toolkit: \"pt-stalk can't do \"less-than\" thresholds\"", 
"date_confirmed": "2012-10-01T20:32:26.055276+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1049148", 
"date_left_new": "2012-10-01T20:32:26.055276+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1049148", 
"milestone_link": null, 
"http_etag": "\"8e634c1a0bb2ff630b83f2063d471a6f1226a801-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1049148", 
"date_created": "2012-09-11T14:11:20.946687+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-stalk"
]
}, 
{
"date_closed": "2012-10-01T20:39:51.335871+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1052102, 
"date_in_progress": null, 
"bug_description": "/usr/local/lib/perl5/site_perl/5.12.4/mach/auto/DBI/DBI.so: Undefined symbol \"Perl_Istack_sp_ptr\"\n\n# uname -rsp\nFreeBSD 9.1-PRERELEASE amd64\n\n# mysql -V\nmysql  Ver 15.1 Distrib 5.3.7-MariaDB, for portbld-freebsd9.0 (amd64) using  EditLine wrapper\n\n# perl -v\n\nThis is perl 5, version 12, subversion 4 (v5.12.4) built for amd64-freebsd", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052102/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Undefined symbol \"Perl_Istack_sp_ptr\"", 
"title": "Bug #1052102 in Percona Toolkit: \"Undefined symbol \"Perl_Istack_sp_ptr\"\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1052102", 
"date_left_new": "2012-10-01T20:39:51.335871+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1052102", 
"milestone_link": null, 
"http_etag": "\"fc482b50df44a3dd1f2411ac6f9977b8e9a4db58-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~dev.zone", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052102", 
"date_created": "2012-09-17T18:10:35.481199+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": []
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-01T20:37:41.947765+00:00", 
"bug_id": 1052475, 
"date_in_progress": null, 
"bug_description": "I'm getting this error on a MyISAM partitioned table that has lots of rows. I'm not immediately sure of the cause, and it doesn't always seem to happen. My local copy has some modifications, so here is the code in question:\n\n8610       @chunks = sort { $a <=> $b } @chunks;\n8611       if ( $chunks[0] < $max_chunk ) {\n8612          if ( $check_pr ) {\n8613             $check_pr->update(sub { return $chunks[0]; });\n8614          }\n8615\n8616          # We shouldn't wait long here because we already waited\n8617          # for all slaves to catchup at least until --max-lag.\n8618          $sleep_time += 0.25 if $sleep_time <= $o->get('max-lag');\n8619          PTDEBUG && _d('Sleep', $sleep_time, 'waiting for chunks');\n8620          sleep $sleep_time;\n8621       }\n\nI note that earlier in the same section of code, we protect against this by doing ($chunks[0] || 0), so we might need to do that again here.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052475/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum uninitialized value in numeric lt (<) at line 8611.", 
"title": "Bug #1052475 in Percona Toolkit: \"pt-table-checksum uninitialized value in numeric lt (<) at line 8611.\"", 
"date_confirmed": "2012-10-01T20:37:41.947765+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1052475", 
"date_left_new": "2012-10-01T20:37:41.947765+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1052475", 
"milestone_link": null, 
"http_etag": "\"e730ac8b92715326bf691cd53c5f0097c1eef3c7-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052475", 
"date_created": "2012-09-18T13:07:48.716910+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"crash", 
"pt-table-checksum"
]
}, 
{
"date_closed": null, 
"status": "Incomplete", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-09-26T21:29:48.285612+00:00", 
"bug_id": 1052767, 
"date_in_progress": "2012-09-26T21:29:48.285612+00:00", 
"bug_description": "Percona Toolket pt-table-checksum is sitll show inconsistency in stdout but in checksum  table not(version 2.1) after i pt-table-sync the all talbles in a database)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052767/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum still reports diffs after running pt-table-sync", 
"title": "Bug #1052767 in Percona Toolkit: \"pt-table-checksum still reports diffs after running pt-table-sync\"", 
"date_confirmed": "2012-09-26T21:29:48.285612+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1052767", 
"date_left_new": "2012-09-26T21:29:48.285612+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1052767", 
"milestone_link": null, 
"http_etag": "\"2476a7ece1e36a82dd42cc4ae7bbe2f303314909-b755d3865fc517ff71a88fe9a1c18be06c0f0d64\"", 
"owner_link": "https://api.launchpad.net/devel/~amery-liu", 
"date_left_closed": null, 
"date_incomplete": "2012-09-26T21:29:48.285612+00:00", 
"date_fix_committed": "2012-09-26T21:29:48.285612+00:00", 
"date_fix_released": "2012-09-26T21:29:48.285612+00:00", 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1052767", 
"date_created": "2012-09-19T06:10:50.926826+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum", 
"wrong-output"
]
}, 
{
"date_closed": "2012-10-02T20:27:29.868659+00:00", 
"status": "Won't Fix", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1053319, 
"date_in_progress": null, 
"bug_description": "While running pt-online-schema-change on big tables, in production, we got either lock wait timeout error or critical load limit exceeded numerous times. At this point OSC will bail deleting the temporary table it has created and rendering the work already done useless (these might be hours and hours of work)\n\nPlease make the tool pause and require human intervention in the form of an interactive prompt so that something can be done to continue the work.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1053319/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change will bail on error", 
"title": "Bug #1053319 in Percona Toolkit: \"pt-online-schema-change will bail on error\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1053319", 
"date_left_new": "2012-09-26T21:30:10.144667+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1053319", 
"milestone_link": null, 
"http_etag": "\"2ed2c36b1eaca3b8b3baf2a2854af3ae960e2912-cb84a37bf8c0ef6a64b720c356cb8a3fc5dc9308\"", 
"owner_link": "https://api.launchpad.net/devel/~mrares", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1053319", 
"date_created": "2012-09-20T10:15:14.170111+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-10-02T19:53:06.995314+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1053915, 
"date_in_progress": null, 
"bug_description": "pt-online-schema-change uses INSERT LOW PRIORITY IGNORE to copy data into the temporary table which can produce silent data loss in at least one scenario: adding an unique index on a column that has duplicate values.\n\nI'm perfectly fine with removing manually the IGNORE keyword to catch this problem, however I don't understand why it's used, so I'd suggest to expand a bit the comment before it to justify it (or remove it if it's just useless copy-pasta form another tool - as far as I could tell it's been there from the first verion of mk-online-schema-change).\n\nThanks.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1053915/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change INSERT IGNORE justification", 
"title": "Bug #1053915 in Percona Toolkit: \"pt-online-schema-change INSERT IGNORE justification\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1053915", 
"date_left_new": "2012-09-28T19:40:30.786182+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1053915", 
"milestone_link": null, 
"http_etag": "\"7b772370abf73c79ef30bdce293296ccb933fec6-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~rpetre", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1053915", 
"date_created": "2012-09-21T09:58:50.082038+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-online-schema-change"
]
}, 
{
"date_closed": "2012-10-12T16:29:52.769753+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1056383, 
"date_in_progress": null, 
"bug_description": "I'm getting this error:\n\nUse of uninitialized value $db in string eq at /usr/local/lib/site_perl/utils/pt/pt-table-checksum line 5612.\n\nThe code is the _resume_from_database() sub, and here's where it's being called:\n\n\n5445    if ( !$self->{db} ) {\n5446       do {\n5447          $self->{db} = shift @{$self->{dbs}};\n5448       } until $self->_resume_from_database($self->{db});\n5449       PTDEBUG && _d('Next database:', $self->{db});\n5450       return unless $self->{db};\n5451    }\n\nI think the do/until loop is the problem here -- I think the server is completely checksummed and we're running off the end of the list. We probably need to change the until condition, or make the subroutine check for undefined $db.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056383/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum --resume dies if server is completely checksummed", 
"title": "Bug #1056383 in Percona Toolkit: \"pt-table-checksum --resume dies if server is completely checksummed\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1056383", 
"date_left_new": "2012-10-02T21:55:41.066840+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1056383", 
"milestone_link": null, 
"http_etag": "\"adabf42aa5d97411d6d12a57a0cf09265e691b62-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~baron-xaprb", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056383", 
"date_created": "2012-09-25T18:34:10.784338+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"crash", 
"pt-table-checksum", 
"resume"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-02T21:46:56.591974+00:00", 
"bug_id": 1056507, 
"date_in_progress": null, 
"bug_description": "running pt-archiver 2.1.3  to delete old data from a table. It's going rather slowly, and the statistics show ~95% of the time is being spent on Action \"other\". Suspecting it might be too aggressive checking the slave lag I added --check-interval 10 --max-lag 10, which didn't give me any improvement.  Still suspicious I ran tcpdump on the slave, and unless I'm misunderstanding something, it's being WAY too aggressive.\n\nCommand being used (tables/hosts obfuscated):\npt-archiver  --purge --progress 50000 --statistics --bulk-delete --limit 10000 --commit-each --primary-key-only --check-slave-lag h=slave-host --check-interval 10 --max-lag 10 --source h=localhost,D=database,t=table --where \"created_date < date_sub(now(), INTERVAL 6 month)\"\n\nWhile that was running on the master, I ran on the slave (using the port pt-archiver is connected to):\n\ntcpdump -i bond0 port 49290 -s 65535 -x -n -q -tttt > tcpdump.txt\npt-query-digest tcpdump.txt --type tcpdump\n...\n# 2.1s user time, 80ms system time, 20.57M rss, 120.88M vsz\n# Current date: Tue Sep 25 19:28:22 2012\n# Hostname: \n# Files: tcpdump.txt\n# Overall: 1.16k total, 1 unique, 54.26 QPS, 0.01x concurrency ___________\n# Time range: 2012-09-25 19:18:41.060553 to 19:19:02.511825\n# Attribute          total     min     max     avg     95%  stddev  median\n# ============     ======= ======= ======= ======= ======= ======= =======\n# Exec time          113ms    28us   490us    96us   113us    15us    89us\n# Rows affecte           0       0       0       0       0       0       0\n# Query size        19.32k      17      17      17      17       0      17\n# Warning coun           0       0       0       0       0       0       0\n\n# Profile\n# Rank Query ID           Response time Calls R/Call Apdx V/M   Item\n# ==== ================== ============= ===== ====== ==== ===== ==========\n#    1 0x791C5370A1021F19 0.1128 100.0%  1164 0.0001 1.00  0.00 SHOW SLAVE STATUS\n\n# Query 1: 54.26 QPS, 0.01x concurrency, ID 0x791C5370A1021F19 at byte 3416555\n# This item is included in the report because it matches --limit.\n# Scores: Apdex = 1.00 [1.0], V/M = 0.00\n# Query_time sparkline: | ^_     |\n# Time range: 2012-09-25 19:18:41.060553 to 19:19:02.511825\n# Attribute    pct   total     min     max     avg     95%  stddev  median\n# ============ === ======= ======= ======= ======= ======= ======= =======\n# Count        100    1164\n# Exec time    100   113ms    28us   490us    96us   113us    15us    89us\n# Rows affecte   0       0       0       0       0       0       0       0\n# Query size   100  19.32k      17      17      17      17       0      17\n# Warning coun   0       0       0       0       0       0       0       0\n# String:\n# Errors       none\n# Hosts        \n# Query_time distribution\n#   1us\n#  10us  ################################################################\n# 100us  ####################################\n#   1ms\n#  10ms\n# 100ms\n#    1s\n#  10s+\nSHOW SLAVE STATUS\\G\n\n\nI don't think it should be running \"SHOW SLAVE STATUS\" 55 times per second.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056507/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-archiver --check-slave-lag agressiveness", 
"title": "Bug #1056507 in Percona Toolkit: \"pt-archiver --check-slave-lag agressiveness\"", 
"date_confirmed": "2012-10-02T21:46:56.591974+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1056507", 
"date_left_new": "2012-10-02T21:46:56.591974+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1056507", 
"milestone_link": null, 
"http_etag": "\"96c5208b48a965de94120e8180ebbf73217230b6-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~jnicol", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1056507", 
"date_created": "2012-09-25T23:34:10.441507+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-archiver", 
"replication-lag", 
"useless-work"
]
}, 
{
"date_closed": "2012-09-27T15:29:32.603047+00:00", 
"status": "Opinion", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": "https://api.launchpad.net/devel/~ignacio-nin", 
"date_triaged": null, 
"bug_id": 1057233, 
"date_in_progress": null, 
"bug_description": "When install percona took kit rpm, the dependencies reference the mysql group, which on RHLE thats mysql 5.0.95, ugh.\n\n[XXXXX]# yum install percona-toolkit.noarch\nLoaded plugins: rhnplugin, security\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package percona-toolkit.noarch 0:2.1.4-1 set to be updated\n--> Processing Dependency: perl(DBD::mysql) >= 1.0 for package: percona-toolkit\n--> Processing Dependency: perl(DBI) >= 1.13 for package: percona-toolkit\n--> Processing Dependency: perl(IO::Socket::SSL) for package: percona-toolkit\n--> Running transaction check\n---> Package perl-DBD-MySQL.x86_64 0:3.0007-2.el5 set to be updated\n--> Processing Dependency: libmysqlclient.so.15(libmysqlclient_15)(64bit) for package: perl-DBD-MySQL\n--> Processing Dependency: libmysqlclient.so.15()(64bit) for package: perl-DBD-MySQL\n---> Package perl-DBI.x86_64 0:1.52-2.el5 set to be updated\n---> Package perl-IO-Socket-SSL.noarch 0:1.01-1.fc6 set to be updated\n--> Processing Dependency: perl(Net::SSLeay) >= 1.21 for package: perl-IO-Socket-SSL\n--> Running transaction check\n---> Package mysql.x86_64 0:5.0.95-1.el5_7.1 set to be updated\n---> Package perl-Net-SSLeay.x86_64 0:1.30-4.fc6 set to be updated\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n=============================================================================================================================================================================================================================================\n Package                                                     Arch                                            Version                                                     Repository                                                     Size\n=============================================================================================================================================================================================================================================\nInstalling:\n percona-toolkit                                             noarch                                          2.1.4-1                                                     percona                                                       1.7 M\nInstalling for dependencies:\n mysql                                                       x86_64                                          5.0.95-1.el5_7.1                                            rhel-x86_64-server-5                                          4.9 M\n perl-DBD-MySQL                                              x86_64                                          3.0007-2.el5                                                rhel-x86_64-server-5                                          147 k\n perl-DBI                                                    x86_64                                          1.52-2.el5                                                  rhel-x86_64-server-5                                          605 k\n perl-IO-Socket-SSL                                          noarch                                          1.01-1.fc6                                                  rhel-x86_64-server-5                                           49 k\n perl-Net-SSLeay                                             x86_64                                          1.30-4.fc6                                                  rhel-x86_64-server-5                                          192 k\n\nTransaction Summary\n=============================================================================================================================================================================================================================================\nInstall       6 Package(s)\nUpgrade       0 Package(s)\n\n\nIf you try to go the other way, meaning install the percona server/client rpms first you get a conflict:\n\n[XXXX]# yum install Percona-Server-client-51\nLoaded plugins: rhnplugin, security\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package Percona-Server-client-51.x86_64 0:5.1.65-rel14.0.475.rhel5 set to be updated\n--> Finished Dependency Resolution\n\nDependencies Resolved\n\n=============================================================================================================================================================================================================================================\n Package                                                           Arch                                            Version                                                            Repository                                        Size\n=============================================================================================================================================================================================================================================\nInstalling:\n Percona-Server-client-51                                          x86_64                                          5.1.65-rel14.0.475.rhel5                                           percona                                          503 k\n\nTransaction Summary\n=============================================================================================================================================================================================================================================\nInstall       1 Package(s)\nUpgrade       0 Package(s)\n\nTotal download size: 503 k\nIs this ok [y/N]: y\nDownloading Packages:\nPercona-Server-client-51-5.1.65-rel14.0.475.rhel5.x86_64.rpm                                                                                                                                                          | 503 kB     00:00\nRunning rpm_check_debug\nRunning Transaction Test\nFinished Transaction Test\nTransaction Test Succeeded\nRunning Transaction\n  Installing     : Percona-Server-client-51                                                                                                                                                                                              1/1\n\nInstalled:\n  Percona-Server-client-51.x86_64 0:5.1.65-rel14.0.475.rhel5\n\nComplete!\n[XXXX]# yum install percona-toolkit.noarch\nLoaded plugins: rhnplugin, security\nSetting up Install Process\nResolving Dependencies\n--> Running transaction check\n---> Package percona-toolkit.noarch 0:2.1.4-1 set to be updated\n--> Processing Dependency: perl(DBD::mysql) >= 1.0 for package: percona-toolkit\n--> Processing Dependency: perl(DBI) >= 1.13 for package: percona-toolkit\n--> Processing Dependency: perl(IO::Socket::SSL) for package: percona-toolkit\n--> Running transaction check\n---> Package perl-DBD-MySQL.x86_64 0:3.0007-2.el5 set to be updated\n--> Processing Dependency: libmysqlclient.so.15(libmysqlclient_15)(64bit) for package: perl-DBD-MySQL\n--> Processing Dependency: libmysqlclient.so.15()(64bit) for package: perl-DBD-MySQL\n---> Package perl-DBI.x86_64 0:1.52-2.el5 set to be updated\n---> Package perl-IO-Socket-SSL.noarch 0:1.01-1.fc6 set to be updated\n--> Processing Dependency: perl(Net::SSLeay) >= 1.21 for package: perl-IO-Socket-SSL\n--> Running transaction check\n---> Package mysql.x86_64 0:5.0.95-1.el5_7.1 set to be updated\n---> Package perl-Net-SSLeay.x86_64 0:1.30-4.fc6 set to be updated\n--> Processing Conflict: mysql conflicts MySQL\n--> Finished Dependency Resolution\nmysql-5.0.95-1.el5_7.1.x86_64 from rhel-x86_64-server-5 has depsolving problems\n  --> mysql conflicts with Percona-Server-client-51\nError: mysql conflicts with Percona-Server-client-51\n You could try using --skip-broken to work around the problem\n You could try running: package-cleanup --problems\n                        package-cleanup --dupes\n                        rpm -Va --nofiles --nodigest\n\nI though this bug got fixed back in 2010, but maybe it never made it into the percona-toolkit rpm??", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1057233/related_tasks", 
"date_assigned": "2012-09-27T15:29:17.797216+00:00", 
"bug_information_type": "Public", 
"bug_title": "percona-toolkit rpm references mysql group", 
"title": "Bug #1057233 in Percona Toolkit: \"percona-toolkit rpm references mysql group\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1057233", 
"date_left_new": "2012-09-27T15:29:32.603047+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1057233", 
"milestone_link": null, 
"http_etag": "\"a4febb46366d959c72465145bf33705dda507300-5bd6b1a3a15a5460335fe32be30399ae51eda47c\"", 
"owner_link": "https://api.launchpad.net/devel/~djuntgen", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1057233", 
"date_created": "2012-09-27T01:22:20.931382+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"release"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-04T16:09:41.299802+00:00", 
"bug_id": 1060807, 
"date_in_progress": null, 
"bug_description": "pt-table-checksum stucks at certain table..\n\nIf the table is dropped the checksum is executed without problems\n\nThe table is empty.. Have tried to drop and create the table without inserting any rows - same issue\n\nSyntax:\npt-table-checksum -h localhost -u root -p password --lock-wait-time=50 --nocheck-replication-filters\n\nTable:\nCREATE TABLE IF NOT EXISTS `invoice_send_log` (\n  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,\n  `group_id` smallint(5) unsigned NOT NULL,\n  `time` int(10) unsigned NOT NULL,\n  `invoice_id` smallint(5) unsigned NOT NULL,\n  `email` varchar(50) NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `group_id` (`group_id`),\n  KEY `time` (`time`),\n  KEY `invoice_id` (`invoice_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060807/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-table-checksum stucks", 
"title": "Bug #1060807 in Percona Toolkit: \"pt-table-checksum stucks\"", 
"date_confirmed": "2012-10-04T16:09:41.299802+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1060807", 
"date_left_new": "2012-10-04T16:09:41.299802+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1060807", 
"milestone_link": null, 
"http_etag": "\"0475fcb79a3e1dbd906be24f5db15e2a7afabc99-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~clark-3", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060807", 
"date_created": "2012-10-03T08:55:12.157708+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-table-checksum"
]
}, 
{
"date_closed": "2012-10-04T16:12:57.190366+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1060814, 
"date_in_progress": null, 
"bug_description": "It would very nice if we could use pt-upgrade to generate a reference file that can be used afterwards without connecting to the reference box any more. \n\nSo let's capture data like usually, then it would be nice that pt-upgrade (with a certain option) creates a reference file with all the data it needs to perform the comparison like it does when it connect to a host (in this case it could connect to a host to generate that file).\nThe result is then a file that can be used to run pt-upgrade later to the same host or any other but instead of comparing two running hosts, it compares the result from the previous generated file and the result of playing the same (slow query) input to a running host.\n\nThat would be great to perform automated functional testing.\n\nCheers,", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060814/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-upgrade use a file as reference", 
"title": "Bug #1060814 in Percona Toolkit: \"pt-upgrade use a file as reference\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1060814", 
"date_left_new": "2012-10-04T16:12:57.190366+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1060814", 
"milestone_link": null, 
"http_etag": "\"dc13a9941db03b083f2f9dc3be76048a6b7de640-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~lefred", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1060814", 
"date_created": "2012-10-03T09:00:43.073509+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"pt-upgrade"
]
}, 
{
"date_closed": "2012-10-11T21:59:04.824630+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1061999, 
"date_in_progress": null, 
"bug_description": "using pt-online-schema-change version 2.1.4\n\npt-online-schema-change --alter \"ENGINE=InnoDB\" --execute D=dbname,t=mytable\n\nThe table has  eight-column primary key with 126 bytes, and no other indexes. Here is the error message.\n\nError copying rows from `dbname`.`mytable` to `dbname`.`_mytable_new`: Error copying rows at chunk 1 of dbname.mytable because MySQL used only 40 bytes of the PRIMARY index instead of 126.  See the --[no]check-plan documentation for more information.\n\nThe dry-run process completed without any errors.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1061999/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-online-schema-change errors out for large PK", 
"title": "Bug #1061999 in Percona Toolkit: \"pt-online-schema-change errors out for large PK\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1061999", 
"date_left_new": "2012-10-11T21:59:04.824630+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1061999", 
"milestone_link": null, 
"http_etag": "\"27d2407676500c440bba16dbe25ebfe125715fe9-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~java-jsps", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1061999", 
"date_created": "2012-10-05T02:31:57.375283+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"chunking", 
"mysql-bug", 
"pt-online-schema-change"
]
}, 
{
"date_closed": null, 
"status": "Triaged", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": "2012-10-11T22:02:33.661486+00:00", 
"bug_id": 1063876, 
"date_in_progress": null, 
"bug_description": "pt-find  Ver 2.1.4\n\nOn the pt-find page there is this example in the SYNOPSIS section.\n\n  pt-find --noquote --exec \"INSERT INTO sysdata.tblsize(db, tbl, size) VALUES('%D', '%N', %T)\"\n\nWhen extending this to insert more of the available columns, such as the auto_increment column.\n\n  pt-find --noquote --exec \"INSERT INTO sysdata.tblsize(db, tbl, size, auto_increment) VALUES('%D', '%N', %T, %a)\"\n\nYou will get a sql syntax error for tables that don't contain an auto_increment column, because %a is replaced with a blank.\n\nI propose a --[no]nulls option that will allow you to control what is replace in the case of a NULL value.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063876/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "pt-find needs option to keep nulls", 
"title": "Bug #1063876 in Percona Toolkit: \"pt-find needs option to keep nulls\"", 
"date_confirmed": "2012-10-11T22:02:33.661486+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1063876", 
"date_left_new": "2012-10-11T22:02:33.661486+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1063876", 
"milestone_link": null, 
"http_etag": "\"ad903e63ae60be1282fb6167fe01fbf4214dccf9-97a1b8598bfa4679215c96c96c0095d61e70e461\"", 
"owner_link": "https://api.launchpad.net/devel/~joegrasse", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1063876", 
"date_created": "2012-10-08T15:53:24.480769+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"pt-find"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1064057, 
"date_in_progress": null, 
"bug_description": "To replicate:\n1) Load some nodes with wsrep-replicate-myisam.\n2) Load sakila-db (or the attached test case) on one node\n3) Check that sakila.film_text has data on that node\n\nAt this point, film_text will be empty on the other nodes, and their error logs will have entries like\n\n121008 17:13:41 [ERROR] Slave SQL: Error 'Unknown column 'new.film_id' in 'field list'' on query. Default database: 'sakila'. Query: 'INSERT INTO film_text (film_id, title, description)\n        VALUES (new.film_id, new.title, new.description)', Error_code: 1054\n121008 17:13:41 [Warning] WSREP: RBR event 1 Query apply warning: 1, 35\n121008 17:13:41 [Warning] WSREP: Ignoring error for TO isolated action: source: 91dec4df-1184-11e2-0800-004c682044c6 version: 2 local: 0 state: APPLYING flags: 65 conn_id: 7 trx_id: -1 seqnos (l: 39, g: 35, s: 34, d: 34, ts: 1349727221123515580)", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064057/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "Triggers that modify MyISAM tables not working", 
"title": "Bug #1064057 in Percona Toolkit: \"Triggers that modify MyISAM tables not working\"", 
"date_confirmed": "2012-10-11T22:05:12.518612+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1064057", 
"date_left_new": "2012-10-11T22:05:12.518612+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1064057", 
"milestone_link": null, 
"http_etag": "\"a90e3f966a2ac69824bc5483709495ae5d0da22b-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~fraserbn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064057", 
"date_created": "2012-10-08T20:54:24.142738+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": [
"percona-xtradb-cluster", 
"triggers"
]
}, 
{
"date_closed": null, 
"status": "Confirmed", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1064482, 
"date_in_progress": null, 
"bug_description": "It would be interesting to identify which transaction is blocking another when performing a pt-stalk collection.\n\nResources:\n\nhttp://dev.mysql.com/doc/innodb/1.1/en/innodb-information-schema-examples.html\n\nSELECT r.trx_id waiting_trx_id,  \n       r.trx_mysql_thread_id waiting_thread,\n       r.trx_query waiting_query,\n       b.trx_id blocking_trx_id, \n       b.trx_mysql_thread_id blocking_thread,\n       b.trx_query blocking_query\n   FROM       information_schema.innodb_lock_waits w\n   INNER JOIN information_schema.innodb_trx b  ON  \n    b.trx_id = w.blocking_trx_id\n  INNER JOIN information_schema.innodb_trx r  ON  \n    r.trx_id = w.requesting_trx_id;", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064482/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "include collection of InnoDB locks and transactions as part of pt-stalk", 
"title": "Bug #1064482 in Percona Toolkit: \"include collection of InnoDB locks and transactions as part of pt-stalk\"", 
"date_confirmed": "2012-10-10T21:54:36.963887+00:00", 
"bug_link": "https://api.launchpad.net/devel/bugs/1064482", 
"date_left_new": "2012-10-10T21:54:36.963887+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1064482", 
"milestone_link": null, 
"http_etag": "\"a8f6edb6873f36991631558f24ac28e910f99943-cd88200e47e841f9efe5f9fd441e9346175f06f2\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1064482", 
"date_created": "2012-10-09T15:45:01.456771+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": false, 
"bug_tags": []
}, 
{
"date_closed": "2012-10-16T14:01:57.646752+00:00", 
"status": "Invalid", 
"bug_target_name": "percona-toolkit", 
"importance": "Undecided", 
"assignee_link": null, 
"date_triaged": null, 
"bug_id": 1066996, 
"date_in_progress": null, 
"bug_description": "[In:Percona Toolkit Documentation]\n\nhttp://www.percona.com/doc/percona-toolkit/2.1/pt-query-digest.html\n\nHi, in SYNOPSIS -> Usage section, the 4th code example:\n\n--filter '$event->{fingerprint} =~ m/^select/'\n\nI think it should say:\n\n--filter '$event->{fingerprint} =~ m/^select/i'\n\nThis would make it more consistent with the same example shown later on the page.", 
"target_link": "https://api.launchpad.net/devel/percona-toolkit", 
"bug_target_display_name": "Percona Toolkit", 
"related_tasks_collection_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1066996/related_tasks", 
"date_assigned": null, 
"bug_information_type": "Public", 
"bug_title": "[DOC] pt-query-digest --filter example does case sensitive search", 
"title": "Bug #1066996 in Percona Toolkit: \"[DOC] pt-query-digest --filter example does case sensitive search\"", 
"date_confirmed": null, 
"bug_link": "https://api.launchpad.net/devel/bugs/1066996", 
"date_left_new": "2012-10-16T14:01:57.646752+00:00", 
"bug_watch_link": null, 
"web_link": "https://bugs.launchpad.net/percona-toolkit/+bug/1066996", 
"milestone_link": null, 
"http_etag": "\"7bea6b3057edfd058d4c9973f34844bead0e76c5-4469342a0330224536e597250dfe668d31f90b62\"", 
"owner_link": "https://api.launchpad.net/devel/~michaelcoburn", 
"date_left_closed": null, 
"date_incomplete": null, 
"date_fix_committed": null, 
"date_fix_released": null, 
"self_link": "https://api.launchpad.net/devel/percona-toolkit/+bug/1066996", 
"date_created": "2012-10-15T17:54:36.808431+00:00", 
"resource_type_link": "https://api.launchpad.net/devel/#bug_task", 
"is_complete": true, 
"bug_tags": [
"docs", 
"pt-query-digest"
]
}
], 
"date_retrieved": "2012-10-17 12:38:07.697341+00:00"
}